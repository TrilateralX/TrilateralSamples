// Generated by Haxe 4.3.0-rc.1+88ebbd0
(function ($hx_exports, $global) { "use strict";
$hx_exports["hxGeomAlgo"] = $hx_exports["hxGeomAlgo"] || {};
$hx_exports["hxGeomAlgo"]["_HxPoint"] = $hx_exports["hxGeomAlgo"]["_HxPoint"] || {};
var $estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
Math.__name__ = true;
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
var kitGL_glWeb_Ply = function(width_,height_) {
	this.vertexColor = "vertexColor";
	this.vertexPosition = "vertexPosition";
	this.width = width_;
	this.height = height_;
	var mainSheet = new kitGL_glWeb_Sheet();
	mainSheet.create(this.width,this.height,true);
	this.gl = mainSheet.gl;
	var gl = this.gl;
	var program = gl.createProgram();
	var shader = gl.createShader(35633);
	gl.shaderSource(shader,"attribute vec3 vertexPosition;" + "attribute vec4 vertexColor;" + "varying vec4 vcol;" + "void main(void) {" + " gl_Position = vec4(vertexPosition, 1.0);" + " vcol = vertexColor;" + "}");
	gl.compileShader(shader);
	var tmp;
	if(!gl.getShaderParameter(shader,35713)) {
		throw haxe_Exception.thrown("Error compiling shader. " + gl.getShaderInfoLog(shader));
	} else {
		tmp = shader;
	}
	gl.attachShader(program,tmp);
	var shader = gl.createShader(35632);
	gl.shaderSource(shader,"precision mediump float;" + "varying vec4 vcol;" + "void main(void) {" + " gl_FragColor = vcol;" + "}");
	gl.compileShader(shader);
	var tmp;
	if(!gl.getShaderParameter(shader,35713)) {
		throw haxe_Exception.thrown("Error compiling shader. " + gl.getShaderInfoLog(shader));
	} else {
		tmp = shader;
	}
	gl.attachShader(program,tmp);
	gl.linkProgram(program);
	var tmp;
	if(!gl.getProgramParameter(program,35714)) {
		throw haxe_Exception.thrown("Error linking program. " + gl.getProgramInfoLog(program));
	} else {
		gl.validateProgram(program);
		if(!gl.getProgramParameter(program,35715)) {
			throw haxe_Exception.thrown("Error validating program. " + gl.getProgramInfoLog(program));
		} else {
			gl.useProgram(program);
			tmp = program;
		}
	}
	this.programColor = tmp;
	this.draw();
	var gl = this.gl;
	var program = this.programColor;
	var data = this.dataGLcolor.get_data();
	var xyzName = this.vertexPosition;
	var rgbaName = this.vertexColor;
	var isDynamic = true;
	if(isDynamic == null) {
		isDynamic = false;
	}
	var isDynamic1 = isDynamic;
	if(isDynamic1 == null) {
		isDynamic1 = false;
	}
	var buf = gl.createBuffer();
	var staticDraw = 35044;
	var dynamicDraw = 35048;
	var arrayBuffer = 34962;
	gl.bindBuffer(arrayBuffer,buf);
	if(isDynamic1) {
		var arrayBuffer = 34962;
		gl.bufferData(arrayBuffer,data,dynamicDraw);
	} else {
		var arrayBuffer = 34962;
		gl.bufferData(arrayBuffer,data,staticDraw);
	}
	var vbo = buf;
	var inp = gl.getAttribLocation(program,xyzName);
	var elementBytes = 4;
	var fp = 5126;
	var strideBytes = 7 * elementBytes;
	var offBytes = 0 * elementBytes;
	gl.vertexAttribPointer(inp,3,fp,false,strideBytes,offBytes);
	gl.enableVertexAttribArray(inp);
	var inp = gl.getAttribLocation(program,rgbaName);
	var elementBytes = 4;
	var fp = 5126;
	var strideBytes = 7 * elementBytes;
	var offBytes = 3 * elementBytes;
	gl.vertexAttribPointer(inp,4,fp,false,strideBytes,offBytes);
	gl.enableVertexAttribArray(inp);
	this.bufColor = vbo;
	var _gthis = this;
	if(kitGL_glWeb_AnimateTimer.s == null) {
		kitGL_glWeb_AnimateTimer.s = window.document.createElement("style");
		kitGL_glWeb_AnimateTimer.s.innerHTML = "@keyframes spin { from { transform:rotate( 0deg ); } to { transform:rotate( 360deg ); } }";
		window.document.getElementsByTagName("head")[0].appendChild(kitGL_glWeb_AnimateTimer.s);
		kitGL_glWeb_AnimateTimer.s.animation = "spin 1s linear infinite";
		kitGL_glWeb_AnimateTimer.loop(60.0);
	}
	kitGL_glWeb_AnimateTimer.onFrame = function(v) {
		var gl = _gthis.gl;
		var width = _gthis.width;
		var height = _gthis.height;
		gl.clearColor(0.5,0.0,0.5,0.9);
		gl.enable(2929);
		gl.clear(16384);
		gl.viewport(0,0,width,height);
		gl.enable(3042);
		gl.blendFunc(1,771);
		gl.enable(2929);
		_gthis.gl.bindBuffer(34962,_gthis.bufColor);
		_gthis.renderDraw();
	};
};
kitGL_glWeb_Ply.__name__ = true;
kitGL_glWeb_Ply.prototype = {
	draw: function() {
	}
	,drawAll: function() {
		this.gl.bufferSubData(34962,0,this.dataGLcolor.get_data());
		this.gl.useProgram(this.programColor);
		this.gl.drawArrays(4,0,this.dataGLcolor.get_size());
	}
	,renderDraw: function() {
	}
};
var TrilateralLines = function(width,height) {
	this.scaleY = 2.5;
	this.scaleX = 2.5;
	this.dy = 100;
	this.dx = 200;
	this.penNodule = new trilateral3_nodule_PenColor();
	kitGL_glWeb_Ply.call(this,width,height);
};
TrilateralLines.__name__ = true;
TrilateralLines.__super__ = kitGL_glWeb_Ply;
TrilateralLines.prototype = $extend(kitGL_glWeb_Ply.prototype,{
	draw: function() {
		this.dataGLcolor = { get_data : ($_=this.penNodule,$bind($_,$_.get_data)), get_size : ($_=this.penNodule,$bind($_,$_.get_size))};
		this.pen = this.penNodule.pen;
		var sketch = new trilateral3_drawing_Sketch(this.pen,2,0);
		sketch.width = 1.7;
		var shapes = [TrilateralLines_shape1,TrilateralLines_shape2,TrilateralLines_shape3,TrilateralLines_shape4,TrilateralLines_shape5,TrilateralLines_shape6,TrilateralLines_shape7,TrilateralLines_shape8,TrilateralLines_shape9,TrilateralLines_shape10,TrilateralLines_shape11,TrilateralLines_shape12,TrilateralLines_shape13,TrilateralLines_shape14,TrilateralLines_shape15,TrilateralLines_shape16,TrilateralLines_shape17,TrilateralLines_shape18,TrilateralLines_shape19,TrilateralLines_shape20,TrilateralLines_shape21,TrilateralLines_shape22];
		this.pen.currentColor = -65536;
		var _g = 0;
		while(_g < shapes.length) {
			var si = shapes[_g];
			++_g;
			sketch.moveTo(this.dx + si[0] * this.scaleX,this.dy + 500 * this.scaleY - si[1] * this.scaleY);
			var _g1 = 1;
			var _g2 = Math.round(si.length / 2);
			while(_g1 < _g2) {
				var i = _g1++;
				var x_ = this.dx + si[i * 2] * this.scaleX;
				var y_ = this.dy + 500 * this.scaleY - si[i * 2 + 1] * this.scaleY;
				var repeat = sketch.x == x_ && sketch.y == y_;
				if(!repeat) {
					if(sketch.widthFunction != null) {
						sketch.width = sketch.widthFunction(sketch.width,sketch.x,sketch.y,x_,y_);
					}
					if(sketch.colourFunction != null) {
						sketch.pen.currentColor = sketch.colourFunction(sketch.pen.currentColor,sketch.x,sketch.y,x_,y_);
					}
					sketch.line(x_,y_);
					var l = sketch.points.length;
					var p = sketch.points[l - 1];
					var l2 = p.length;
					p[l2] = x_;
					p[l2 + 1] = y_;
					var d = sketch.dim[sketch.dim.length - 1];
					if(x_ < d.minX) {
						d.minX = x_;
					}
					if(x_ > d.maxX) {
						d.maxX = x_;
					}
					if(y_ < d.minY) {
						d.minY = y_;
					}
					if(y_ > d.maxY) {
						d.maxY = y_;
					}
					sketch.x = x_;
					sketch.y = y_;
				}
			}
		}
		this.drawAll();
	}
});
function TrilateralLines_main() {
	new TrilateralLines(1000,1000);
	var divertTrace = new kitGL_glWeb_DivertTrace();
	haxe_Log.trace("TrilateralLines example",{ fileName : "TrilateralLines.hx", lineNumber : 27, className : "_TrilateralLines.TrilateralLines_Fields_", methodName : "main"});
}
var dsHelper_flat_io_Float32Flat = {};
dsHelper_flat_io_Float32Flat.get_size = function(this1) {
	return this1[1] | 0;
};
dsHelper_flat_io_Float32Flat.set_size = function(this1,id) {
	var pos_ = id;
	this1[0] = pos_;
	if(this1[0] > this1[1] - 1) {
		this1[1] = this1[0];
	}
	return id;
};
var dsHelper_flat_io_Float32FlatDepth = {};
dsHelper_flat_io_Float32FlatDepth.rangeToEnd = function(this1,starting,totalLen,section) {
	var ending = starting + totalLen;
	var temp = [];
	var count = 0;
	var _g = starting;
	var _g1 = ending;
	while(_g < _g1) {
		var i = _g++;
		temp[count++] = this1[i + 2];
	}
	var left = section * dsHelper_flat_io_Float32Flat.get_size(this1) - ending;
	var _g = 0;
	var _g1 = left;
	while(_g < _g1) {
		var i = _g++;
		var v = this1[ending + i + 2];
		this1[starting + i + 2] = v;
	}
	var last = section * dsHelper_flat_io_Float32Flat.get_size(this1);
	var reserveTop = last - totalLen;
	count = 0;
	var _g = reserveTop;
	var _g1 = last;
	while(_g < _g1) {
		var i = _g++;
		var v = temp[count++];
		this1[i + 2] = v;
	}
	temp = null;
	return true;
};
var dsHelper_flatInterleave_FloatColorTriangles = {};
dsHelper_flatInterleave_FloatColorTriangles.get_ax = function(this1) {
	return this1[(this1[0] | 0) * 21 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_ax = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_ay = function(this1) {
	return this1[(this1[0] | 0) * 21 + 1 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_ay = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 1 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_az = function(this1) {
	return this1[(this1[0] | 0) * 21 + 2 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_az = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 2 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_redA = function(this1) {
	return this1[(this1[0] | 0) * 21 + 3 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_redA = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 3 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_bx = function(this1) {
	return this1[(this1[0] | 0) * 21 + 7 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_bx = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 7 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_by = function(this1) {
	return this1[(this1[0] | 0) * 21 + 8 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_by = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 8 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_bz = function(this1) {
	return this1[(this1[0] | 0) * 21 + 9 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_bz = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 9 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_redB = function(this1) {
	return this1[(this1[0] | 0) * 21 + 10 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_redB = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 10 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_cx = function(this1) {
	return this1[(this1[0] | 0) * 21 + 14 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_cx = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 14 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_cy = function(this1) {
	return this1[(this1[0] | 0) * 21 + 15 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_cy = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 15 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_cz = function(this1) {
	return this1[(this1[0] | 0) * 21 + 16 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_cz = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 16 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.get_redC = function(this1) {
	return this1[(this1[0] | 0) * 21 + 17 + 2];
};
dsHelper_flatInterleave_FloatColorTriangles.set_redC = function(this1,v) {
	this1[(this1[0] | 0) * 21 + 17 + 2] = v;
	return v;
};
dsHelper_flatInterleave_FloatColorTriangles.triangle = function(this1,ax_,ay_,az_,bx_,by_,bz_,cx_,cy_,cz_) {
	dsHelper_flatInterleave_FloatColorTriangles.set_ax(this1,ax_);
	dsHelper_flatInterleave_FloatColorTriangles.set_ay(this1,ay_);
	dsHelper_flatInterleave_FloatColorTriangles.set_az(this1,az_);
	dsHelper_flatInterleave_FloatColorTriangles.set_bx(this1,bx_);
	dsHelper_flatInterleave_FloatColorTriangles.set_by(this1,by_);
	dsHelper_flatInterleave_FloatColorTriangles.set_bz(this1,bz_);
	dsHelper_flatInterleave_FloatColorTriangles.set_cx(this1,cx_);
	dsHelper_flatInterleave_FloatColorTriangles.set_cy(this1,cy_);
	dsHelper_flatInterleave_FloatColorTriangles.set_cz(this1,cz_);
	var windingAdjusted = dsHelper_flatInterleave_FloatColorTriangles.adjustWinding(this1);
	if(windingAdjusted) {
		dsHelper_flatInterleave_FloatColorTriangles.set_ax(this1,ax_);
		dsHelper_flatInterleave_FloatColorTriangles.set_ay(this1,ay_);
		dsHelper_flatInterleave_FloatColorTriangles.set_bx(this1,cx_);
		dsHelper_flatInterleave_FloatColorTriangles.set_by(this1,cy_);
		dsHelper_flatInterleave_FloatColorTriangles.set_cx(this1,bx_);
		dsHelper_flatInterleave_FloatColorTriangles.set_cy(this1,by_);
	}
	return windingAdjusted;
};
dsHelper_flatInterleave_FloatColorTriangles.adjustWinding = function(this1) {
	return dsHelper_flatInterleave_FloatColorTriangles.get_ax(this1) * dsHelper_flatInterleave_FloatColorTriangles.get_by(this1) - dsHelper_flatInterleave_FloatColorTriangles.get_bx(this1) * dsHelper_flatInterleave_FloatColorTriangles.get_ay(this1) + (dsHelper_flatInterleave_FloatColorTriangles.get_bx(this1) * dsHelper_flatInterleave_FloatColorTriangles.get_cy(this1) - dsHelper_flatInterleave_FloatColorTriangles.get_cx(this1) * dsHelper_flatInterleave_FloatColorTriangles.get_by(this1)) + (dsHelper_flatInterleave_FloatColorTriangles.get_cx(this1) * dsHelper_flatInterleave_FloatColorTriangles.get_ay(this1) - dsHelper_flatInterleave_FloatColorTriangles.get_ax(this1) * dsHelper_flatInterleave_FloatColorTriangles.get_cy(this1)) > 0;
};
dsHelper_flatInterleave_FloatColorTriangles.moveDelta = function(this1,dx,dy) {
	dsHelper_flatInterleave_FloatColorTriangles.set_ax(this1,dsHelper_flatInterleave_FloatColorTriangles.get_ax(this1) + dx);
	dsHelper_flatInterleave_FloatColorTriangles.set_ay(this1,dsHelper_flatInterleave_FloatColorTriangles.get_ay(this1) + dy);
	dsHelper_flatInterleave_FloatColorTriangles.set_bx(this1,dsHelper_flatInterleave_FloatColorTriangles.get_bx(this1) + dx);
	dsHelper_flatInterleave_FloatColorTriangles.set_by(this1,dsHelper_flatInterleave_FloatColorTriangles.get_by(this1) + dy);
	dsHelper_flatInterleave_FloatColorTriangles.set_cx(this1,dsHelper_flatInterleave_FloatColorTriangles.get_cx(this1) + dx);
	dsHelper_flatInterleave_FloatColorTriangles.set_cy(this1,dsHelper_flatInterleave_FloatColorTriangles.get_cy(this1) + dy);
};
dsHelper_flatInterleave_FloatColorTriangles.fullHit = function(this1,px,py) {
	if(px > Math.min(Math.min(dsHelper_flatInterleave_FloatColorTriangles.get_ax(this1),dsHelper_flatInterleave_FloatColorTriangles.get_bx(this1)),dsHelper_flatInterleave_FloatColorTriangles.get_cx(this1)) && px < Math.max(Math.max(dsHelper_flatInterleave_FloatColorTriangles.get_ax(this1),dsHelper_flatInterleave_FloatColorTriangles.get_bx(this1)),dsHelper_flatInterleave_FloatColorTriangles.get_cx(this1)) && py > Math.min(Math.min(dsHelper_flatInterleave_FloatColorTriangles.get_ay(this1),dsHelper_flatInterleave_FloatColorTriangles.get_by(this1)),dsHelper_flatInterleave_FloatColorTriangles.get_cy(this1)) && py < Math.max(Math.max(dsHelper_flatInterleave_FloatColorTriangles.get_ay(this1),dsHelper_flatInterleave_FloatColorTriangles.get_by(this1)),dsHelper_flatInterleave_FloatColorTriangles.get_cy(this1))) {
		return true;
	}
	var planeAB = (dsHelper_flatInterleave_FloatColorTriangles.get_ax(this1) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_by(this1) - py) - (dsHelper_flatInterleave_FloatColorTriangles.get_bx(this1) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_ay(this1) - py);
	var planeBC = (dsHelper_flatInterleave_FloatColorTriangles.get_bx(this1) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_cy(this1) - py) - (dsHelper_flatInterleave_FloatColorTriangles.get_cx(this1) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_by(this1) - py);
	var planeCA = (dsHelper_flatInterleave_FloatColorTriangles.get_cx(this1) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_ay(this1) - py) - (dsHelper_flatInterleave_FloatColorTriangles.get_ax(this1) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_cy(this1) - py);
	if((Math.abs(planeAB) / planeAB | 0) == (Math.abs(planeBC) / planeBC | 0)) {
		return (Math.abs(planeBC) / planeBC | 0) == (Math.abs(planeCA) / planeCA | 0);
	} else {
		return false;
	}
};
var fracs_DifferencePreference = $hxEnums["fracs.DifferencePreference"] = { __ename__:"fracs.DifferencePreference",__constructs__:null
	,CLOCKWISE: {_hx_name:"CLOCKWISE",_hx_index:0,__enum__:"fracs.DifferencePreference",toString:$estr}
	,ANTICLOCKWISE: {_hx_name:"ANTICLOCKWISE",_hx_index:1,__enum__:"fracs.DifferencePreference",toString:$estr}
	,SMALL: {_hx_name:"SMALL",_hx_index:2,__enum__:"fracs.DifferencePreference",toString:$estr}
	,LARGE: {_hx_name:"LARGE",_hx_index:3,__enum__:"fracs.DifferencePreference",toString:$estr}
};
fracs_DifferencePreference.__constructs__ = [fracs_DifferencePreference.CLOCKWISE,fracs_DifferencePreference.ANTICLOCKWISE,fracs_DifferencePreference.SMALL,fracs_DifferencePreference.LARGE];
var haxe_Exception = function(message,previous,native) {
	Error.call(this,message);
	this.message = message;
	this.__previousException = previous;
	this.__nativeException = native != null ? native : this;
};
haxe_Exception.__name__ = true;
haxe_Exception.thrown = function(value) {
	if(((value) instanceof haxe_Exception)) {
		return value.get_native();
	} else if(((value) instanceof Error)) {
		return value;
	} else {
		var e = new haxe_ValueException(value);
		return e;
	}
};
haxe_Exception.__super__ = Error;
haxe_Exception.prototype = $extend(Error.prototype,{
	get_native: function() {
		return this.__nativeException;
	}
});
var haxe_Log = function() { };
haxe_Log.__name__ = true;
haxe_Log.formatOutput = function(v,infos) {
	var str = Std.string(v);
	if(infos == null) {
		return str;
	}
	var pstr = infos.fileName + ":" + infos.lineNumber;
	if(infos.customParams != null) {
		var _g = 0;
		var _g1 = infos.customParams;
		while(_g < _g1.length) {
			var v = _g1[_g];
			++_g;
			str += ", " + Std.string(v);
		}
	}
	return pstr + ": " + str;
};
haxe_Log.trace = function(v,infos) {
	var str = haxe_Log.formatOutput(v,infos);
	if(typeof(console) != "undefined" && console.log != null) {
		console.log(str);
	}
};
var haxe_ValueException = function(value,previous,native) {
	haxe_Exception.call(this,String(value),previous,native);
	this.value = value;
};
haxe_ValueException.__name__ = true;
haxe_ValueException.__super__ = haxe_Exception;
haxe_ValueException.prototype = $extend(haxe_Exception.prototype,{
});
var haxe_ds_Either = $hxEnums["haxe.ds.Either"] = { __ename__:"haxe.ds.Either",__constructs__:null
	,Left: ($_=function(v) { return {_hx_index:0,v:v,__enum__:"haxe.ds.Either",toString:$estr}; },$_._hx_name="Left",$_.__params__ = ["v"],$_)
	,Right: ($_=function(v) { return {_hx_index:1,v:v,__enum__:"haxe.ds.Either",toString:$estr}; },$_._hx_name="Right",$_.__params__ = ["v"],$_)
};
haxe_ds_Either.__constructs__ = [haxe_ds_Either.Left,haxe_ds_Either.Right];
var haxe_iterators_ArrayIterator = function(array) {
	this.current = 0;
	this.array = array;
};
haxe_iterators_ArrayIterator.__name__ = true;
haxe_iterators_ArrayIterator.prototype = {
	hasNext: function() {
		return this.current < this.array.length;
	}
	,next: function() {
		return this.array[this.current++];
	}
};
var hxGeomAlgo_HomogCoord = function(x,y,w) {
	if(w == null) {
		w = 1;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
	this.w = w;
};
hxGeomAlgo_HomogCoord.__name__ = true;
var hxGeomAlgo_HxPointData = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
};
hxGeomAlgo_HxPointData.__name__ = true;
var hxGeomAlgo_HxPoint = $hx_exports["hxGeomAlgo"]["HxPoint"] = {};
hxGeomAlgo_HxPoint.get_x = function(this1) {
	return this1.x;
};
hxGeomAlgo_HxPoint.set_x = function(this1,value) {
	return this1.x = value;
};
hxGeomAlgo_HxPoint.get_y = function(this1) {
	return this1.y;
};
hxGeomAlgo_HxPoint.set_y = function(this1,value) {
	return this1.y = value;
};
hxGeomAlgo_HxPoint._new = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	var this1 = new hxGeomAlgo_HxPointData(x,y);
	return this1;
};
hxGeomAlgo_HxPoint.setTo = function(this1,newX,newY) {
	this1.x = newX;
	this1.y = newY;
};
hxGeomAlgo_HxPoint.equals = function(this1,p) {
	if(p != null && this1.x == p.x) {
		return this1.y == p.y;
	} else {
		return false;
	}
};
hxGeomAlgo_HxPoint.clone = function(this1) {
	return hxGeomAlgo_HxPoint._new(this1.x,this1.y);
};
hxGeomAlgo_HxPoint.toString = function(this1) {
	return "(" + this1.x + ", " + this1.y + ")";
};
hxGeomAlgo_HxPoint.fromPointStruct = function(p) {
	return hxGeomAlgo_HxPoint._new(p.x,p.y);
};
hxGeomAlgo_HxPoint.toPointStruct = function(this1) {
	return { x : this1.x, y : this1.y};
};
var hxGeomAlgo_PolyTools = $hx_exports["hxGeomAlgo"]["PolyTools"] = function() { };
hxGeomAlgo_PolyTools.__name__ = true;
hxGeomAlgo_PolyTools.isCCW = function(poly) {
	if(poly.length <= 2) {
		return true;
	}
	var signedArea = 0.;
	var _g = 0;
	var _g1 = poly.length;
	while(_g < _g1) {
		var i = _g++;
		var idx = i - 1;
		var idx1 = idx;
		var len = poly.length;
		if(idx1 < 0) {
			idx1 += len;
		}
		idx = idx1 % len;
		var idx2 = i - 1;
		var idx3 = idx2;
		var len1 = poly.length;
		if(idx3 < 0) {
			idx3 += len1;
		}
		idx2 = idx3 % len1;
		signedArea += poly[idx].x * poly[i].y - poly[i].x * poly[idx2].y;
	}
	return signedArea < 0;
};
hxGeomAlgo_PolyTools.isCW = function(poly) {
	if(poly.length <= 2) {
		return true;
	}
	var signedArea = 0.;
	var _g = 0;
	var _g1 = poly.length;
	while(_g < _g1) {
		var i = _g++;
		var idx = i - 1;
		var idx1 = idx;
		var len = poly.length;
		if(idx1 < 0) {
			idx1 += len;
		}
		idx = idx1 % len;
		var idx2 = i - 1;
		var idx3 = idx2;
		var len1 = poly.length;
		if(idx3 < 0) {
			idx3 += len1;
		}
		idx2 = idx3 % len1;
		signedArea += poly[idx].x * poly[i].y - poly[i].x * poly[idx2].y;
	}
	return signedArea > 0;
};
hxGeomAlgo_PolyTools.makeCCW = function(poly) {
	var reversed = false;
	if(!hxGeomAlgo_PolyTools.isCCW(poly)) {
		poly.reverse();
		reversed = true;
	}
	return reversed;
};
hxGeomAlgo_PolyTools.makeCW = function(poly) {
	var reversed = false;
	if(hxGeomAlgo_PolyTools.isCCW(poly)) {
		poly.reverse();
		reversed = true;
	}
	return reversed;
};
hxGeomAlgo_PolyTools.isConvex = function(poly) {
	var isPositive = null;
	var _g = 0;
	var _g1 = poly.length;
	while(_g < _g1) {
		var i = _g++;
		var lower = i == 0 ? poly.length - 1 : i - 1;
		var middle = i;
		var upper = i == poly.length - 1 ? 0 : i + 1;
		var dx0 = poly[middle].x - poly[lower].x;
		var dy0 = poly[middle].y - poly[lower].y;
		var dx1 = poly[upper].x - poly[middle].x;
		var dy1 = poly[upper].y - poly[middle].y;
		var cross = dx0 * dy1 - dx1 * dy0;
		var newIsPositive = cross > 0;
		if(cross == 0) {
			continue;
		}
		if(isPositive == null) {
			isPositive = newIsPositive;
		} else if(isPositive != newIsPositive) {
			return false;
		}
	}
	return true;
};
hxGeomAlgo_PolyTools.isSimple = function(poly) {
	var len = poly.length;
	if(len <= 3) {
		return true;
	}
	var _g = 0;
	var _g1 = len;
	while(_g < _g1) {
		var i = _g++;
		var p0 = i;
		var p1 = i == len - 1 ? 0 : i + 1;
		var _g2 = i + 1;
		var _g3 = len;
		while(_g2 < _g3) {
			var j = _g2++;
			var q0 = j;
			var q1 = j == len - 1 ? 0 : j + 1;
			var intersection = hxGeomAlgo_PolyTools.segmentIntersect(poly[p0],poly[p1],poly[q0],poly[q1]);
			var tmp;
			var tmp1;
			if(intersection != null) {
				var tmp2;
				var w = poly[p0];
				var x = intersection.x - w.x;
				var x1 = intersection.y - w.y;
				if(!(Math.sqrt(x * x + x1 * x1) < hxGeomAlgo_PolyTools.EPSILON)) {
					var w1 = poly[p1];
					var x2 = intersection.x - w1.x;
					var x3 = intersection.y - w1.y;
					tmp2 = Math.sqrt(x2 * x2 + x3 * x3) < hxGeomAlgo_PolyTools.EPSILON;
				} else {
					tmp2 = true;
				}
				tmp1 = !tmp2;
			} else {
				tmp1 = false;
			}
			if(tmp1) {
				var tmp3;
				var w2 = poly[q0];
				var x4 = intersection.x - w2.x;
				var x5 = intersection.y - w2.y;
				if(!(Math.sqrt(x4 * x4 + x5 * x5) < hxGeomAlgo_PolyTools.EPSILON)) {
					var w3 = poly[q1];
					var x6 = intersection.x - w3.x;
					var x7 = intersection.y - w3.y;
					tmp3 = Math.sqrt(x6 * x6 + x7 * x7) < hxGeomAlgo_PolyTools.EPSILON;
				} else {
					tmp3 = true;
				}
				tmp = !tmp3;
			} else {
				tmp = false;
			}
			if(tmp) {
				return false;
			}
		}
	}
	return true;
};
hxGeomAlgo_PolyTools.segmentIntersect = function(p0,p1,q0,q1) {
	var a1 = p1.y - p0.y;
	var b1 = p0.x - p1.x;
	var c1 = p1.x * p0.y - p0.x * p1.y;
	var a2 = q1.y - q0.y;
	var b2 = q0.x - q1.x;
	var c2 = q1.x * q0.y - q0.x * q1.y;
	var denom = a1 * b2 - a2 * b1;
	if(denom == 0) {
		return null;
	}
	var intersectionPoint = hxGeomAlgo_HxPoint._new();
	intersectionPoint.x = (b1 * c2 - b2 * c1) / denom;
	intersectionPoint.y = (a2 * c1 - a1 * c2) / denom;
	var x = p0.x - p1.x;
	var x1 = p0.y - p1.y;
	var p0p1 = x * x + x1 * x1;
	var x = q0.x - q1.x;
	var x1 = q0.y - q1.y;
	var q0q1 = x * x + x1 * x1;
	var x = intersectionPoint.x - p1.x;
	var x1 = intersectionPoint.y - p1.y;
	if(x * x + x1 * x1 > p0p1) {
		return null;
	}
	var x = intersectionPoint.x - p0.x;
	var x1 = intersectionPoint.y - p0.y;
	if(x * x + x1 * x1 > p0p1) {
		return null;
	}
	var x = intersectionPoint.x - q1.x;
	var x1 = intersectionPoint.y - q1.y;
	if(x * x + x1 * x1 > q0q1) {
		return null;
	}
	var x = intersectionPoint.x - q0.x;
	var x1 = intersectionPoint.y - q0.y;
	if(x * x + x1 * x1 > q0q1) {
		return null;
	}
	return intersectionPoint;
};
hxGeomAlgo_PolyTools.findDuplicatePoints = function(poly,consecutiveOnly,wrapAround) {
	if(wrapAround == null) {
		wrapAround = true;
	}
	if(consecutiveOnly == null) {
		consecutiveOnly = true;
	}
	var len = poly.length;
	if(len <= 1) {
		return [];
	}
	var dupIndices = [];
	var _g = 0;
	var _g1 = len - 1;
	while(_g < _g1) {
		var i = _g++;
		var j = i + 1;
		while(j < len) {
			var this1 = poly[i];
			var p = poly[j];
			var foundDup = p != null && this1.x == p.x && this1.y == p.y;
			if(foundDup) {
				dupIndices.push(i);
			}
			if(consecutiveOnly || foundDup && !consecutiveOnly) {
				break;
			}
			++j;
		}
	}
	var tmp;
	if(wrapAround && consecutiveOnly) {
		var this1 = poly[0];
		var p = poly[len - 1];
		tmp = p != null && this1.x == p.x && this1.y == p.y;
	} else {
		tmp = false;
	}
	if(tmp) {
		dupIndices.push(len - 1);
	}
	return dupIndices;
};
hxGeomAlgo_PolyTools.intersection = function(p1,p2,q1,q2) {
	var res = null;
	var a1 = p2.y - p1.y;
	var b1 = p1.x - p2.x;
	var c1 = a1 * p1.x + b1 * p1.y;
	var a2 = q2.y - q1.y;
	var b2 = q1.x - q2.x;
	var c2 = a2 * q1.x + b2 * q1.y;
	var det = a1 * b2 - a2 * b1;
	if(!(Math.abs(det) <= hxGeomAlgo_PolyTools.EPSILON)) {
		res = hxGeomAlgo_HxPoint._new();
		res.x = (b2 * c1 - b1 * c2) / det;
		res.y = (a1 * c2 - a2 * c1) / det;
	}
	return res;
};
hxGeomAlgo_PolyTools.isReflex = function(poly,idx) {
	var idx1 = idx - 1;
	var idx2 = idx1;
	var len = poly.length;
	if(idx2 < 0) {
		idx2 += len;
	}
	idx1 = idx2 % len;
	var p = poly[idx1];
	var idx1 = idx;
	var idx2 = idx1;
	var len = poly.length;
	if(idx2 < 0) {
		idx2 += len;
	}
	idx1 = idx2 % len;
	var a = poly[idx1];
	var idx1 = idx + 1;
	var idx = idx1;
	var len = poly.length;
	if(idx < 0) {
		idx += len;
	}
	idx1 = idx % len;
	var b = poly[idx1];
	return (a.x - p.x) * (b.y - p.y) - (b.x - p.x) * (a.y - p.y) < 0;
};
hxGeomAlgo_PolyTools.at = function(poly,idx) {
	var idx1 = idx;
	var len = poly.length;
	if(idx1 < 0) {
		idx1 += len;
	}
	idx = idx1 % len;
	return poly[idx];
};
hxGeomAlgo_PolyTools.wrappedIdx = function(poly,idx) {
	var len = poly.length;
	if(idx < 0) {
		idx += len;
	}
	return idx % len;
};
hxGeomAlgo_PolyTools.side = function(p,a,b) {
	return (a.x - p.x) * (b.y - p.y) - (b.x - p.x) * (a.y - p.y);
};
hxGeomAlgo_PolyTools.isLeft = function(p,a,b) {
	return (a.x - p.x) * (b.y - p.y) - (b.x - p.x) * (a.y - p.y) > 0;
};
hxGeomAlgo_PolyTools.isLeftOrOn = function(p,a,b) {
	return (a.x - p.x) * (b.y - p.y) - (b.x - p.x) * (a.y - p.y) >= 0;
};
hxGeomAlgo_PolyTools.isRight = function(p,a,b) {
	return (a.x - p.x) * (b.y - p.y) - (b.x - p.x) * (a.y - p.y) < 0;
};
hxGeomAlgo_PolyTools.isRightOrOn = function(p,a,b) {
	return (a.x - p.x) * (b.y - p.y) - (b.x - p.x) * (a.y - p.y) <= 0;
};
hxGeomAlgo_PolyTools.isCollinear = function(p,a,b) {
	return (a.x - p.x) * (b.y - p.y) - (b.x - p.x) * (a.y - p.y) == 0;
};
hxGeomAlgo_PolyTools.distance = function(v,w) {
	var x = v.x - w.x;
	var x1 = v.y - w.y;
	return Math.sqrt(x * x + x1 * x1);
};
hxGeomAlgo_PolyTools.distanceToSegment = function(p,v,w) {
	return Math.sqrt(hxGeomAlgo_PolyTools.distanceToSegmentSquared(p,v,w));
};
hxGeomAlgo_PolyTools.distanceSquared = function(v,w) {
	var x = v.x - w.x;
	var x1 = v.y - w.y;
	return x * x + x1 * x1;
};
hxGeomAlgo_PolyTools.distanceToSegmentSquared = function(p,v,w) {
	var x = v.x - w.x;
	var x1 = v.y - w.y;
	var l2 = x * x + x1 * x1;
	if(l2 == 0) {
		var x = p.x - v.x;
		var x1 = p.y - v.y;
		return x * x + x1 * x1;
	}
	var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;
	if(t < 0) {
		var x = p.x - v.x;
		var x1 = p.y - v.y;
		return x * x + x1 * x1;
	}
	if(t > 1) {
		var x = p.x - w.x;
		var x1 = p.y - w.y;
		return x * x + x1 * x1;
	}
	hxGeomAlgo_HxPoint.setTo(hxGeomAlgo_PolyTools.point,v.x + t * (w.x - v.x),v.y + t * (w.y - v.y));
	var w = hxGeomAlgo_PolyTools.point;
	var x = p.x - w.x;
	var x1 = p.y - w.y;
	return x * x + x1 * x1;
};
hxGeomAlgo_PolyTools.getCentroid = function(poly) {
	var c = hxGeomAlgo_HxPoint._new();
	var area = hxGeomAlgo_PolyTools.getArea(poly);
	if(area != 0) {
		var len = poly.length;
		var _g = 0;
		var _g1 = len;
		while(_g < _g1) {
			var i = _g++;
			var p0 = poly[i];
			var p1 = poly[(i + 1) % len];
			var m = p0.x * p1.y - p1.x * p0.y;
			c.x += (p0.x + p1.x) * m;
			c.y += (p0.y + p1.y) * m;
		}
		c.x /= 6 * area;
		c.y /= 6 * area;
	} else {
		c = hxGeomAlgo_HxPoint.EMPTY;
	}
	return c;
};
hxGeomAlgo_PolyTools.getArea = function(poly) {
	var area = 0.0;
	var len = poly.length;
	var _g = 0;
	var _g1 = len;
	while(_g < _g1) {
		var i = _g++;
		var p0 = poly[i];
		var p1 = poly[(i + 1) % len];
		area += p0.x * p1.y - p1.x * p0.y;
	}
	area = .5 * area;
	return area;
};
hxGeomAlgo_PolyTools.meet = function(p,q) {
	return new hxGeomAlgo_HomogCoord(p.y - q.y,q.x - p.x,p.x * q.y - p.y * q.x);
};
hxGeomAlgo_PolyTools.dot = function(p,q) {
	return p.x * q.x + p.y * q.y;
};
hxGeomAlgo_PolyTools.sqr = function(x) {
	return x * x;
};
hxGeomAlgo_PolyTools.eq = function(a,b) {
	return Math.abs(a - b) <= hxGeomAlgo_PolyTools.EPSILON;
};
hxGeomAlgo_PolyTools.clear = function(array) {
	array.length = 0;
};
hxGeomAlgo_PolyTools.toFloatArray = function(poly,out) {
	if(out == null) {
		out = [];
	}
	var _g = 0;
	while(_g < poly.length) {
		var p = poly[_g];
		++_g;
		out.push(p.x);
		out.push(p.y);
	}
	return out;
};
hxGeomAlgo_PolyTools.reverseFloatArray = function(poly,inPlace) {
	if(inPlace == null) {
		inPlace = false;
	}
	var res = inPlace ? poly : [];
	var nPoints = poly.length >> 1;
	var _g = 0;
	var _g1 = nPoints;
	while(_g < _g1) {
		var i = _g++;
		var xPos = (nPoints - i - 1) * 2;
		res[i * 2] = poly[xPos];
		res[i * 2 + 1] = poly[xPos + 1];
	}
	return res;
};
hxGeomAlgo_PolyTools.flatten = function(array,out) {
	var res = out != null ? out : [];
	var _g = 0;
	while(_g < array.length) {
		var arr = array[_g];
		++_g;
		var _g1 = 0;
		while(_g1 < arr.length) {
			var item = arr[_g1];
			++_g1;
			res.push(item);
		}
	}
	return res;
};
hxGeomAlgo_PolyTools.toPointArray = function(poly,out) {
	if(out == null) {
		out = [];
	}
	var size = poly.length;
	if(poly.length % 2 == 1) {
		--size;
	}
	var _g = 0;
	var _g1 = size >> 1;
	while(_g < _g1) {
		var i = _g++;
		out.push(hxGeomAlgo_HxPoint._new(poly[i * 2],poly[i * 2 + 1]));
	}
	return out;
};
hxGeomAlgo_PolyTools.inflateLine = function(start,end,thickness) {
	var halfWidth = thickness / 2;
	var dx = end.x - start.x;
	var dy = end.y - start.y;
	var len = Math.sqrt(dx * dx + dy * dy);
	var nx = dx / len * halfWidth;
	var ny = dy / len * halfWidth;
	return [hxGeomAlgo_HxPoint._new(start.x - ny,start.y + nx),hxGeomAlgo_HxPoint._new(end.x - ny,end.y + nx),hxGeomAlgo_HxPoint._new(end.x + ny,end.y - nx),hxGeomAlgo_HxPoint._new(start.x + ny,start.y - nx)];
};
hxGeomAlgo_PolyTools.clip = function(subjPoly,clipPoly) {
	var cond = clipPoly.length >= 3 && hxGeomAlgo_PolyTools.isConvex(clipPoly);
	var res = [];
	var output = subjPoly;
	var isInside = hxGeomAlgo_PolyTools.isCCW(clipPoly) ? hxGeomAlgo_PolyTools.isRight : hxGeomAlgo_PolyTools.isLeft;
	var clipEdgeStart;
	var clipEdgeEnd;
	var inputEdgeStart;
	var inputEdgeEnd;
	var clipLen = clipPoly.length;
	var i = 0;
	var _g = 0;
	var _g1 = clipLen;
	while(_g < _g1) {
		var i = _g++;
		clipEdgeStart = clipPoly[i];
		var idx = i + 1;
		var len = clipPoly.length;
		if(idx < 0) {
			idx += len;
		}
		clipEdgeEnd = clipPoly[idx % len];
		var input = output;
		output = [];
		inputEdgeStart = input[input.length - 1];
		var _g2 = 0;
		var _g3 = input.length;
		while(_g2 < _g3) {
			var j = _g2++;
			inputEdgeEnd = input[j];
			if(isInside(inputEdgeEnd,clipEdgeStart,clipEdgeEnd)) {
				if(!isInside(inputEdgeStart,clipEdgeStart,clipEdgeEnd)) {
					var intersectionPoint = hxGeomAlgo_PolyTools.intersection(inputEdgeStart,inputEdgeEnd,clipEdgeStart,clipEdgeEnd);
					if(intersectionPoint != null) {
						output.push(intersectionPoint);
					}
				}
				output.push(inputEdgeEnd);
			} else if(isInside(inputEdgeStart,clipEdgeStart,clipEdgeEnd)) {
				var intersectionPoint1 = hxGeomAlgo_PolyTools.intersection(inputEdgeStart,inputEdgeEnd,clipEdgeStart,clipEdgeEnd);
				if(intersectionPoint1 != null) {
					output.push(intersectionPoint1);
				}
			}
			inputEdgeStart = inputEdgeEnd;
		}
		res.push(output);
	}
	return res;
};
hxGeomAlgo_PolyTools.exposeEnum = function(enumClass,as) {
	var dotPath = (as != null ? as : enumClass.__ename__).split(".");
	var exports = $hx_exports;
	var i = 0;
	while(i < dotPath.length - 1) {
		var currPath = dotPath[i];
		exports[currPath] = exports[currPath] || { };
		exports = exports[currPath];
		++i;
	}
	exports[dotPath[i]] = enumClass;
};
var hxGeomAlgo_WindingRule = $hxEnums["hxGeomAlgo.WindingRule"] = { __ename__:"hxGeomAlgo.WindingRule",__constructs__:null
	,ODD: {_hx_name:"ODD",_hx_index:0,__enum__:"hxGeomAlgo.WindingRule",toString:$estr}
	,NON_ZERO: {_hx_name:"NON_ZERO",_hx_index:1,__enum__:"hxGeomAlgo.WindingRule",toString:$estr}
	,POSITIVE: {_hx_name:"POSITIVE",_hx_index:2,__enum__:"hxGeomAlgo.WindingRule",toString:$estr}
	,NEGATIVE: {_hx_name:"NEGATIVE",_hx_index:3,__enum__:"hxGeomAlgo.WindingRule",toString:$estr}
	,ABS_GEQ_TWO: {_hx_name:"ABS_GEQ_TWO",_hx_index:4,__enum__:"hxGeomAlgo.WindingRule",toString:$estr}
};
hxGeomAlgo_WindingRule.__constructs__ = [hxGeomAlgo_WindingRule.ODD,hxGeomAlgo_WindingRule.NON_ZERO,hxGeomAlgo_WindingRule.POSITIVE,hxGeomAlgo_WindingRule.NEGATIVE,hxGeomAlgo_WindingRule.ABS_GEQ_TWO];
var hxGeomAlgo_ResultType = $hxEnums["hxGeomAlgo.ResultType"] = { __ename__:"hxGeomAlgo.ResultType",__constructs__:null
	,POLYGONS: {_hx_name:"POLYGONS",_hx_index:0,__enum__:"hxGeomAlgo.ResultType",toString:$estr}
	,CONNECTED_POLYGONS: {_hx_name:"CONNECTED_POLYGONS",_hx_index:1,__enum__:"hxGeomAlgo.ResultType",toString:$estr}
	,BOUNDARY_CONTOURS: {_hx_name:"BOUNDARY_CONTOURS",_hx_index:2,__enum__:"hxGeomAlgo.ResultType",toString:$estr}
	,EXPERIMENTAL_DELAUNAY: {_hx_name:"EXPERIMENTAL_DELAUNAY",_hx_index:3,__enum__:"hxGeomAlgo.ResultType",toString:$estr}
};
hxGeomAlgo_ResultType.__constructs__ = [hxGeomAlgo_ResultType.POLYGONS,hxGeomAlgo_ResultType.CONNECTED_POLYGONS,hxGeomAlgo_ResultType.BOUNDARY_CONTOURS,hxGeomAlgo_ResultType.EXPERIMENTAL_DELAUNAY];
var hxGeomAlgo_Tess2 = $hx_exports["hxGeomAlgo"]["Tess2"] = function() { };
hxGeomAlgo_Tess2.__name__ = true;
hxGeomAlgo_Tess2.tesselate = function(contours,windingRule,resultType,polySize,vertexDim,normal) {
	if(vertexDim == null) {
		vertexDim = 2;
	}
	if(polySize == null) {
		polySize = 3;
	}
	var tess = new hxGeomAlgo_Tesselator();
	var _g = 0;
	var _g1 = contours.length;
	while(_g < _g1) {
		var i = _g++;
		tess.addContour(vertexDim,contours[i]);
	}
	tess.tesselate(windingRule == null ? hxGeomAlgo_WindingRule.ODD : windingRule,resultType == null ? hxGeomAlgo_ResultType.POLYGONS : resultType,polySize,vertexDim,normal == null ? [0,0,1] : normal);
	return { vertices : tess.vertices, vertexIndices : tess.vertexIndices, vertexCount : tess.vertexCount, elements : tess.elements, elementCount : tess.elementCount};
};
hxGeomAlgo_Tess2.union = function(contoursA,contoursB,resultType,polySize,vertexDim) {
	if(vertexDim == null) {
		vertexDim = 2;
	}
	if(polySize == null) {
		polySize = 3;
	}
	var contours = contoursA.concat(contoursB);
	return hxGeomAlgo_Tess2.tesselate(contours,hxGeomAlgo_WindingRule.NON_ZERO,resultType,polySize,vertexDim);
};
hxGeomAlgo_Tess2.intersection = function(contoursA,contoursB,resultType,polySize,vertexDim) {
	if(vertexDim == null) {
		vertexDim = 2;
	}
	if(polySize == null) {
		polySize = 3;
	}
	var contours = contoursA.concat(contoursB);
	return hxGeomAlgo_Tess2.tesselate(contours,hxGeomAlgo_WindingRule.ABS_GEQ_TWO,resultType,polySize,vertexDim);
};
hxGeomAlgo_Tess2.difference = function(contoursA,contoursB,resultType,polySize,vertexDim) {
	if(vertexDim == null) {
		vertexDim = 2;
	}
	if(polySize == null) {
		polySize = 3;
	}
	var _g = [];
	var _g1 = 0;
	while(_g1 < contoursB.length) {
		var poly = contoursB[_g1];
		++_g1;
		_g.push(hxGeomAlgo_PolyTools.reverseFloatArray(poly));
	}
	var diffB = _g;
	var contours = contoursA.concat(diffB);
	return hxGeomAlgo_Tess2.tesselate(contours,hxGeomAlgo_WindingRule.POSITIVE,resultType,polySize,vertexDim);
};
hxGeomAlgo_Tess2.convertResult = function(vertices,elements,resultType,polySize,out) {
	if(out == null) {
		out = [];
	}
	var tmp = resultType._hx_index != 2;
	var i = 0;
	switch(resultType._hx_index) {
	case 1:
		while(i < elements.length) {
			var poly = [];
			var _g = 0;
			var _g1 = polySize;
			while(_g < _g1) {
				var j = _g++;
				var idx = elements[i + j];
				if(idx == -1) {
					continue;
				}
				poly.push(hxGeomAlgo_HxPoint._new(vertices[idx * 2],vertices[idx * 2 + 1]));
			}
			out.push(poly);
			i += polySize * 2;
		}
		break;
	case 2:
		while(i < elements.length) {
			var poly = [];
			var start = elements[i];
			var count = elements[i + 1];
			var _g = 0;
			var _g1 = count;
			while(_g < _g1) {
				var j = _g++;
				var idx = start + j;
				poly.push(hxGeomAlgo_HxPoint._new(vertices[idx * 2],vertices[idx * 2 + 1]));
			}
			out.push(poly);
			i += 2;
		}
		break;
	case 0:case 3:
		while(i < elements.length) {
			var poly = [];
			var _g = 0;
			var _g1 = polySize;
			while(_g < _g1) {
				var j = _g++;
				var idx = elements[i + j];
				if(idx == -1) {
					continue;
				}
				poly.push(hxGeomAlgo_HxPoint._new(vertices[idx * 2],vertices[idx * 2 + 1]));
			}
			out.push(poly);
			i += polySize;
		}
		break;
	}
	return out;
};
var hxGeomAlgo__$Tess2_TessVertex = function() {
	this.idx = 0;
	this.n = 0;
	this.pqHandle = 0;
	this.t = 0.0;
	this.s = 0.0;
	this.coords = [0,0,0];
	this.anEdge = null;
	this.prev = null;
	this.next = null;
};
hxGeomAlgo__$Tess2_TessVertex.__name__ = true;
var hxGeomAlgo__$Tess2_TessFace = function() {
	this.inside = false;
	this.marked = false;
	this.n = 0;
	this.trail = null;
	this.anEdge = null;
	this.prev = null;
	this.next = null;
};
hxGeomAlgo__$Tess2_TessFace.__name__ = true;
var hxGeomAlgo__$Tess2_TessHalfEdge = function(side) {
	this.winding = 0;
	this.activeRegion = null;
	this.Lface = null;
	this.Org = null;
	this.Lnext = null;
	this.Onext = null;
	this.Sym = null;
	this.next = null;
	this.side = side;
};
hxGeomAlgo__$Tess2_TessHalfEdge.__name__ = true;
hxGeomAlgo__$Tess2_TessHalfEdge.prototype = {
	get_Rface: function() {
		return this.Sym.Lface;
	}
	,set_Rface: function(v) {
		return this.Sym.Lface = v;
	}
	,get_Dst: function() {
		return this.Sym.Org;
	}
	,set_Dst: function(v) {
		return this.Sym.Org = v;
	}
	,get_Oprev: function() {
		return this.Sym.Lnext;
	}
	,get_Lprev: function() {
		return this.Onext.Sym;
	}
	,get_Rprev: function() {
		return this.Sym.Onext;
	}
	,get_Dnext: function() {
		return this.Sym.Onext.Sym;
	}
};
var hxGeomAlgo__$Tess2_TessMesh = function() {
	this.eSym = new hxGeomAlgo__$Tess2_TessHalfEdge(1);
	this.e = new hxGeomAlgo__$Tess2_TessHalfEdge(0);
	this.f = new hxGeomAlgo__$Tess2_TessFace();
	this.v = new hxGeomAlgo__$Tess2_TessVertex();
	this.v.next = this.v.prev = this.v;
	this.v.anEdge = null;
	this.f.next = this.f.prev = this.f;
	this.f.anEdge = null;
	this.f.trail = null;
	this.f.marked = false;
	this.f.inside = false;
	this.e.next = this.e;
	this.e.Sym = this.eSym;
	this.e.Onext = null;
	this.e.Lnext = null;
	this.e.Org = null;
	this.e.Lface = null;
	this.e.winding = 0;
	this.e.activeRegion = null;
	this.e.mark = false;
	this.eSym.next = this.eSym;
	this.eSym.Sym = this.e;
	this.eSym.Onext = null;
	this.eSym.Lnext = null;
	this.eSym.Org = null;
	this.eSym.Lface = null;
	this.eSym.winding = 0;
	this.eSym.activeRegion = null;
	this.e.Sym.mark = false;
	this.vHead = this.v;
	this.fHead = this.f;
	this.eHead = this.e;
	this.eHeadSym = this.eSym;
};
hxGeomAlgo__$Tess2_TessMesh.__name__ = true;
hxGeomAlgo__$Tess2_TessMesh.flipEdge = function(mesh,edge) {
	var a0 = edge;
	var a1 = a0.Lnext;
	var a2 = a1.Lnext;
	var b0 = edge.Sym;
	var b1 = b0.Lnext;
	var b2 = b1.Lnext;
	var aOrg = a0.Org;
	var aOpp = a2.Org;
	var bOrg = b0.Org;
	var bOpp = b2.Org;
	var fa = a0.Lface;
	var fb = b0.Lface;
	var cond = hxGeomAlgo__$Tess2_Geom.edgeIsInternal(edge);
	a0.Org = bOpp;
	a0.Onext = b1.Sym;
	b0.Org = aOpp;
	b0.Onext = a1.Sym;
	a2.Onext = b0;
	b2.Onext = a0;
	b1.Onext = a2.Sym;
	a1.Onext = b2.Sym;
	a0.Lnext = a2;
	a2.Lnext = b1;
	b1.Lnext = a0;
	b0.Lnext = b2;
	b2.Lnext = a1;
	a1.Lnext = b0;
	a1.Lface = fb;
	b1.Lface = fa;
	fa.anEdge = a0;
	fb.anEdge = b0;
	if(aOrg.anEdge == a0) {
		aOrg.anEdge = b1;
	}
	if(bOrg.anEdge == b0) {
		bOrg.anEdge = a1;
	}
	var cond = a0.get_Oprev().Onext.Org == a0.Org;
};
hxGeomAlgo__$Tess2_TessMesh.prototype = {
	makeEdge_: function(eNext) {
		var e = new hxGeomAlgo__$Tess2_TessHalfEdge(0);
		var eSym = new hxGeomAlgo__$Tess2_TessHalfEdge(1);
		if(eNext.Sym.side < eNext.side) {
			eNext = eNext.Sym;
		}
		var ePrev = eNext.Sym.next;
		eSym.next = ePrev;
		ePrev.Sym.next = e;
		e.next = eNext;
		eNext.Sym.next = eSym;
		e.Sym = eSym;
		e.Onext = e;
		e.Lnext = eSym;
		e.Org = null;
		e.Lface = null;
		e.winding = 0;
		e.activeRegion = null;
		eSym.Sym = e;
		eSym.Onext = eSym;
		eSym.Lnext = e;
		eSym.Org = null;
		eSym.Lface = null;
		eSym.winding = 0;
		eSym.activeRegion = null;
		return e;
	}
	,splice_: function(a,b) {
		var aOnext = a.Onext;
		var bOnext = b.Onext;
		aOnext.Sym.Lnext = b;
		bOnext.Sym.Lnext = a;
		a.Onext = bOnext;
		b.Onext = aOnext;
	}
	,makeVertex_: function(newVertex,eOrig,vNext) {
		var vNew = newVertex;
		var vPrev = vNext.prev;
		vNew.prev = vPrev;
		vPrev.next = vNew;
		vNew.next = vNext;
		vNext.prev = vNew;
		vNew.anEdge = eOrig;
		var e = eOrig;
		while(true) {
			e.Org = vNew;
			e = e.Onext;
			if(!(e != eOrig)) {
				break;
			}
		}
	}
	,makeFace_: function(newFace,eOrig,fNext) {
		var fNew = newFace;
		var fPrev = fNext.prev;
		fNew.prev = fPrev;
		fPrev.next = fNew;
		fNew.next = fNext;
		fNext.prev = fNew;
		fNew.anEdge = eOrig;
		fNew.trail = null;
		fNew.marked = false;
		fNew.inside = fNext.inside;
		var e = eOrig;
		while(true) {
			e.Lface = fNew;
			e = e.Lnext;
			if(!(e != eOrig)) {
				break;
			}
		}
	}
	,killEdge_: function(eDel) {
		if(eDel.Sym.side < eDel.side) {
			eDel = eDel.Sym;
		}
		var eNext = eDel.next;
		var ePrev = eDel.Sym.next;
		eNext.Sym.next = ePrev;
		ePrev.Sym.next = eNext;
	}
	,killVertex_: function(vDel,newOrg) {
		var eStart = vDel.anEdge;
		var e = eStart;
		while(true) {
			e.Org = newOrg;
			e = e.Onext;
			if(!(e != eStart)) {
				break;
			}
		}
		var vPrev = vDel.prev;
		var vNext = vDel.next;
		vNext.prev = vPrev;
		vPrev.next = vNext;
	}
	,killFace_: function(fDel,newLface) {
		var eStart = fDel.anEdge;
		var e = eStart;
		while(true) {
			e.Lface = newLface;
			e = e.Lnext;
			if(!(e != eStart)) {
				break;
			}
		}
		var fPrev = fDel.prev;
		var fNext = fDel.next;
		fNext.prev = fPrev;
		fPrev.next = fNext;
	}
	,makeEdge: function() {
		var newVertex1 = new hxGeomAlgo__$Tess2_TessVertex();
		var newVertex2 = new hxGeomAlgo__$Tess2_TessVertex();
		var newFace = new hxGeomAlgo__$Tess2_TessFace();
		var e = this.makeEdge_(this.eHead);
		this.makeVertex_(newVertex1,e,this.vHead);
		this.makeVertex_(newVertex2,e.Sym,this.vHead);
		this.makeFace_(newFace,e,this.fHead);
		return e;
	}
	,splice: function(eOrg,eDst) {
		var joiningLoops = false;
		var joiningVertices = false;
		if(eOrg == eDst) {
			return;
		}
		if(eDst.Org != eOrg.Org) {
			joiningVertices = true;
			this.killVertex_(eDst.Org,eOrg.Org);
		}
		if(eDst.Lface != eOrg.Lface) {
			joiningLoops = true;
			this.killFace_(eDst.Lface,eOrg.Lface);
		}
		this.splice_(eDst,eOrg);
		if(!joiningVertices) {
			var newVertex = new hxGeomAlgo__$Tess2_TessVertex();
			this.makeVertex_(newVertex,eDst,eOrg.Org);
			eOrg.Org.anEdge = eOrg;
		}
		if(!joiningLoops) {
			var newFace = new hxGeomAlgo__$Tess2_TessFace();
			this.makeFace_(newFace,eDst,eOrg.Lface);
			eOrg.Lface.anEdge = eOrg;
		}
	}
	,'delete': function(eDel) {
		var eDelSym = eDel.Sym;
		var joiningLoops = false;
		if(eDel.Lface != eDel.get_Rface()) {
			joiningLoops = true;
			this.killFace_(eDel.Lface,eDel.get_Rface());
		}
		if(eDel.Onext == eDel) {
			this.killVertex_(eDel.Org,null);
		} else {
			eDel.get_Rface().anEdge = eDel.get_Oprev();
			eDel.Org.anEdge = eDel.Onext;
			this.splice_(eDel,eDel.get_Oprev());
			if(!joiningLoops) {
				var newFace = new hxGeomAlgo__$Tess2_TessFace();
				this.makeFace_(newFace,eDel,eDel.Lface);
			}
		}
		if(eDelSym.Onext == eDelSym) {
			this.killVertex_(eDelSym.Org,null);
			this.killFace_(eDelSym.Lface,null);
		} else {
			eDel.Lface.anEdge = eDelSym.get_Oprev();
			eDelSym.Org.anEdge = eDelSym.Onext;
			this.splice_(eDelSym,eDelSym.get_Oprev());
		}
		this.killEdge_(eDel);
	}
	,addEdgeVertex: function(eOrg) {
		var eNew = this.makeEdge_(eOrg);
		var eNewSym = eNew.Sym;
		this.splice_(eNew,eOrg.Lnext);
		eNew.Org = eOrg.get_Dst();
		var newVertex = new hxGeomAlgo__$Tess2_TessVertex();
		this.makeVertex_(newVertex,eNewSym,eNew.Org);
		eNew.Lface = eNewSym.Lface = eOrg.Lface;
		return eNew;
	}
	,splitEdge: function(eOrg) {
		var tempHalfEdge = this.addEdgeVertex(eOrg);
		var eNew = tempHalfEdge.Sym;
		this.splice_(eOrg.Sym,eOrg.Sym.get_Oprev());
		this.splice_(eOrg.Sym,eNew);
		eOrg.set_Dst(eNew.Org);
		eNew.get_Dst().anEdge = eNew.Sym;
		eNew.set_Rface(eOrg.get_Rface());
		eNew.winding = eOrg.winding;
		eNew.Sym.winding = eOrg.Sym.winding;
		return eNew;
	}
	,connect: function(eOrg,eDst) {
		var joiningLoops = false;
		var eNew = this.makeEdge_(eOrg);
		var eNewSym = eNew.Sym;
		if(eDst.Lface != eOrg.Lface) {
			joiningLoops = true;
			this.killFace_(eDst.Lface,eOrg.Lface);
		}
		this.splice_(eNew,eOrg.Lnext);
		this.splice_(eNewSym,eDst);
		eNew.Org = eOrg.get_Dst();
		eNewSym.Org = eDst.Org;
		eNew.Lface = eNewSym.Lface = eOrg.Lface;
		eOrg.Lface.anEdge = eNewSym;
		if(!joiningLoops) {
			var newFace = new hxGeomAlgo__$Tess2_TessFace();
			this.makeFace_(newFace,eNew,eOrg.Lface);
		}
		return eNew;
	}
	,zapFace: function(fZap) {
		var eStart = fZap.anEdge;
		var e;
		var eSym;
		var eNext = eStart.Lnext;
		while(true) {
			e = eNext;
			eNext = e.Lnext;
			e.Lface = null;
			if(e.get_Rface() == null) {
				if(e.Onext == e) {
					this.killVertex_(e.Org,null);
				} else {
					e.Org.anEdge = e.Onext;
					this.splice_(e,e.get_Oprev());
				}
				eSym = e.Sym;
				if(eSym.Onext == eSym) {
					this.killVertex_(eSym.Org,null);
				} else {
					eSym.Org.anEdge = eSym.Onext;
					this.splice_(eSym,eSym.get_Oprev());
				}
				this.killEdge_(e);
			}
			if(!(e != eStart)) {
				break;
			}
		}
		var fPrev = fZap.prev;
		var fNext = fZap.next;
		fNext.prev = fPrev;
		fPrev.next = fNext;
	}
	,countFaceVerts_: function(f) {
		var eCur = f.anEdge;
		var n = 0;
		while(true) {
			++n;
			eCur = eCur.Lnext;
			if(!(eCur != f.anEdge)) {
				break;
			}
		}
		return n;
	}
	,mergeConvexFaces: function(maxVertsPerFace) {
		var eCur;
		var eNext;
		var eSym;
		var vStart;
		var curNv;
		var symNv;
		var f = this.fHead.next;
		while(f != this.fHead) {
			if(!f.inside) {
				f = f.next;
				continue;
			}
			eCur = f.anEdge;
			vStart = eCur.Org;
			while(true) {
				eNext = eCur.Lnext;
				eSym = eCur.Sym;
				if(eSym != null && eSym.Lface != null && eSym.Lface.inside) {
					curNv = this.countFaceVerts_(f);
					symNv = this.countFaceVerts_(eSym.Lface);
					if(curNv + symNv - 2 <= maxVertsPerFace) {
						if(hxGeomAlgo__$Tess2_Geom.vertCCW(eCur.get_Lprev().Org,eCur.Org,eSym.Lnext.Lnext.Org) && hxGeomAlgo__$Tess2_Geom.vertCCW(eSym.get_Lprev().Org,eSym.Org,eCur.Lnext.Lnext.Org)) {
							eNext = eSym.Lnext;
							this.delete(eSym);
							eCur = null;
							eSym = null;
						}
					}
				}
				if(eCur != null && eCur.Lnext.Org == vStart) {
					break;
				}
				eCur = eNext;
			}
			f = f.next;
		}
		return true;
	}
	,check: function() {
		var fHead = this.fHead;
		var vHead = this.vHead;
		var eHead = this.eHead;
		var f;
		var v;
		var e;
		var fPrev = fHead;
		while(true) {
			f = fPrev.next;
			if(!(f != fHead)) {
				break;
			}
			e = f.anEdge;
			while(true) {
				e = e.Lnext;
				if(!(e != f.anEdge)) {
					break;
				}
			}
			fPrev = f;
		}
		var vPrev = vHead;
		while(true) {
			v = vPrev.next;
			if(!(v != vHead)) {
				break;
			}
			e = v.anEdge;
			while(true) {
				e = e.Onext;
				if(!(e != v.anEdge)) {
					break;
				}
			}
			vPrev = v;
		}
		var ePrev = eHead;
		while(true) {
			e = ePrev.next;
			if(!(e != eHead)) {
				break;
			}
			var cond = e.get_Dst() != null;
			ePrev = e;
		}
		var cond = e.Sym.next == ePrev.Sym && e.Sym == this.eHeadSym && e.Sym.Sym == e && e.Org == null && e.get_Dst() == null && e.Lface == null && e.get_Rface() == null;
	}
};
var hxGeomAlgo__$Tess2_Geom = function() { };
hxGeomAlgo__$Tess2_Geom.__name__ = true;
hxGeomAlgo__$Tess2_Geom.vertEq = function(u,v) {
	if(u.s == v.s) {
		return u.t == v.t;
	} else {
		return false;
	}
};
hxGeomAlgo__$Tess2_Geom.vertLeq = function(u,v) {
	if(!(u.s < v.s)) {
		if(u.s == v.s) {
			return u.t <= v.t;
		} else {
			return false;
		}
	} else {
		return true;
	}
};
hxGeomAlgo__$Tess2_Geom.transLeq = function(u,v) {
	if(!(u.t < v.t)) {
		if(u.t == v.t) {
			return u.s <= v.s;
		} else {
			return false;
		}
	} else {
		return true;
	}
};
hxGeomAlgo__$Tess2_Geom.edgeGoesLeft = function(e) {
	return hxGeomAlgo__$Tess2_Geom.vertLeq(e.get_Dst(),e.Org);
};
hxGeomAlgo__$Tess2_Geom.edgeGoesRight = function(e) {
	return hxGeomAlgo__$Tess2_Geom.vertLeq(e.Org,e.get_Dst());
};
hxGeomAlgo__$Tess2_Geom.edgeIsInternal = function(e) {
	if(e.get_Rface() != null) {
		return e.get_Rface().inside;
	} else {
		return false;
	}
};
hxGeomAlgo__$Tess2_Geom.vertL1dist = function(u,v) {
	return Math.abs(u.s - v.s) + Math.abs(u.t - v.t);
};
hxGeomAlgo__$Tess2_Geom.edgeEval = function(u,v,w) {
	var cond = hxGeomAlgo__$Tess2_Geom.vertLeq(u,v) && hxGeomAlgo__$Tess2_Geom.vertLeq(v,w);
	var gapL = v.s - u.s;
	var gapR = w.s - v.s;
	if(gapL + gapR > 0.0) {
		if(gapL < gapR) {
			return v.t - u.t + (u.t - w.t) * (gapL / (gapL + gapR));
		} else {
			return v.t - w.t + (w.t - u.t) * (gapR / (gapL + gapR));
		}
	}
	return 0.0;
};
hxGeomAlgo__$Tess2_Geom.edgeSign = function(u,v,w) {
	var cond = hxGeomAlgo__$Tess2_Geom.vertLeq(u,v) && hxGeomAlgo__$Tess2_Geom.vertLeq(v,w);
	var gapL = v.s - u.s;
	var gapR = w.s - v.s;
	if(gapL + gapR > 0.0) {
		return (v.t - w.t) * gapL + (v.t - u.t) * gapR;
	}
	return 0.0;
};
hxGeomAlgo__$Tess2_Geom.transEval = function(u,v,w) {
	var cond = hxGeomAlgo__$Tess2_Geom.transLeq(u,v) && hxGeomAlgo__$Tess2_Geom.transLeq(v,w);
	var gapL = v.t - u.t;
	var gapR = w.t - v.t;
	if(gapL + gapR > 0.0) {
		if(gapL < gapR) {
			return v.s - u.s + (u.s - w.s) * (gapL / (gapL + gapR));
		} else {
			return v.s - w.s + (w.s - u.s) * (gapR / (gapL + gapR));
		}
	}
	return 0.0;
};
hxGeomAlgo__$Tess2_Geom.transSign = function(u,v,w) {
	var cond = hxGeomAlgo__$Tess2_Geom.transLeq(u,v) && hxGeomAlgo__$Tess2_Geom.transLeq(v,w);
	var gapL = v.t - u.t;
	var gapR = w.t - v.t;
	if(gapL + gapR > 0.0) {
		return (v.s - w.s) * gapL + (v.s - u.s) * gapR;
	}
	return 0.0;
};
hxGeomAlgo__$Tess2_Geom.vertCCW = function(u,v,w) {
	return u.s * (v.t - w.t) + v.s * (w.t - u.t) + w.s * (u.t - v.t) >= 0.0;
};
hxGeomAlgo__$Tess2_Geom.interpolate = function(a,x,b,y) {
	if(a < 0) {
		a = 0;
	}
	if(b < 0) {
		b = 0;
	}
	if(a <= b) {
		if(b == 0) {
			return (x + y) / 2;
		} else {
			return x + (y - x) * (a / (a + b));
		}
	} else {
		return y + (x - y) * (b / (a + b));
	}
};
hxGeomAlgo__$Tess2_Geom.intersect = function(o1,d1,o2,d2,v) {
	var z1;
	var z2;
	var t;
	if(!hxGeomAlgo__$Tess2_Geom.vertLeq(o1,d1)) {
		t = o1;
		o1 = d1;
		d1 = t;
	}
	if(!hxGeomAlgo__$Tess2_Geom.vertLeq(o2,d2)) {
		t = o2;
		o2 = d2;
		d2 = t;
	}
	if(!hxGeomAlgo__$Tess2_Geom.vertLeq(o1,o2)) {
		t = o1;
		o1 = o2;
		o2 = t;
		t = d1;
		d1 = d2;
		d2 = t;
	}
	if(!hxGeomAlgo__$Tess2_Geom.vertLeq(o2,d1)) {
		v.s = (o2.s + d1.s) / 2;
	} else if(hxGeomAlgo__$Tess2_Geom.vertLeq(d1,d2)) {
		z1 = hxGeomAlgo__$Tess2_Geom.edgeEval(o1,o2,d1);
		z2 = hxGeomAlgo__$Tess2_Geom.edgeEval(o2,d1,d2);
		if(z1 + z2 < 0) {
			z1 = -z1;
			z2 = -z2;
		}
		v.s = hxGeomAlgo__$Tess2_Geom.interpolate(z1,o2.s,z2,d1.s);
	} else {
		z1 = hxGeomAlgo__$Tess2_Geom.edgeSign(o1,o2,d1);
		z2 = -hxGeomAlgo__$Tess2_Geom.edgeSign(o1,d2,d1);
		if(z1 + z2 < 0) {
			z1 = -z1;
			z2 = -z2;
		}
		v.s = hxGeomAlgo__$Tess2_Geom.interpolate(z1,o2.s,z2,d2.s);
	}
	if(!hxGeomAlgo__$Tess2_Geom.transLeq(o1,d1)) {
		t = o1;
		o1 = d1;
		d1 = t;
	}
	if(!hxGeomAlgo__$Tess2_Geom.transLeq(o2,d2)) {
		t = o2;
		o2 = d2;
		d2 = t;
	}
	if(!hxGeomAlgo__$Tess2_Geom.transLeq(o1,o2)) {
		t = o1;
		o1 = o2;
		o2 = t;
		t = d1;
		d1 = d2;
		d2 = t;
	}
	if(!hxGeomAlgo__$Tess2_Geom.transLeq(o2,d1)) {
		v.t = (o2.t + d1.t) / 2;
	} else if(hxGeomAlgo__$Tess2_Geom.transLeq(d1,d2)) {
		z1 = hxGeomAlgo__$Tess2_Geom.transEval(o1,o2,d1);
		z2 = hxGeomAlgo__$Tess2_Geom.transEval(o2,d1,d2);
		if(z1 + z2 < 0) {
			z1 = -z1;
			z2 = -z2;
		}
		v.t = hxGeomAlgo__$Tess2_Geom.interpolate(z1,o2.t,z2,d1.t);
	} else {
		z1 = hxGeomAlgo__$Tess2_Geom.transSign(o1,o2,d1);
		z2 = -hxGeomAlgo__$Tess2_Geom.transSign(o1,d2,d1);
		if(z1 + z2 < 0) {
			z1 = -z1;
			z2 = -z2;
		}
		v.t = hxGeomAlgo__$Tess2_Geom.interpolate(z1,o2.t,z2,d2.t);
	}
};
hxGeomAlgo__$Tess2_Geom.calcAngle = function(v0,v1,v2) {
	var a_0 = v2.s - v1.s;
	var a_1 = v2.t - v1.t;
	var b_0 = v0.s - v1.s;
	var b_1 = v0.t - v1.t;
	var num = a_0 * b_0 + a_1 * b_1;
	var den = Math.sqrt(a_0 * a_0 + a_1 * a_1) * Math.sqrt(b_0 * b_0 + b_1 * b_1);
	if(den > 0.0) {
		num /= den;
	}
	if(num < -1.0) {
		num = -1.0;
	}
	if(num > 1.0) {
		num = 1.0;
	}
	return Math.acos(num);
};
hxGeomAlgo__$Tess2_Geom.edgeIsLocallyDelaunay = function(e) {
	return hxGeomAlgo__$Tess2_Geom.calcAngle(e.Lnext.Org,e.Lnext.Lnext.Org,e.Org) + hxGeomAlgo__$Tess2_Geom.calcAngle(e.Sym.Lnext.Org,e.Sym.Lnext.Lnext.Org,e.Sym.Org) < Math.PI + 0.01;
};
var hxGeomAlgo__$Tess2_DictNode = function() {
	this.prev = null;
	this.next = null;
	this.key = null;
};
hxGeomAlgo__$Tess2_DictNode.__name__ = true;
var hxGeomAlgo__$Tess2_Dict = function(frame,leq) {
	this.head = new hxGeomAlgo__$Tess2_DictNode();
	this.head.next = this.head;
	this.head.prev = this.head;
	this.frame = frame;
	this.leq = leq;
};
hxGeomAlgo__$Tess2_Dict.__name__ = true;
hxGeomAlgo__$Tess2_Dict.prototype = {
	min: function() {
		return this.head.next;
	}
	,insert: function(k) {
		return this.insertBefore(this.head,k);
	}
	,search: function(key) {
		var node = this.head;
		while(true) {
			node = node.next;
			if(!(node.key != null && !this.leq(this.frame,key,node.key))) {
				break;
			}
		}
		return node;
	}
	,insertBefore: function(node,key) {
		while(true) {
			node = node.prev;
			if(!(node.key != null && !this.leq(this.frame,node.key,key))) {
				break;
			}
		}
		var newNode = new hxGeomAlgo__$Tess2_DictNode();
		newNode.key = key;
		newNode.next = node.next;
		node.next.prev = newNode;
		newNode.prev = node;
		node.next = newNode;
		return newNode;
	}
	,'delete': function(node) {
		node.next.prev = node.prev;
		node.prev.next = node.next;
	}
};
var hxGeomAlgo__$Tess2_PQNode = function() {
	this.handle = -1;
};
hxGeomAlgo__$Tess2_PQNode.__name__ = true;
var hxGeomAlgo__$Tess2_PQHandleElem = function() {
	this.node = -1;
	this.key = null;
};
hxGeomAlgo__$Tess2_PQHandleElem.__name__ = true;
var hxGeomAlgo__$Tess2_PriorityQ = function(size,leq) {
	this.size = 0;
	this.max = size;
	this.nodes = [];
	var _g = 0;
	var _g1 = size + 1;
	while(_g < _g1) {
		var i = _g++;
		this.nodes[i] = new hxGeomAlgo__$Tess2_PQNode();
	}
	this.handles = [];
	var _g = 0;
	var _g1 = size + 1;
	while(_g < _g1) {
		var i = _g++;
		this.handles[i] = new hxGeomAlgo__$Tess2_PQHandleElem();
	}
	this.initialized = false;
	this.freeList = 0;
	this.leq = leq;
	this.nodes[1].handle = 1;
	this.handles[1].key = null;
};
hxGeomAlgo__$Tess2_PriorityQ.__name__ = true;
hxGeomAlgo__$Tess2_PriorityQ.prototype = {
	floatDown_: function(curr) {
		var n = this.nodes;
		var h = this.handles;
		var hChild;
		var child;
		var hCurr = n[curr].handle;
		while(true) {
			child = curr << 1;
			if(child < this.size && this.leq(h[n[child + 1].handle].key,h[n[child].handle].key)) {
				++child;
			}
			hChild = n[child].handle;
			if(child > this.size || this.leq(h[hCurr].key,h[hChild].key)) {
				n[curr].handle = hCurr;
				h[hCurr].node = curr;
				break;
			}
			n[curr].handle = hChild;
			h[hChild].node = curr;
			curr = child;
		}
	}
	,floatUp_: function(curr) {
		var n = this.nodes;
		var h = this.handles;
		var hParent;
		var parent;
		var hCurr = n[curr].handle;
		while(true) {
			parent = curr >> 1;
			hParent = n[parent].handle;
			if(parent == 0 || this.leq(h[hParent].key,h[hCurr].key)) {
				n[curr].handle = hCurr;
				h[hCurr].node = curr;
				break;
			}
			n[curr].handle = hParent;
			h[hParent].node = curr;
			curr = parent;
		}
	}
	,init: function() {
		var i = this.size;
		while(i >= 1) {
			this.floatDown_(i);
			--i;
		}
		this.initialized = true;
	}
	,min: function() {
		return this.handles[this.nodes[1].handle].key;
	}
	,insert: function(keyNew) {
		var free;
		var curr = ++this.size;
		if(curr * 2 > this.max) {
			this.max *= 2;
			var s = this.nodes.length;
			var _g = s;
			var _g1 = this.max + 1;
			while(_g < _g1) {
				var i = _g++;
				this.nodes[i] = new hxGeomAlgo__$Tess2_PQNode();
			}
			s = this.handles.length;
			var _g = this.handles.length;
			var _g1 = this.max + 1;
			while(_g < _g1) {
				var i = _g++;
				this.handles[i] = new hxGeomAlgo__$Tess2_PQHandleElem();
			}
		}
		if(this.freeList == 0) {
			free = curr;
		} else {
			free = this.freeList;
			this.freeList = this.handles[free].node;
		}
		this.nodes[curr].handle = free;
		this.handles[free].node = curr;
		this.handles[free].key = keyNew;
		if(this.initialized) {
			this.floatUp_(curr);
		}
		return free;
	}
	,extractMin: function() {
		var n = this.nodes;
		var h = this.handles;
		var hMin = n[1].handle;
		var min = h[hMin].key;
		if(this.size > 0) {
			n[1].handle = n[this.size].handle;
			h[n[1].handle].node = 1;
			h[hMin].key = null;
			h[hMin].node = this.freeList;
			this.freeList = hMin;
			--this.size;
			if(this.size > 0) {
				this.floatDown_(1);
			}
		}
		return min;
	}
	,'delete': function(hCurr) {
		var n = this.nodes;
		var h = this.handles;
		var curr = h[hCurr].node;
		n[curr].handle = n[this.size].handle;
		h[n[curr].handle].node = curr;
		--this.size;
		if(curr <= this.size) {
			if(curr <= 1 || this.leq(h[n[curr >> 1].handle].key,h[n[curr].handle].key)) {
				this.floatDown_(curr);
			} else {
				this.floatUp_(curr);
			}
		}
		h[hCurr].key = null;
		h[hCurr].node = this.freeList;
		this.freeList = hCurr;
	}
};
var hxGeomAlgo__$Tess2_ActiveRegion = function() {
	this.fixUpperEdge = false;
	this.dirty = false;
	this.sentinel = false;
	this.inside = false;
	this.windingNumber = 0;
	this.nodeUp = null;
	this.eUp = null;
};
hxGeomAlgo__$Tess2_ActiveRegion.__name__ = true;
var hxGeomAlgo__$Tess2_Sweep = function() { };
hxGeomAlgo__$Tess2_Sweep.__name__ = true;
hxGeomAlgo__$Tess2_Sweep.regionBelow = function(r) {
	return r.nodeUp.prev.key;
};
hxGeomAlgo__$Tess2_Sweep.regionAbove = function(r) {
	return r.nodeUp.next.key;
};
hxGeomAlgo__$Tess2_Sweep.debugEvent = function(tess) {
};
hxGeomAlgo__$Tess2_Sweep.addWinding = function(eDst,eSrc) {
	eDst.winding += eSrc.winding;
	eDst.Sym.winding += eSrc.Sym.winding;
};
hxGeomAlgo__$Tess2_Sweep.edgeLeq = function(tess,reg1,reg2) {
	var ev = tess.event;
	var t1;
	var t2;
	var e1 = reg1.eUp;
	var e2 = reg2.eUp;
	if(e1.get_Dst() == ev) {
		if(e2.get_Dst() == ev) {
			if(hxGeomAlgo__$Tess2_Geom.vertLeq(e1.Org,e2.Org)) {
				return hxGeomAlgo__$Tess2_Geom.edgeSign(e2.get_Dst(),e1.Org,e2.Org) <= 0;
			}
			return hxGeomAlgo__$Tess2_Geom.edgeSign(e1.get_Dst(),e2.Org,e1.Org) >= 0;
		}
		return hxGeomAlgo__$Tess2_Geom.edgeSign(e2.get_Dst(),ev,e2.Org) <= 0;
	}
	if(e2.get_Dst() == ev) {
		return hxGeomAlgo__$Tess2_Geom.edgeSign(e1.get_Dst(),ev,e1.Org) >= 0;
	}
	var t1 = hxGeomAlgo__$Tess2_Geom.edgeEval(e1.get_Dst(),ev,e1.Org);
	var t2 = hxGeomAlgo__$Tess2_Geom.edgeEval(e2.get_Dst(),ev,e2.Org);
	return t1 >= t2;
};
hxGeomAlgo__$Tess2_Sweep.deleteRegion = function(tess,reg) {
	var reg1 = reg.fixUpperEdge;
	reg.eUp.activeRegion = null;
	tess.dict.delete(reg.nodeUp);
};
hxGeomAlgo__$Tess2_Sweep.fixUpperEdge = function(tess,reg,newEdge) {
	tess.mesh.delete(reg.eUp);
	reg.fixUpperEdge = false;
	reg.eUp = newEdge;
	newEdge.activeRegion = reg;
};
hxGeomAlgo__$Tess2_Sweep.topLeftRegion = function(tess,reg) {
	var org = reg.eUp.Org;
	var e;
	while(true) {
		reg = hxGeomAlgo__$Tess2_Sweep.regionAbove(reg);
		if(!(reg.eUp.Org == org)) {
			break;
		}
	}
	if(reg.fixUpperEdge) {
		e = tess.mesh.connect(hxGeomAlgo__$Tess2_Sweep.regionBelow(reg).eUp.Sym,reg.eUp.Lnext);
		if(e == null) {
			return null;
		}
		hxGeomAlgo__$Tess2_Sweep.fixUpperEdge(tess,reg,e);
		reg = hxGeomAlgo__$Tess2_Sweep.regionAbove(reg);
	}
	return reg;
};
hxGeomAlgo__$Tess2_Sweep.topRightRegion = function(reg) {
	var dst = reg.eUp.get_Dst();
	while(true) {
		reg = hxGeomAlgo__$Tess2_Sweep.regionAbove(reg);
		if(!(reg.eUp.get_Dst() == dst)) {
			break;
		}
	}
	return reg;
};
hxGeomAlgo__$Tess2_Sweep.addRegionBelow = function(tess,regAbove,eNewUp) {
	var regNew = new hxGeomAlgo__$Tess2_ActiveRegion();
	regNew.eUp = eNewUp;
	regNew.nodeUp = tess.dict.insertBefore(regAbove.nodeUp,regNew);
	regNew.fixUpperEdge = false;
	regNew.sentinel = false;
	regNew.dirty = false;
	eNewUp.activeRegion = regNew;
	return regNew;
};
hxGeomAlgo__$Tess2_Sweep.isWindingInside = function(tess,n) {
	switch(tess.windingRule._hx_index) {
	case 0:
		return (n & 1) != 0;
	case 1:
		return n != 0;
	case 2:
		return n > 0;
	case 3:
		return n < 0;
	case 4:
		if(n < 2) {
			return n <= -2;
		} else {
			return true;
		}
		break;
	}
};
hxGeomAlgo__$Tess2_Sweep.computeWinding = function(tess,reg) {
	reg.windingNumber = hxGeomAlgo__$Tess2_Sweep.regionAbove(reg).windingNumber + reg.eUp.winding;
	reg.inside = hxGeomAlgo__$Tess2_Sweep.isWindingInside(tess,reg.windingNumber);
};
hxGeomAlgo__$Tess2_Sweep.finishRegion = function(tess,reg) {
	var e = reg.eUp;
	var f = e.Lface;
	f.inside = reg.inside;
	f.anEdge = e;
	hxGeomAlgo__$Tess2_Sweep.deleteRegion(tess,reg);
};
hxGeomAlgo__$Tess2_Sweep.finishLeftRegions = function(tess,regFirst,regLast) {
	var e;
	var ePrev;
	var reg = null;
	var regPrev = regFirst;
	var ePrev = regFirst.eUp;
	while(regPrev != regLast) {
		regPrev.fixUpperEdge = false;
		reg = hxGeomAlgo__$Tess2_Sweep.regionBelow(regPrev);
		e = reg.eUp;
		if(e.Org != ePrev.Org) {
			if(!reg.fixUpperEdge) {
				hxGeomAlgo__$Tess2_Sweep.finishRegion(tess,regPrev);
				break;
			}
			e = tess.mesh.connect(ePrev.get_Lprev(),e.Sym);
			hxGeomAlgo__$Tess2_Sweep.fixUpperEdge(tess,reg,e);
		}
		if(ePrev.Onext != e) {
			tess.mesh.splice(e.get_Oprev(),e);
			tess.mesh.splice(ePrev,e);
		}
		hxGeomAlgo__$Tess2_Sweep.finishRegion(tess,regPrev);
		ePrev = reg.eUp;
		regPrev = reg;
	}
	return ePrev;
};
hxGeomAlgo__$Tess2_Sweep.addRightEdges = function(tess,regUp,eFirst,eLast,eTopLeft,cleanUp) {
	var reg = null;
	var firstTime = true;
	var e = eFirst;
	while(true) {
		var cond = hxGeomAlgo__$Tess2_Geom.vertLeq(e.Org,e.get_Dst());
		hxGeomAlgo__$Tess2_Sweep.addRegionBelow(tess,regUp,e.Sym);
		e = e.Onext;
		if(!(e != eLast)) {
			break;
		}
	}
	if(eTopLeft == null) {
		eTopLeft = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp).eUp.get_Rprev();
	}
	var regPrev = regUp;
	var ePrev = eTopLeft;
	while(true) {
		reg = hxGeomAlgo__$Tess2_Sweep.regionBelow(regPrev);
		e = reg.eUp.Sym;
		if(e.Org != ePrev.Org) {
			break;
		}
		if(e.Onext != ePrev) {
			tess.mesh.splice(e.get_Oprev(),e);
			tess.mesh.splice(ePrev.get_Oprev(),e);
		}
		reg.windingNumber = regPrev.windingNumber - e.winding;
		reg.inside = hxGeomAlgo__$Tess2_Sweep.isWindingInside(tess,reg.windingNumber);
		regPrev.dirty = true;
		if(!firstTime && hxGeomAlgo__$Tess2_Sweep.checkForRightSplice(tess,regPrev)) {
			hxGeomAlgo__$Tess2_Sweep.addWinding(e,ePrev);
			hxGeomAlgo__$Tess2_Sweep.deleteRegion(tess,regPrev);
			tess.mesh.delete(ePrev);
		}
		firstTime = false;
		regPrev = reg;
		ePrev = e;
	}
	regPrev.dirty = true;
	if(cleanUp) {
		hxGeomAlgo__$Tess2_Sweep.walkDirtyRegions(tess,regPrev);
	}
};
hxGeomAlgo__$Tess2_Sweep.spliceMergeVertices = function(tess,e1,e2) {
	tess.mesh.splice(e1,e2);
};
hxGeomAlgo__$Tess2_Sweep.vertexWeights = function(isect,org,dst) {
	var t1 = hxGeomAlgo__$Tess2_Geom.vertL1dist(org,isect);
	var t2 = hxGeomAlgo__$Tess2_Geom.vertL1dist(dst,isect);
	var w0 = 0.5 * t2 / (t1 + t2);
	var w1 = 0.5 * t1 / (t1 + t2);
	isect.coords[0] += w0 * org.coords[0] + w1 * dst.coords[0];
	isect.coords[1] += w0 * org.coords[1] + w1 * dst.coords[1];
	isect.coords[2] += w0 * org.coords[2] + w1 * dst.coords[2];
};
hxGeomAlgo__$Tess2_Sweep.getIntersectData = function(tess,isect,orgUp,dstUp,orgLo,dstLo) {
	var tmp = isect.coords[1] = isect.coords[2] = 0;
	isect.coords[0] = tmp;
	isect.idx = -1;
	hxGeomAlgo__$Tess2_Sweep.vertexWeights(isect,orgUp,dstUp);
	hxGeomAlgo__$Tess2_Sweep.vertexWeights(isect,orgLo,dstLo);
};
hxGeomAlgo__$Tess2_Sweep.checkForRightSplice = function(tess,regUp) {
	var regLo = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
	var eUp = regUp.eUp;
	var eLo = regLo.eUp;
	if(hxGeomAlgo__$Tess2_Geom.vertLeq(eUp.Org,eLo.Org)) {
		if(hxGeomAlgo__$Tess2_Geom.edgeSign(eLo.get_Dst(),eUp.Org,eLo.Org) > 0) {
			return false;
		}
		if(!hxGeomAlgo__$Tess2_Geom.vertEq(eUp.Org,eLo.Org)) {
			tess.mesh.splitEdge(eLo.Sym);
			tess.mesh.splice(eUp,eLo.get_Oprev());
			regUp.dirty = regLo.dirty = true;
		} else if(eUp.Org != eLo.Org) {
			tess.pq.delete(eUp.Org.pqHandle);
			hxGeomAlgo__$Tess2_Sweep.spliceMergeVertices(tess,eLo.get_Oprev(),eUp);
		}
	} else {
		if(hxGeomAlgo__$Tess2_Geom.edgeSign(eUp.get_Dst(),eLo.Org,eUp.Org) < 0) {
			return false;
		}
		hxGeomAlgo__$Tess2_Sweep.regionAbove(regUp).dirty = regUp.dirty = true;
		tess.mesh.splitEdge(eUp.Sym);
		tess.mesh.splice(eLo.get_Oprev(),eUp);
	}
	return true;
};
hxGeomAlgo__$Tess2_Sweep.checkForLeftSplice = function(tess,regUp) {
	var regLo = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
	var eUp = regUp.eUp;
	var eLo = regLo.eUp;
	var e;
	var cond = !hxGeomAlgo__$Tess2_Geom.vertEq(eUp.get_Dst(),eLo.get_Dst());
	if(hxGeomAlgo__$Tess2_Geom.vertLeq(eUp.get_Dst(),eLo.get_Dst())) {
		if(hxGeomAlgo__$Tess2_Geom.edgeSign(eUp.get_Dst(),eLo.get_Dst(),eUp.Org) < 0) {
			return false;
		}
		hxGeomAlgo__$Tess2_Sweep.regionAbove(regUp).dirty = regUp.dirty = true;
		e = tess.mesh.splitEdge(eUp);
		tess.mesh.splice(eLo.Sym,e);
		e.Lface.inside = regUp.inside;
	} else {
		if(hxGeomAlgo__$Tess2_Geom.edgeSign(eLo.get_Dst(),eUp.get_Dst(),eLo.Org) > 0) {
			return false;
		}
		regUp.dirty = regLo.dirty = true;
		e = tess.mesh.splitEdge(eLo);
		tess.mesh.splice(eUp.Lnext,eLo.Sym);
		e.get_Rface().inside = regUp.inside;
	}
	return true;
};
hxGeomAlgo__$Tess2_Sweep.checkForIntersect = function(tess,regUp) {
	var regLo = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
	var eUp = regUp.eUp;
	var eLo = regLo.eUp;
	var orgUp = eUp.Org;
	var orgLo = eLo.Org;
	var dstUp = eUp.get_Dst();
	var dstLo = eLo.get_Dst();
	var isect = new hxGeomAlgo__$Tess2_TessVertex();
	var e;
	var cond = !hxGeomAlgo__$Tess2_Geom.vertEq(dstLo,dstUp);
	var cond = hxGeomAlgo__$Tess2_Geom.edgeSign(dstUp,tess.event,orgUp) <= 0;
	var cond = hxGeomAlgo__$Tess2_Geom.edgeSign(dstLo,tess.event,orgLo) >= 0;
	if(orgUp == orgLo) {
		return false;
	}
	var tMinUp = Math.min(orgUp.t,dstUp.t);
	var tMaxLo = Math.max(orgLo.t,dstLo.t);
	if(tMinUp > tMaxLo) {
		return false;
	}
	if(hxGeomAlgo__$Tess2_Geom.vertLeq(orgUp,orgLo)) {
		if(hxGeomAlgo__$Tess2_Geom.edgeSign(dstLo,orgUp,orgLo) > 0) {
			return false;
		}
	} else if(hxGeomAlgo__$Tess2_Geom.edgeSign(dstUp,orgLo,orgUp) < 0) {
		return false;
	}
	hxGeomAlgo__$Tess2_Sweep.debugEvent(tess);
	hxGeomAlgo__$Tess2_Geom.intersect(dstUp,orgUp,dstLo,orgLo,isect);
	if(hxGeomAlgo__$Tess2_Geom.vertLeq(isect,tess.event)) {
		isect.s = tess.event.s;
		isect.t = tess.event.t;
	}
	var orgMin = hxGeomAlgo__$Tess2_Geom.vertLeq(orgUp,orgLo) ? orgUp : orgLo;
	if(hxGeomAlgo__$Tess2_Geom.vertLeq(orgMin,isect)) {
		isect.s = orgMin.s;
		isect.t = orgMin.t;
	}
	if(hxGeomAlgo__$Tess2_Geom.vertEq(isect,orgUp) || hxGeomAlgo__$Tess2_Geom.vertEq(isect,orgLo)) {
		hxGeomAlgo__$Tess2_Sweep.checkForRightSplice(tess,regUp);
		return false;
	}
	if(!hxGeomAlgo__$Tess2_Geom.vertEq(dstUp,tess.event) && hxGeomAlgo__$Tess2_Geom.edgeSign(dstUp,tess.event,isect) >= 0 || !hxGeomAlgo__$Tess2_Geom.vertEq(dstLo,tess.event) && hxGeomAlgo__$Tess2_Geom.edgeSign(dstLo,tess.event,isect) <= 0) {
		if(dstLo == tess.event) {
			tess.mesh.splitEdge(eUp.Sym);
			tess.mesh.splice(eLo.Sym,eUp);
			regUp = hxGeomAlgo__$Tess2_Sweep.topLeftRegion(tess,regUp);
			eUp = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp).eUp;
			hxGeomAlgo__$Tess2_Sweep.finishLeftRegions(tess,hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp),regLo);
			hxGeomAlgo__$Tess2_Sweep.addRightEdges(tess,regUp,eUp.get_Oprev(),eUp,eUp,true);
			return true;
		}
		if(dstUp == tess.event) {
			tess.mesh.splitEdge(eLo.Sym);
			tess.mesh.splice(eUp.Lnext,eLo.get_Oprev());
			regLo = regUp;
			regUp = hxGeomAlgo__$Tess2_Sweep.topRightRegion(regUp);
			e = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp).eUp.get_Rprev();
			regLo.eUp = eLo.get_Oprev();
			eLo = hxGeomAlgo__$Tess2_Sweep.finishLeftRegions(tess,regLo,null);
			hxGeomAlgo__$Tess2_Sweep.addRightEdges(tess,regUp,eLo.Onext,eUp.get_Rprev(),e,true);
			return true;
		}
		if(hxGeomAlgo__$Tess2_Geom.edgeSign(dstUp,tess.event,isect) >= 0) {
			hxGeomAlgo__$Tess2_Sweep.regionAbove(regUp).dirty = regUp.dirty = true;
			tess.mesh.splitEdge(eUp.Sym);
			eUp.Org.s = tess.event.s;
			eUp.Org.t = tess.event.t;
		}
		if(hxGeomAlgo__$Tess2_Geom.edgeSign(dstLo,tess.event,isect) <= 0) {
			regUp.dirty = regLo.dirty = true;
			tess.mesh.splitEdge(eLo.Sym);
			eLo.Org.s = tess.event.s;
			eLo.Org.t = tess.event.t;
		}
		return false;
	}
	tess.mesh.splitEdge(eUp.Sym);
	tess.mesh.splitEdge(eLo.Sym);
	tess.mesh.splice(eLo.get_Oprev(),eUp);
	eUp.Org.s = isect.s;
	eUp.Org.t = isect.t;
	eUp.Org.pqHandle = tess.pq.insert(eUp.Org);
	hxGeomAlgo__$Tess2_Sweep.getIntersectData(tess,eUp.Org,orgUp,dstUp,orgLo,dstLo);
	hxGeomAlgo__$Tess2_Sweep.regionAbove(regUp).dirty = regUp.dirty = regLo.dirty = true;
	return false;
};
hxGeomAlgo__$Tess2_Sweep.walkDirtyRegions = function(tess,regUp) {
	var regLo = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
	var eUp;
	var eLo;
	while(true) {
		while(regLo.dirty) {
			regUp = regLo;
			regLo = hxGeomAlgo__$Tess2_Sweep.regionBelow(regLo);
		}
		if(!regUp.dirty) {
			regLo = regUp;
			regUp = hxGeomAlgo__$Tess2_Sweep.regionAbove(regUp);
			if(regUp == null || !regUp.dirty) {
				return;
			}
		}
		regUp.dirty = false;
		eUp = regUp.eUp;
		eLo = regLo.eUp;
		if(eUp.get_Dst() != eLo.get_Dst()) {
			if(hxGeomAlgo__$Tess2_Sweep.checkForLeftSplice(tess,regUp)) {
				if(regLo.fixUpperEdge) {
					hxGeomAlgo__$Tess2_Sweep.deleteRegion(tess,regLo);
					tess.mesh.delete(eLo);
					regLo = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
					eLo = regLo.eUp;
				} else if(regUp.fixUpperEdge) {
					hxGeomAlgo__$Tess2_Sweep.deleteRegion(tess,regUp);
					tess.mesh.delete(eUp);
					regUp = hxGeomAlgo__$Tess2_Sweep.regionAbove(regLo);
					eUp = regUp.eUp;
				}
			}
		}
		if(eUp.Org != eLo.Org) {
			if(eUp.get_Dst() != eLo.get_Dst() && !regUp.fixUpperEdge && !regLo.fixUpperEdge && (eUp.get_Dst() == tess.event || eLo.get_Dst() == tess.event)) {
				if(hxGeomAlgo__$Tess2_Sweep.checkForIntersect(tess,regUp)) {
					return;
				}
			} else {
				hxGeomAlgo__$Tess2_Sweep.checkForRightSplice(tess,regUp);
			}
		}
		if(eUp.Org == eLo.Org && eUp.get_Dst() == eLo.get_Dst()) {
			hxGeomAlgo__$Tess2_Sweep.addWinding(eLo,eUp);
			hxGeomAlgo__$Tess2_Sweep.deleteRegion(tess,regUp);
			tess.mesh.delete(eUp);
			regUp = hxGeomAlgo__$Tess2_Sweep.regionAbove(regLo);
		}
	}
};
hxGeomAlgo__$Tess2_Sweep.connectRightVertex = function(tess,regUp,eBottomLeft) {
	var eNew;
	var eTopLeft = eBottomLeft.Onext;
	var regLo = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
	var eUp = regUp.eUp;
	var eLo = regLo.eUp;
	var degenerate = false;
	if(eUp.get_Dst() != eLo.get_Dst()) {
		hxGeomAlgo__$Tess2_Sweep.checkForIntersect(tess,regUp);
	}
	if(hxGeomAlgo__$Tess2_Geom.vertEq(eUp.Org,tess.event)) {
		tess.mesh.splice(eTopLeft.get_Oprev(),eUp);
		regUp = hxGeomAlgo__$Tess2_Sweep.topLeftRegion(tess,regUp);
		eTopLeft = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp).eUp;
		hxGeomAlgo__$Tess2_Sweep.finishLeftRegions(tess,hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp),regLo);
		degenerate = true;
	}
	if(hxGeomAlgo__$Tess2_Geom.vertEq(eLo.Org,tess.event)) {
		tess.mesh.splice(eBottomLeft,eLo.get_Oprev());
		eBottomLeft = hxGeomAlgo__$Tess2_Sweep.finishLeftRegions(tess,regLo,null);
		degenerate = true;
	}
	if(degenerate) {
		hxGeomAlgo__$Tess2_Sweep.addRightEdges(tess,regUp,eBottomLeft.Onext,eTopLeft,eTopLeft,true);
		return;
	}
	if(hxGeomAlgo__$Tess2_Geom.vertLeq(eLo.Org,eUp.Org)) {
		eNew = eLo.get_Oprev();
	} else {
		eNew = eUp;
	}
	eNew = tess.mesh.connect(eBottomLeft.get_Lprev(),eNew);
	hxGeomAlgo__$Tess2_Sweep.addRightEdges(tess,regUp,eNew,eNew.Onext,eNew.Onext,false);
	eNew.Sym.activeRegion.fixUpperEdge = true;
	hxGeomAlgo__$Tess2_Sweep.walkDirtyRegions(tess,regUp);
};
hxGeomAlgo__$Tess2_Sweep.connectLeftDegenerate = function(tess,regUp,vEvent) {
	var e = regUp.eUp;
	if(hxGeomAlgo__$Tess2_Geom.vertEq(e.Org,vEvent)) {
		hxGeomAlgo__$Tess2_Sweep.spliceMergeVertices(tess,e,vEvent.anEdge);
		return;
	}
	if(!hxGeomAlgo__$Tess2_Geom.vertEq(e.get_Dst(),vEvent)) {
		tess.mesh.splitEdge(e.Sym);
		if(regUp.fixUpperEdge) {
			tess.mesh.delete(e.Onext);
			regUp.fixUpperEdge = false;
		}
		tess.mesh.splice(vEvent.anEdge,e);
		hxGeomAlgo__$Tess2_Sweep.sweepEvent(tess,vEvent);
		return;
	}
	regUp = hxGeomAlgo__$Tess2_Sweep.topRightRegion(regUp);
	var reg = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
	var eTopRight = reg.eUp.Sym;
	var eLast = eTopRight.Onext;
	var eTopLeft = eLast;
	if(reg.fixUpperEdge) {
		hxGeomAlgo__$Tess2_Sweep.deleteRegion(tess,reg);
		tess.mesh.delete(eTopRight);
		eTopRight = eTopLeft.get_Oprev();
	}
	tess.mesh.splice(vEvent.anEdge,eTopRight);
	if(!hxGeomAlgo__$Tess2_Geom.edgeGoesLeft(eTopLeft)) {
		eTopLeft = null;
	}
	hxGeomAlgo__$Tess2_Sweep.addRightEdges(tess,regUp,eTopRight.Onext,eLast,eTopLeft,true);
};
hxGeomAlgo__$Tess2_Sweep.connectLeftVertex = function(tess,vEvent) {
	var eNew;
	var tmp = new hxGeomAlgo__$Tess2_ActiveRegion();
	tmp.eUp = vEvent.anEdge.Sym;
	var regUp = tess.dict.search(tmp).key;
	var regLo = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
	if(regLo == null) {
		return;
	}
	var eUp = regUp.eUp;
	var eLo = regLo.eUp;
	if(hxGeomAlgo__$Tess2_Geom.edgeSign(eUp.get_Dst(),vEvent,eUp.Org) == 0.0) {
		hxGeomAlgo__$Tess2_Sweep.connectLeftDegenerate(tess,regUp,vEvent);
		return;
	}
	var reg = hxGeomAlgo__$Tess2_Geom.vertLeq(eLo.get_Dst(),eUp.get_Dst()) ? regUp : regLo;
	if(regUp.inside || reg.fixUpperEdge) {
		if(reg == regUp) {
			eNew = tess.mesh.connect(vEvent.anEdge.Sym,eUp.Lnext);
		} else {
			var tempHalfEdge = tess.mesh.connect(eLo.get_Dnext(),vEvent.anEdge);
			eNew = tempHalfEdge.Sym;
		}
		if(reg.fixUpperEdge) {
			hxGeomAlgo__$Tess2_Sweep.fixUpperEdge(tess,reg,eNew);
		} else {
			hxGeomAlgo__$Tess2_Sweep.computeWinding(tess,hxGeomAlgo__$Tess2_Sweep.addRegionBelow(tess,regUp,eNew));
		}
		hxGeomAlgo__$Tess2_Sweep.sweepEvent(tess,vEvent);
	} else {
		hxGeomAlgo__$Tess2_Sweep.addRightEdges(tess,regUp,vEvent.anEdge,vEvent.anEdge,null,true);
	}
};
hxGeomAlgo__$Tess2_Sweep.sweepEvent = function(tess,vEvent) {
	tess.event = vEvent;
	hxGeomAlgo__$Tess2_Sweep.debugEvent(tess);
	var e = vEvent.anEdge;
	while(e.activeRegion == null) {
		e = e.Onext;
		if(e == vEvent.anEdge) {
			hxGeomAlgo__$Tess2_Sweep.connectLeftVertex(tess,vEvent);
			return;
		}
	}
	var regUp = hxGeomAlgo__$Tess2_Sweep.topLeftRegion(tess,e.activeRegion);
	var reg = hxGeomAlgo__$Tess2_Sweep.regionBelow(regUp);
	var eTopLeft = reg.eUp;
	var eBottomLeft = hxGeomAlgo__$Tess2_Sweep.finishLeftRegions(tess,reg,null);
	if(eBottomLeft.Onext == eTopLeft) {
		hxGeomAlgo__$Tess2_Sweep.connectRightVertex(tess,regUp,eBottomLeft);
	} else {
		hxGeomAlgo__$Tess2_Sweep.addRightEdges(tess,regUp,eBottomLeft.Onext,eTopLeft,eTopLeft,true);
	}
};
hxGeomAlgo__$Tess2_Sweep.addSentinel = function(tess,smin,smax,t) {
	var reg = new hxGeomAlgo__$Tess2_ActiveRegion();
	var e = tess.mesh.makeEdge();
	e.Org.s = smax;
	e.Org.t = t;
	e.get_Dst().s = smin;
	e.get_Dst().t = t;
	tess.event = e.get_Dst();
	reg.eUp = e;
	reg.windingNumber = 0;
	reg.inside = false;
	reg.fixUpperEdge = false;
	reg.sentinel = true;
	reg.dirty = false;
	reg.nodeUp = tess.dict.insert(reg);
};
hxGeomAlgo__$Tess2_Sweep.initEdgeDict = function(tess) {
	tess.dict = new hxGeomAlgo__$Tess2_Dict(tess,hxGeomAlgo__$Tess2_Sweep.edgeLeq);
	var w = tess.bmax[0] - tess.bmin[0];
	var h = tess.bmax[1] - tess.bmin[1];
	var smin = tess.bmin[0] - w;
	var smax = tess.bmax[0] + w;
	var tmin = tess.bmin[1] - h;
	var tmax = tess.bmax[1] + h;
	hxGeomAlgo__$Tess2_Sweep.addSentinel(tess,smin,smax,tmin);
	hxGeomAlgo__$Tess2_Sweep.addSentinel(tess,smin,smax,tmax);
};
hxGeomAlgo__$Tess2_Sweep.doneEdgeDict = function(tess) {
	var reg;
	var fixedEdges = 0;
	while(true) {
		reg = tess.dict.min().key;
		if(!(reg != null)) {
			break;
		}
		if(!reg.sentinel) {
			var cond = ++fixedEdges == 1;
		}
		hxGeomAlgo__$Tess2_Sweep.deleteRegion(tess,reg);
	}
};
hxGeomAlgo__$Tess2_Sweep.removeDegenerateEdges = function(tess) {
	var eNext;
	var eLnext;
	var eHead = tess.mesh.eHead;
	var e = eHead.next;
	while(e != eHead) {
		eNext = e.next;
		eLnext = e.Lnext;
		if(hxGeomAlgo__$Tess2_Geom.vertEq(e.Org,e.get_Dst()) && e.Lnext.Lnext != e) {
			hxGeomAlgo__$Tess2_Sweep.spliceMergeVertices(tess,eLnext,e);
			tess.mesh.delete(e);
			e = eLnext;
			eLnext = e.Lnext;
		}
		if(eLnext.Lnext == e) {
			if(eLnext != e) {
				if(eLnext == eNext || eLnext == eNext.Sym) {
					eNext = eNext.next;
				}
				tess.mesh.delete(eLnext);
			}
			if(e == eNext || e == eNext.Sym) {
				eNext = eNext.next;
			}
			tess.mesh.delete(e);
		}
		e = eNext;
	}
};
hxGeomAlgo__$Tess2_Sweep.initPriorityQ = function(tess) {
	var vertexCount = 0;
	var vHead = tess.mesh.vHead;
	var v = vHead.next;
	while(v != vHead) {
		++vertexCount;
		v = v.next;
	}
	vertexCount += 8;
	var pq = tess.pq = new hxGeomAlgo__$Tess2_PriorityQ(vertexCount,hxGeomAlgo__$Tess2_Geom.vertLeq);
	vHead = tess.mesh.vHead;
	v = vHead.next;
	while(v != vHead) {
		v.pqHandle = pq.insert(v);
		v = v.next;
	}
	if(v != vHead) {
		return false;
	}
	pq.init();
	return true;
};
hxGeomAlgo__$Tess2_Sweep.donePriorityQ = function(tess) {
	tess.pq = null;
};
hxGeomAlgo__$Tess2_Sweep.removeDegenerateFaces = function(tess,mesh) {
	var fNext;
	var e;
	var f = mesh.fHead.next;
	while(f != mesh.fHead) {
		fNext = f.next;
		e = f.anEdge;
		if(e.Lnext.Lnext == e) {
			hxGeomAlgo__$Tess2_Sweep.addWinding(e.Onext,e);
			tess.mesh.delete(e);
		}
		f = fNext;
	}
	return true;
};
hxGeomAlgo__$Tess2_Sweep.computeInterior = function(tess) {
	var v;
	var vNext;
	hxGeomAlgo__$Tess2_Sweep.removeDegenerateEdges(tess);
	if(!hxGeomAlgo__$Tess2_Sweep.initPriorityQ(tess)) {
		return false;
	}
	hxGeomAlgo__$Tess2_Sweep.initEdgeDict(tess);
	var pq = tess.pq;
	while(true) {
		v = tess.pq.extractMin();
		if(!(v != null)) {
			break;
		}
		while(true) {
			vNext = tess.pq.min();
			if(vNext == null || !hxGeomAlgo__$Tess2_Geom.vertEq(vNext,v)) {
				break;
			}
			vNext = tess.pq.extractMin();
			hxGeomAlgo__$Tess2_Sweep.spliceMergeVertices(tess,v.anEdge,vNext.anEdge);
		}
		hxGeomAlgo__$Tess2_Sweep.sweepEvent(tess,v);
	}
	tess.event = tess.dict.min().key.eUp.Org;
	hxGeomAlgo__$Tess2_Sweep.debugEvent(tess);
	hxGeomAlgo__$Tess2_Sweep.doneEdgeDict(tess);
	hxGeomAlgo__$Tess2_Sweep.donePriorityQ(tess);
	if(!hxGeomAlgo__$Tess2_Sweep.removeDegenerateFaces(tess,tess.mesh)) {
		return false;
	}
	tess.mesh.check();
	return true;
};
var hxGeomAlgo_Tesselator = $hx_exports["hxGeomAlgo"]["Tesselator"] = function() {
	this.elementCount = 0;
	this.elements = [];
	this.vertexCount = 0;
	this.vertexIndices = [];
	this.vertices = [];
	this.vertexIndexCounter = 0;
	this.event = null;
	this.pq = null;
	this.dict = null;
	this.bmax = [0.0,0.0];
	this.bmin = [0.0,0.0];
	this.tUnit = [0.0,0.0,0.0];
	this.sUnit = [0.0,0.0,0.0];
	this.normal = [0.0,0.0,0.0];
	this.mesh = null;
	this.windingRule = hxGeomAlgo_WindingRule.ODD;
};
hxGeomAlgo_Tesselator.__name__ = true;
hxGeomAlgo_Tesselator.prototype = {
	dot_: function(u,v) {
		return u[0] * v[0] + u[1] * v[1] + u[2] * v[2];
	}
	,normalize_: function(v) {
		var len = v[0] * v[0] + v[1] * v[1] + v[2] * v[2];
		len = Math.sqrt(len);
		v[0] /= len;
		v[1] /= len;
		v[2] /= len;
	}
	,longAxis_: function(v) {
		var i = 0;
		if(Math.abs(v[1]) > Math.abs(v[0])) {
			i = 1;
		}
		if(Math.abs(v[2]) > Math.abs(v[i])) {
			i = 2;
		}
		return i;
	}
	,computeNormal_: function(norm) {
		var c;
		var tLen2;
		var maxVal = [.0,.0,.0];
		var minVal = [.0,.0,.0];
		var d1 = [.0,.0,.0];
		var d2_0 = .0;
		var d2_1 = .0;
		var d2_2 = .0;
		var tNorm_0 = .0;
		var tNorm_1 = .0;
		var tNorm_2 = .0;
		var maxVert = [null,null,null];
		var minVert = [null,null,null];
		var vHead = this.mesh.vHead;
		var v = vHead.next;
		c = v.coords[0];
		minVal[0] = c;
		minVert[0] = v;
		maxVal[0] = c;
		maxVert[0] = v;
		c = v.coords[1];
		minVal[1] = c;
		minVert[1] = v;
		maxVal[1] = c;
		maxVert[1] = v;
		c = v.coords[2];
		minVal[2] = c;
		minVert[2] = v;
		maxVal[2] = c;
		maxVert[2] = v;
		v = vHead.next;
		while(v != vHead) {
			c = v.coords[0];
			if(c < minVal[0]) {
				minVal[0] = c;
				minVert[0] = v;
			}
			if(c > maxVal[0]) {
				maxVal[0] = c;
				maxVert[0] = v;
			}
			c = v.coords[1];
			if(c < minVal[1]) {
				minVal[1] = c;
				minVert[1] = v;
			}
			if(c > maxVal[1]) {
				maxVal[1] = c;
				maxVert[1] = v;
			}
			c = v.coords[2];
			if(c < minVal[2]) {
				minVal[2] = c;
				minVert[2] = v;
			}
			if(c > maxVal[2]) {
				maxVal[2] = c;
				maxVert[2] = v;
			}
			v = v.next;
		}
		var i = 0;
		if(maxVal[1] - minVal[1] > maxVal[0] - minVal[0]) {
			i = 1;
		}
		if(maxVal[2] - minVal[2] > maxVal[i] - minVal[i]) {
			i = 2;
		}
		if(minVal[i] >= maxVal[i]) {
			norm[0] = 0;
			norm[1] = 0;
			norm[2] = 1;
			return;
		}
		var maxLen2 = .0;
		var v1 = minVert[i];
		var v2 = maxVert[i];
		d1[0] = v1.coords[0] - v2.coords[0];
		d1[1] = v1.coords[1] - v2.coords[1];
		d1[2] = v1.coords[2] - v2.coords[2];
		v = vHead.next;
		while(v != vHead) {
			d2_0 = v.coords[0] - v2.coords[0];
			d2_1 = v.coords[1] - v2.coords[1];
			d2_2 = v.coords[2] - v2.coords[2];
			tNorm_0 = d1[1] * d2_2 - d1[2] * d2_1;
			tNorm_1 = d1[2] * d2_0 - d1[0] * d2_2;
			tNorm_2 = d1[0] * d2_1 - d1[1] * d2_0;
			tLen2 = tNorm_0 * tNorm_0 + tNorm_1 * tNorm_1 + tNorm_2 * tNorm_2;
			if(tLen2 > maxLen2) {
				maxLen2 = tLen2;
				norm[0] = tNorm_0;
				norm[1] = tNorm_1;
				norm[2] = tNorm_2;
			}
			v = v.next;
		}
		if(maxLen2 <= 0) {
			norm[0] = norm[1] = norm[2] = 0;
			norm[this.longAxis_(d1)] = 1;
		}
	}
	,checkOrientation_: function() {
		var fHead = this.mesh.fHead;
		var v;
		var vHead = this.mesh.vHead;
		var e;
		var area = .0;
		var f = fHead.next;
		while(f != fHead) {
			e = f.anEdge;
			if(e.winding <= 0) {
				f = f.next;
				continue;
			}
			while(true) {
				area += (e.Org.s - e.get_Dst().s) * (e.Org.t + e.get_Dst().t);
				e = e.Lnext;
				if(!(e != f.anEdge)) {
					break;
				}
			}
			f = f.next;
		}
		if(area < 0) {
			v = vHead.next;
			while(v != vHead) {
				v.t = -v.t;
				v = v.next;
			}
			this.tUnit[0] = -this.tUnit[0];
			this.tUnit[1] = -this.tUnit[1];
			this.tUnit[2] = -this.tUnit[2];
		}
	}
	,projectPolygon_: function() {
		var vHead = this.mesh.vHead;
		var norm = [.0,.0,.0];
		var computedNormal = false;
		norm[0] = this.normal[0];
		norm[1] = this.normal[1];
		norm[2] = this.normal[2];
		if(norm[0] == 0.0 && norm[1] == 0.0 && norm[2] == 0.0) {
			this.computeNormal_(norm);
			computedNormal = true;
		}
		var sUnit = this.sUnit;
		var tUnit = this.tUnit;
		var i = this.longAxis_(norm);
		sUnit[i] = 0;
		sUnit[(i + 1) % 3] = 1.0;
		sUnit[(i + 2) % 3] = 0.0;
		tUnit[i] = 0;
		tUnit[(i + 1) % 3] = 0.0;
		tUnit[(i + 2) % 3] = norm[i] > 0 ? 1.0 : -1.0;
		var v = vHead.next;
		while(v != vHead) {
			v.s = this.dot_(v.coords,sUnit);
			v.t = this.dot_(v.coords,tUnit);
			v = v.next;
		}
		if(computedNormal) {
			this.checkOrientation_();
		}
		var first = true;
		v = vHead.next;
		while(v != vHead) {
			if(first) {
				var tmp = this.bmax[0] = v.s;
				this.bmin[0] = tmp;
				var tmp1 = this.bmax[1] = v.t;
				this.bmin[1] = tmp1;
				first = false;
			} else {
				if(v.s < this.bmin[0]) {
					this.bmin[0] = v.s;
				}
				if(v.s > this.bmax[0]) {
					this.bmax[0] = v.s;
				}
				if(v.t < this.bmin[1]) {
					this.bmin[1] = v.t;
				}
				if(v.t > this.bmax[1]) {
					this.bmax[1] = v.t;
				}
			}
			v = v.next;
		}
	}
	,addWinding_: function(eDst,eSrc) {
		eDst.winding += eSrc.winding;
		eDst.Sym.winding += eSrc.Sym.winding;
	}
	,tessellateMonoRegion_: function(mesh,face) {
		var up = face.anEdge;
		while(hxGeomAlgo__$Tess2_Geom.vertLeq(up.get_Dst(),up.Org)) up = up.get_Lprev();
		while(hxGeomAlgo__$Tess2_Geom.vertLeq(up.Org,up.get_Dst())) up = up.Lnext;
		var lo = up.get_Lprev();
		while(up.Lnext != lo) if(hxGeomAlgo__$Tess2_Geom.vertLeq(up.get_Dst(),lo.Org)) {
			while(lo.Lnext != up && (hxGeomAlgo__$Tess2_Geom.edgeGoesLeft(lo.Lnext) || hxGeomAlgo__$Tess2_Geom.edgeSign(lo.Org,lo.get_Dst(),lo.Lnext.get_Dst()) <= 0.0)) {
				var tempHalfEdge = mesh.connect(lo.Lnext,lo);
				lo = tempHalfEdge.Sym;
			}
			lo = lo.get_Lprev();
		} else {
			while(lo.Lnext != up && (hxGeomAlgo__$Tess2_Geom.edgeGoesRight(up.get_Lprev()) || hxGeomAlgo__$Tess2_Geom.edgeSign(up.get_Dst(),up.Org,up.get_Lprev().Org) >= 0.0)) {
				var tempHalfEdge1 = mesh.connect(up,up.get_Lprev());
				up = tempHalfEdge1.Sym;
			}
			up = up.Lnext;
		}
		while(lo.Lnext.Lnext != up) {
			var tempHalfEdge = mesh.connect(lo.Lnext,lo);
			lo = tempHalfEdge.Sym;
		}
		return true;
	}
	,tessellateInterior_: function(mesh) {
		var next;
		var f = mesh.fHead.next;
		while(f != mesh.fHead) {
			next = f.next;
			if(f.inside) {
				if(!this.tessellateMonoRegion_(mesh,f)) {
					return false;
				}
			}
			f = next;
		}
		return true;
	}
	,refineDelaunay_: function(mesh) {
		var stack = [];
		var e;
		var edges_0 = null;
		var edges_1 = null;
		var edges_2 = null;
		var edges_3 = null;
		var f = mesh.fHead.next;
		while(f != mesh.fHead) {
			if(f.inside) {
				e = f.anEdge;
				while(true) {
					e.mark = hxGeomAlgo__$Tess2_Geom.edgeIsInternal(e);
					if(e.mark && !e.Sym.mark) {
						stack.push(e);
					}
					e = e.Lnext;
					if(!(e != f.anEdge)) {
						break;
					}
				}
			}
			f = f.next;
		}
		while(stack.length > 0) {
			e = stack.pop();
			e.mark = e.Sym.mark = false;
			if(!hxGeomAlgo__$Tess2_Geom.edgeIsLocallyDelaunay(e)) {
				hxGeomAlgo__$Tess2_TessMesh.flipEdge(mesh,e);
				edges_0 = e.Lnext;
				edges_1 = e.get_Lprev();
				edges_2 = e.Sym.Lnext;
				edges_3 = e.Sym.get_Lprev();
				if(!edges_0.mark && hxGeomAlgo__$Tess2_Geom.edgeIsInternal(edges_0)) {
					edges_0.mark = edges_0.Sym.mark = true;
					stack.push(edges_0);
				}
				if(!edges_1.mark && hxGeomAlgo__$Tess2_Geom.edgeIsInternal(edges_1)) {
					edges_1.mark = edges_1.Sym.mark = true;
					stack.push(edges_1);
				}
				if(!edges_2.mark && hxGeomAlgo__$Tess2_Geom.edgeIsInternal(edges_2)) {
					edges_2.mark = edges_2.Sym.mark = true;
					stack.push(edges_2);
				}
			}
		}
		var _g = 0;
		while(_g < stack.length) {
			var e = stack[_g];
			++_g;
			stack.pop();
		}
		stack = null;
	}
	,discardExterior_: function(mesh) {
		var next;
		var f = mesh.fHead.next;
		while(f != mesh.fHead) {
			next = f.next;
			if(!f.inside) {
				mesh.zapFace(f);
			}
			f = next;
		}
	}
	,setWindingNumber_: function(mesh,value,keepOnlyBoundary) {
		var eNext;
		var e = mesh.eHead.next;
		while(e != mesh.eHead) {
			eNext = e.next;
			if(e.get_Rface().inside != e.Lface.inside) {
				e.winding = e.Lface.inside ? value : -value;
			} else if(!keepOnlyBoundary) {
				e.winding = 0;
			} else {
				mesh.delete(e);
			}
			e = eNext;
		}
	}
	,getNeighbourFace_: function(edge) {
		if(edge.get_Rface() == null) {
			return -1;
		}
		if(!edge.get_Rface().inside) {
			return -1;
		}
		return edge.get_Rface().n;
	}
	,outputPolymesh_: function(mesh,resultsType,polySize,vertexDim) {
		var edge;
		var maxFaceCount = 0;
		var maxVertexCount = 0;
		var faceVerts;
		var i;
		var elements = 0;
		var vert;
		if(polySize > 3) {
			mesh.mergeConvexFaces(polySize);
		}
		var v = mesh.vHead.next;
		while(v != mesh.vHead) {
			v.n = -1;
			v = v.next;
		}
		var f = mesh.fHead.next;
		while(f != mesh.fHead) {
			f.n = -1;
			if(!f.inside) {
				f = f.next;
				continue;
			}
			edge = f.anEdge;
			faceVerts = 0;
			while(true) {
				v = edge.Org;
				if(v.n == -1) {
					v.n = maxVertexCount;
					++maxVertexCount;
				}
				++faceVerts;
				edge = edge.Lnext;
				if(!(edge != f.anEdge)) {
					break;
				}
			}
			f.n = maxFaceCount;
			++maxFaceCount;
			f = f.next;
		}
		this.elementCount = maxFaceCount;
		if(resultsType == hxGeomAlgo_ResultType.CONNECTED_POLYGONS) {
			maxFaceCount *= 2;
		}
		this.elements = [];
		this.vertexCount = maxVertexCount;
		this.vertices = [];
		this.vertexIndices = [];
		v = mesh.vHead.next;
		while(v != mesh.vHead) {
			if(v.n != -1) {
				var idx = v.n * vertexDim;
				this.vertices[idx] = v.coords[0];
				this.vertices[idx + 1] = v.coords[1];
				if(vertexDim > 2) {
					this.vertices[idx + 2] = v.coords[2];
				}
				this.vertexIndices[v.n] = v.idx;
			}
			v = v.next;
		}
		var nel = 0;
		f = mesh.fHead.next;
		while(f != mesh.fHead) {
			if(!f.inside) {
				f = f.next;
				continue;
			}
			edge = f.anEdge;
			faceVerts = 0;
			while(true) {
				v = edge.Org;
				this.elements[nel++] = v.n;
				++faceVerts;
				edge = edge.Lnext;
				if(!(edge != f.anEdge)) {
					break;
				}
			}
			var _g = faceVerts;
			var _g1 = polySize;
			while(_g < _g1) {
				var i = _g++;
				this.elements[nel++] = -1;
			}
			if(resultsType == hxGeomAlgo_ResultType.CONNECTED_POLYGONS) {
				edge = f.anEdge;
				while(true) {
					this.elements[nel++] = this.getNeighbourFace_(edge);
					edge = edge.Lnext;
					if(!(edge != f.anEdge)) {
						break;
					}
				}
				var _g2 = faceVerts;
				var _g3 = polySize;
				while(_g2 < _g3) {
					var i1 = _g2++;
					this.elements[nel++] = -1;
				}
			}
			f = f.next;
		}
	}
	,outputContours_: function(mesh,vertexDim) {
		var edge;
		var start;
		var verts;
		var elements;
		var vertInds;
		var startVert = 0;
		var vertCount = 0;
		this.vertexCount = 0;
		this.elementCount = 0;
		var f = mesh.fHead.next;
		while(f != mesh.fHead) {
			if(!f.inside) {
				f = f.next;
				continue;
			}
			edge = f.anEdge;
			start = edge;
			while(true) {
				this.vertexCount++;
				edge = edge.Lnext;
				if(!(edge != start)) {
					break;
				}
			}
			this.elementCount++;
			f = f.next;
		}
		this.elements = [];
		this.vertices = [];
		this.vertexIndices = [];
		var nv = 0;
		var nvi = 0;
		var nel = 0;
		startVert = 0;
		f = mesh.fHead.next;
		while(f != mesh.fHead) {
			if(!f.inside) {
				f = f.next;
				continue;
			}
			vertCount = 0;
			edge = f.anEdge;
			start = edge;
			while(true) {
				this.vertices[nv++] = edge.Org.coords[0];
				this.vertices[nv++] = edge.Org.coords[1];
				if(vertexDim > 2) {
					this.vertices[nv++] = edge.Org.coords[2];
				}
				this.vertexIndices[nvi++] = edge.Org.idx;
				++vertCount;
				edge = edge.Lnext;
				if(!(edge != start)) {
					break;
				}
			}
			this.elements[nel++] = startVert;
			this.elements[nel++] = vertCount;
			startVert += vertCount;
			f = f.next;
		}
	}
	,addContour: function(vertexDim,vertices) {
		if(this.mesh == null) {
			this.mesh = new hxGeomAlgo__$Tess2_TessMesh();
		}
		if(vertexDim < 2) {
			vertexDim = 2;
		}
		if(vertexDim > 3) {
			vertexDim = 3;
		}
		var e = null;
		var i = 0;
		while(i < vertices.length) {
			if(e == null) {
				e = this.mesh.makeEdge();
				this.mesh.splice(e,e.Sym);
			} else {
				this.mesh.splitEdge(e);
				e = e.Lnext;
			}
			e.Org.coords[0] = vertices[i];
			e.Org.coords[1] = vertices[i + 1];
			if(vertexDim > 2) {
				e.Org.coords[2] = vertices[i + 2];
			} else {
				e.Org.coords[2] = 0.0;
			}
			e.Org.idx = this.vertexIndexCounter++;
			e.winding = 1;
			e.Sym.winding = -1;
			i += vertexDim;
		}
	}
	,tesselate: function(windingRule,resultType,polySize,vertexDim,normal) {
		this.vertices = [];
		this.elements = [];
		this.vertexIndices = [];
		this.vertexIndexCounter = 0;
		if(normal != null) {
			this.normal[0] = normal[0];
			this.normal[1] = normal[1];
			this.normal[2] = normal[2];
		}
		this.windingRule = windingRule;
		if(vertexDim < 2) {
			vertexDim = 2;
		}
		if(vertexDim > 3) {
			vertexDim = 3;
		}
		if(this.mesh == null) {
			return false;
		}
		this.projectPolygon_();
		hxGeomAlgo__$Tess2_Sweep.computeInterior(this);
		var mesh = this.mesh;
		if(resultType == hxGeomAlgo_ResultType.BOUNDARY_CONTOURS) {
			this.setWindingNumber_(mesh,1,true);
		} else {
			this.tessellateInterior_(mesh);
			if(resultType == hxGeomAlgo_ResultType.EXPERIMENTAL_DELAUNAY) {
				this.refineDelaunay_(mesh);
				polySize = 3;
			}
		}
		mesh.check();
		if(resultType == hxGeomAlgo_ResultType.BOUNDARY_CONTOURS) {
			this.outputContours_(mesh,vertexDim);
		} else {
			this.outputPolymesh_(mesh,resultType,polySize,vertexDim);
		}
		return true;
	}
};
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var con = e.__constructs__[o._hx_index];
			var n = con._hx_name;
			if(con.__params__) {
				s = s + "\t";
				return n + "(" + ((function($this) {
					var $r;
					var _g = [];
					{
						var _g1 = 0;
						var _g2 = con.__params__;
						while(true) {
							if(!(_g1 < _g2.length)) {
								break;
							}
							var p = _g2[_g1];
							_g1 = _g1 + 1;
							_g.push(js_Boot.__string_rec(o[p],s));
						}
					}
					$r = _g;
					return $r;
				}(this))).join(",") + ")";
			} else {
				return n;
			}
		}
		if(((o) instanceof Array)) {
			var str = "[";
			s += "\t";
			var _g = 0;
			var _g1 = o.length;
			while(_g < _g1) {
				var i = _g++;
				str += (i > 0 ? "," : "") + js_Boot.__string_rec(o[i],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( _g ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var str = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		var k = null;
		for( k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str.length != 2) {
			str += ", \n";
		}
		str += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str += "\n" + s + "}";
		return str;
	case "string":
		return o;
	default:
		return String(o);
	}
};
var kitGL_glWeb_AnimateTimer = function() { };
kitGL_glWeb_AnimateTimer.__name__ = true;
kitGL_glWeb_AnimateTimer.loop = function(tim) {
	window.requestAnimationFrame(kitGL_glWeb_AnimateTimer.loop);
	if(kitGL_glWeb_AnimateTimer.onFrame != null) {
		kitGL_glWeb_AnimateTimer.onFrame(kitGL_glWeb_AnimateTimer.counter);
	}
	kitGL_glWeb_AnimateTimer.counter++;
	return true;
};
var kitGL_glWeb_DivertTrace = function(left_) {
	if(left_ == null) {
		left_ = 610;
	}
	this.textStyle1 = "<span style=\"font-size:14px; color:Grey\">";
	this.textStyle0 = "<span style=\"font-size:12px; color:Silver\">";
	this.traceString = "";
	var doc = window.document;
	this.traceDiv = doc.createElement("div");
	doc.body.appendChild(this.traceDiv);
	var dom = this.traceDiv;
	var style = dom.style;
	style.position = "absolute";
	style.top = Std.string(0 + "px");
	style.left = Std.string(left_ + "px");
	style.height = Std.string(500 + "px");
	style.width = Std.string(500 + "px");
	style.zIndex = "99";
	style.overflow = "auto";
	haxe_Log.trace = $bind(this,this.myTrace);
	window.onerror = $bind(this,this.myError);
};
kitGL_glWeb_DivertTrace.__name__ = true;
kitGL_glWeb_DivertTrace.prototype = {
	myError: function(msg,url,lineNo,columnNo,errorObj) {
		var arr = url.split("/");
		var file = arr[arr.length - 2] + " " + arr[arr.length - 1];
		var str = this.textStyle0;
		str += "ERROR: " + file + " ( " + (lineNo == null ? "null" : "" + lineNo) + ": " + (columnNo == null ? "null" : "" + columnNo) + " )";
		str += "</span>";
		str += "<br> - ";
		str += this.textStyle1;
		str += Std.string(msg);
		str += "</span>";
		str += "<br>";
		this.traceString += str;
		this.traceDiv.innerHTML = this.traceString;
		return false;
	}
	,myTrace: function(v,inf) {
		if(Std.string(v) == "") {
			return;
		}
		this.traceString += this.textStyle0 + inf.className + "." + inf.methodName + " ( " + (inf.lineNumber == null ? "null" : "" + inf.lineNumber) + " )" + "</span>" + "<br> - " + this.textStyle1 + Std.string(v) + "</span>" + "<br>";
		this.traceDiv.innerHTML = this.traceString;
	}
};
var kitGL_glWeb_Sheet = function() {
};
kitGL_glWeb_Sheet.__name__ = true;
kitGL_glWeb_Sheet.prototype = {
	create: function(width_,height_,autoChild) {
		if(autoChild == null) {
			autoChild = false;
		}
		if(height_ == null) {
			height_ = 600;
		}
		if(width_ == null) {
			width_ = 600;
		}
		this.width = width_;
		this.height = height_;
		this.canvasGL = window.document.createElement("canvas");
		this.canvasGL.width = this.width;
		this.canvasGL.height = this.height;
		var body = window.document.body;
		body.style.overflow = "hidden";
		body.style.position = "fixed";
		this.pixelRatio = window.devicePixelRatio;
		if(this.pixelRatio == null) {
			this.pixelRatio = 1.;
		}
		var bodyEL = window.document.body;
		var style = bodyEL.style;
		style.paddingLeft = Std.string(0 + "px");
		style.paddingTop = Std.string(0 + "px");
		style.left = Std.string(0 + "px");
		style.top = Std.string(0 + "px");
		style.marginLeft = Std.string(0 + "px");
		style.marginTop = Std.string(0 + "px");
		style.position = "absolute";
		this.domGL = this.canvasGL;
		var style = this.domGL.style;
		style.paddingLeft = Std.string(0 + "px");
		style.paddingTop = Std.string(0 + "px");
		style.left = Std.string(0 + "px");
		style.top = Std.string(0 + "px");
		style.marginLeft = Std.string(0 + "px");
		style.marginTop = Std.string(0 + "px");
		style.position = "absolute";
		if(autoChild) {
			body.appendChild(this.canvasGL);
		}
		this.canvas2D = window.document.createElement("canvas");
		this.canvas2D.width = this.width;
		this.canvas2D.height = this.height;
		this.domGL2D = this.canvasGL;
		var style = this.domGL.style;
		style.paddingLeft = Std.string(0 + "px");
		style.paddingTop = Std.string(0 + "px");
		style.left = Std.string(0 + "px");
		style.top = Std.string(0 + "px");
		style.marginLeft = Std.string(0 + "px");
		style.marginTop = Std.string(0 + "px");
		style.position = "absolute";
		if(autoChild) {
			body.appendChild(this.canvas2D);
		}
		this.gl = this.canvasGL.getContext("webgl",{ premultipliedAlpha : false});
		this.cx = this.canvas2D.getContext("2d");
	}
};
var trilateral3_Trilateral = function() { };
trilateral3_Trilateral.__name__ = true;
var trilateral3_drawing_Contour = function(pen_,endLine_) {
	if(endLine_ == null) {
		endLine_ = 0;
	}
	this.count = 0;
	this.pointsAnti = [];
	this.pointsClock = [];
	this.pen = pen_;
	this.endLine = endLine_;
};
trilateral3_drawing_Contour.__name__ = true;
trilateral3_drawing_Contour.prototype = {
	reset: function() {
		this.angleA = 0;
		this.count = 0;
		this.kax = 0;
		this.kay = 0;
		this.kbx = 0;
		this.kby = 0;
		this.kcx = 0;
		this.kcy = 0;
		this.ncx = 0;
		this.ncy = 0;
		this.ax = 0;
		this.ay = 0;
		this.bx = 0;
		this.by = 0;
		this.cx = 0;
		this.cy = 0;
		this.dx = null;
		this.dy = null;
		this.ex = null;
		this.ey = null;
		this.pointsClock.length = 0;
		this.pointsAnti.length = 0;
	}
	,endEdges: function() {
		var pC = this.pointsClock.length;
		var pA = this.pointsAnti.length;
		this.pointsClock[pC++] = this.penultimateCX;
		this.pointsClock[pC++] = this.penultimateCY;
		this.pointsClock[pC++] = this.lastClockX;
		this.pointsClock[pC++] = this.lastClockY;
		this.pointsAnti[pA++] = this.penultimateAX;
		this.pointsAnti[pA++] = this.penultimateAY;
		this.pointsAnti[pA++] = this.lastAntiX;
		this.pointsAnti[pA++] = this.lastAntiY;
	}
	,addQuads: function(clockWise,width_) {
		var currQuadIndex = this.pen.paintType.get_pos();
		var pC = 0;
		var pA = 0;
		if(clockWise && !this.lastClock) {
			if(this.count == 1) {
				pA = this.pointsAnti.length;
				this.pointsAnti[pA++] = this.kax;
				this.pointsAnti[pA++] = this.kay;
				this.pointsAnti[pA++] = this.jx;
				this.pointsAnti[pA++] = this.jy;
				pC = this.pointsClock.length;
				this.pointsClock[pC++] = this.kbx;
				this.pointsClock[pC++] = this.kby;
				this.pointsClock[pC++] = this.ncx;
				this.pointsClock[pC++] = this.ncy;
				var v = this.quadIndex + 1;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.kax;
				var ay = this.kay;
				var bx = this.kbx;
				var by = this.kby;
				var cx = this.ncx;
				var cy = this.ncy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
			} else {
				pA = this.pointsAnti.length;
				this.pointsAnti[pA++] = this.kax;
				this.pointsAnti[pA++] = this.kay;
				this.pointsAnti[pA++] = this.jx;
				this.pointsAnti[pA++] = this.jy;
				pC = this.pointsClock.length;
				this.pointsClock[pC++] = this.jxOld;
				this.pointsClock[pC++] = this.jyOld;
				this.pointsClock[pC++] = this.kbx;
				this.pointsClock[pC++] = this.kby;
				var v = this.quadIndex + 1;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.kax;
				var ay = this.kay;
				var bx = this.kbx;
				var by = this.kby;
				var cx = this.jxOld;
				var cy = this.jyOld;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
			}
			var v = this.quadIndex;
			this.pen.paintType.set_pos(v);
			var _this = this.pen;
			var color = -1;
			if(color == null) {
				color = -1;
			}
			if(color == -1) {
				color = _this.currentColor;
			}
			var ax = this.kax;
			var ay = this.kay;
			var bx = this.kbx;
			var by = this.kby;
			var cx = this.jx;
			var cy = this.jy;
			var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this.paintType.cornerColors(color,color,color);
			_this.paintType.next();
		}
		if(clockWise && this.lastClock) {
			if(this.count == 1) {
				pA = this.pointsAnti.length;
				this.pointsAnti[pA++] = this.jx;
				this.pointsAnti[pA++] = this.jy;
				this.pointsAnti[pA++] = this.kbx;
				this.pointsAnti[pA++] = this.kby;
				pC = this.pointsClock.length;
				this.pointsClock[pC++] = this.kax;
				this.pointsClock[pC++] = this.kay;
				this.pointsClock[pC++] = this.kbx;
				this.pointsClock[pC++] = this.kby;
				var v = this.quadIndex;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.kax;
				var ay = this.kay;
				var bx = this.kbx;
				var by = this.kby;
				var cx = this.jx;
				var cy = this.jy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
				var v = this.quadIndex + 1;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.kax;
				var ay = this.kay;
				var bx = this.kbx;
				var by = this.kby;
				var cx = this.ncx;
				var cy = this.ncy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
			} else {
				pA = this.pointsAnti.length;
				this.pointsAnti[pA++] = this.jxOld;
				this.pointsAnti[pA++] = this.jyOld;
				this.pointsAnti[pA++] = this.jx;
				this.pointsAnti[pA++] = this.jy;
				pC = this.pointsClock.length;
				this.pointsClock[pC++] = this.ncx;
				this.pointsClock[pC++] = this.ncy;
				this.pointsClock[pC++] = this.kbx;
				this.pointsClock[pC++] = this.kby;
				var v = this.quadIndex;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.jxOld;
				var ay = this.jyOld;
				var bx = this.kbx;
				var by = this.kby;
				var cx = this.jx;
				var cy = this.jy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
				var v = this.quadIndex + 1;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.jxOld;
				var ay = this.jyOld;
				var bx = this.kbx;
				var by = this.kby;
				var cx = this.ncx;
				var cy = this.ncy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
			}
		}
		if(!clockWise && !this.lastClock) {
			var v = this.quadIndex;
			this.pen.paintType.set_pos(v);
			var _this = this.pen;
			var color = -1;
			if(color == null) {
				color = -1;
			}
			if(color == -1) {
				color = _this.currentColor;
			}
			var ax = this.kax;
			var ay = this.kay;
			var bx = this.jx;
			var by = this.jy;
			var cx = this.kcx;
			var cy = this.kcy;
			var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this.paintType.cornerColors(color,color,color);
			_this.paintType.next();
			if(this.count == 1) {
				pA = this.pointsAnti.length;
				this.pointsAnti[pA++] = this.kax;
				this.pointsAnti[pA++] = this.kay;
				this.pointsAnti[pA++] = this.kcx;
				this.pointsAnti[pA++] = this.kcy;
				pC = this.pointsClock.length;
				this.pointsClock[pC++] = this.ncx;
				this.pointsClock[pC++] = this.ncy;
				this.pointsClock[pC++] = this.jx;
				this.pointsClock[pC++] = this.jy;
				var v = this.quadIndex + 1;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.kax;
				var ay = this.kay;
				var bx = this.jx;
				var by = this.jy;
				var cx = this.ncx;
				var cy = this.ncy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
			} else {
				pA = this.pointsAnti.length;
				this.pointsAnti[pA++] = this.kax;
				this.pointsAnti[pA++] = this.kay;
				this.pointsAnti[pA++] = this.kcx;
				this.pointsAnti[pA++] = this.kcy;
				pC = this.pointsClock.length;
				this.pointsClock[pC++] = this.jxOld;
				this.pointsClock[pC++] = this.jyOld;
				this.pointsClock[pC++] = this.jx;
				this.pointsClock[pC++] = this.jy;
				var v = this.quadIndex + 1;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.kax;
				var ay = this.kay;
				var bx = this.jx;
				var by = this.jy;
				var cx = this.jxOld;
				var cy = this.jyOld;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
			}
		}
		if(!clockWise && this.lastClock) {
			if(this.count == 1) {
				pA = this.pointsAnti.length;
				this.pointsAnti[pA++] = this.kay;
				this.pointsAnti[pA++] = this.kax;
				this.pointsAnti[pA++] = this.kcx;
				this.pointsAnti[pA++] = this.kcy;
				pC = this.pointsClock.length;
				this.pointsClock[pC++] = this.jx;
				this.pointsClock[pC++] = this.jy;
				this.pointsClock[pC++] = this.ncx;
				this.pointsClock[pC++] = this.ncy;
				var v = this.quadIndex;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.kax;
				var ay = this.kay;
				var bx = this.jx;
				var by = this.jy;
				var cx = this.kcx;
				var cy = this.kcy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
				var v = this.quadIndex + 1;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.kax;
				var ay = this.kay;
				var bx = this.jx;
				var by = this.jy;
				var cx = this.ncx;
				var cy = this.ncy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
			} else {
				pA = this.pointsAnti.length;
				this.pointsAnti[pA++] = this.jxOld;
				this.pointsAnti[pA++] = this.jyOld;
				this.pointsAnti[pA++] = this.kcx;
				this.pointsAnti[pA++] = this.kcy;
				pC = this.pointsClock.length;
				this.pointsClock[pC++] = this.jx;
				this.pointsClock[pC++] = this.jy;
				this.pointsClock[pC++] = this.ncx;
				this.pointsClock[pC++] = this.ncy;
				var v = this.quadIndex;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.jxOld;
				var ay = this.jyOld;
				var bx = this.jx;
				var by = this.jy;
				var cx = this.kcx;
				var cy = this.kcy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
				var v = this.quadIndex + 1;
				this.pen.paintType.set_pos(v);
				var _this = this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this.currentColor;
				}
				var ax = this.jxOld;
				var ay = this.jyOld;
				var bx = this.jx;
				var by = this.jy;
				var cx = this.ncx;
				var cy = this.ncy;
				var windAdjust = _this.paintType.triangle(ax,ay,_this.z2D,bx,by,_this.z2D,cx,cy,_this.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this.paintType.cornerColors(color,color,color);
				_this.paintType.next();
			}
		}
		this.pen.paintType.set_pos(currQuadIndex);
	}
};
var trilateral3_drawing_Pen = function(paintType_) {
	this.currentColor = 16435934;
	this.useTexture = false;
	this.z2D = 0.;
	this.paintType = paintType_;
};
trilateral3_drawing_Pen.__name__ = true;
var trilateral3_drawing_Sketch = function(pen_,sketchForm_,endLine_) {
	if(endLine_ == null) {
		endLine_ = 0;
	}
	this.width = 0.01;
	this.y = 0.;
	this.x = 0.;
	this.contour = new trilateral3_drawing_Contour(pen_,endLine_);
	this.pen = pen_;
	this.endLine = endLine_;
	this.sketchForm = sketchForm_;
	switch(sketchForm_) {
	case 0:
		this.line = $bind(this,this.tracerLine);
		break;
	case 1:
		this.line = $bind(this,this.baseLine);
		break;
	case 2:
		this.line = $bind(this,this.crudeLine);
		break;
	case 3:
		this.line = $bind(this,this.fillOnlyLine);
		break;
	case 4:
		this.line = $bind(this,this.fineLine);
		break;
	case 5:
		this.line = $bind(this,this.fineOverlapLine);
		break;
	case 6:
		this.line = $bind(this,this.mediumLine);
		break;
	case 7:
		this.line = $bind(this,this.mediumOverlapLine);
		break;
	case 8:
		this.line = $bind(this,this.roundEndLine);
		break;
	}
	this.points = [];
	this.pointsClock = [];
	this.pointsAnti = [];
	this.points[0] = [];
	this.dim = [];
};
trilateral3_drawing_Sketch.__name__ = true;
trilateral3_drawing_Sketch.prototype = {
	tracerLine: function(x_,y_) {
		haxe_Log.trace("lineTo( " + this.x + ", " + this.y + ", " + x_ + ", " + y_ + ", width )",{ fileName : "trilateral3/drawing/Sketch.hx", lineNumber : 43, className : "trilateral3.drawing.Sketch", methodName : "tracerLine"});
	}
	,fillOnlyLine: function(x_,y_) {
	}
	,baseLine: function(x_,y_) {
		haxe_Log.trace("lineTo( " + this.x + ", " + this.y + ", " + x_ + ", " + y_ + ", width )",{ fileName : "trilateral3/drawing/Sketch.hx", lineNumber : 43, className : "trilateral3.drawing.Sketch", methodName : "tracerLine"});
		var _this = this.contour;
		var ax_ = this.x;
		var ay_ = this.y;
		var width_ = this.width;
		_this.ax = x_;
		_this.ay = y_;
		_this.bx = ax_;
		_this.by = ay_;
		_this.halfA = Math.PI / 2;
		_this.beta = Math.PI / 2 - _this.halfA;
		_this.r = width_ / 2 * Math.cos(_this.beta);
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var dxPrev_ = _this.dx;
		var dyPrev_ = _this.dy;
		var exPrev_ = _this.ex;
		var eyPrev_ = _this.ey;
		_this.ax = ax_;
		_this.ay = ay_;
		_this.bx = x_;
		_this.by = y_;
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var _this1 = _this.pen;
		var color = -1;
		if(color == null) {
			color = -1;
		}
		if(color == -1) {
			color = _this1.currentColor;
		}
		var ax = dxPrev_;
		var ay = dyPrev_;
		var bx = _this.dx;
		var by = _this.dy;
		var cx = exPrev_;
		var cy = eyPrev_;
		var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
		if(trilateral3_Trilateral.transformMatrix != null) {
			_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
		}
		if(_this1.useTexture) {
			ax /= 2000;
			ay /= 2000;
			bx /= 2000;
			by /= 2000;
			cx /= 2000;
			cy /= 2000;
			_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
		}
		_this1.paintType.cornerColors(color,color,color);
		_this1.paintType.next();
		var _this1 = _this.pen;
		var color = -1;
		if(color == null) {
			color = -1;
		}
		if(color == -1) {
			color = _this1.currentColor;
		}
		var ax = dxPrev_;
		var ay = dyPrev_;
		var bx = _this.dx;
		var by = _this.dy;
		var cx = _this.ex;
		var cy = _this.ey;
		var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
		if(trilateral3_Trilateral.transformMatrix != null) {
			_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
		}
		if(_this1.useTexture) {
			ax /= 2000;
			ay /= 2000;
			bx /= 2000;
			by /= 2000;
			cx /= 2000;
			cy /= 2000;
			_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
		}
		_this1.paintType.cornerColors(color,color,color);
		_this1.paintType.next();
	}
	,crudeLine: function(x_,y_) {
		var _this = this.contour;
		var ax_ = this.x;
		var ay_ = this.y;
		var width_ = this.width;
		_this.ax = x_;
		_this.ay = y_;
		_this.bx = ax_;
		_this.by = ay_;
		_this.halfA = Math.PI / 2;
		_this.beta = Math.PI / 2 - _this.halfA;
		_this.r = width_ / 2 * Math.cos(_this.beta);
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var dxPrev_ = _this.dx;
		var dyPrev_ = _this.dy;
		var exPrev_ = _this.ex;
		var eyPrev_ = _this.ey;
		_this.ax = ax_;
		_this.ay = ay_;
		_this.bx = x_;
		_this.by = y_;
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var _this1 = _this.pen;
		var color = -1;
		if(color == null) {
			color = -1;
		}
		if(color == -1) {
			color = _this1.currentColor;
		}
		var ax = dxPrev_;
		var ay = dyPrev_;
		var bx = _this.dx;
		var by = _this.dy;
		var cx = exPrev_;
		var cy = eyPrev_;
		var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
		if(trilateral3_Trilateral.transformMatrix != null) {
			_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
		}
		if(_this1.useTexture) {
			ax /= 2000;
			ay /= 2000;
			bx /= 2000;
			by /= 2000;
			cx /= 2000;
			cy /= 2000;
			_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
		}
		_this1.paintType.cornerColors(color,color,color);
		_this1.paintType.next();
		var _this1 = _this.pen;
		var color = -1;
		if(color == null) {
			color = -1;
		}
		if(color == -1) {
			color = _this1.currentColor;
		}
		var ax = dxPrev_;
		var ay = dyPrev_;
		var bx = _this.dx;
		var by = _this.dy;
		var cx = _this.ex;
		var cy = _this.ey;
		var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
		if(trilateral3_Trilateral.transformMatrix != null) {
			_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
		}
		if(_this1.useTexture) {
			ax /= 2000;
			ay /= 2000;
			bx /= 2000;
			by /= 2000;
			cx /= 2000;
			cy /= 2000;
			_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
		}
		_this1.paintType.cornerColors(color,color,color);
		_this1.paintType.next();
	}
	,roundEndLine: function(x_,y_) {
		var _this = this.contour;
		var ax_ = this.x;
		var ay_ = this.y;
		var width_ = this.width;
		var endLineCurve = 3;
		if(endLineCurve == null) {
			endLineCurve = 0;
		}
		_this.ax = x_;
		_this.ay = y_;
		_this.bx = ax_;
		_this.by = ay_;
		_this.halfA = Math.PI / 2;
		_this.beta = Math.PI / 2 - _this.halfA;
		_this.r = width_ / 2 * Math.cos(_this.beta);
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var dxPrev_ = _this.dx;
		var dyPrev_ = _this.dy;
		var exPrev_ = _this.ex;
		var eyPrev_ = _this.ey;
		_this.ax = ax_;
		_this.ay = ay_;
		_this.bx = x_;
		_this.by = y_;
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		switch(endLineCurve) {
		case 0:
			break;
		case 1:
			var radius = width_ / 2;
			var beta = -_this.angle1 - Math.PI / 2;
			var gamma = -_this.angle1 - Math.PI / 2 + Math.PI;
			var paintType = _this.pen.paintType;
			var sides = 36;
			if(sides == null) {
				sides = 36;
			}
			var pi = Math.PI;
			var step = pi * 2 / sides;
			var dif;
			switch(fracs_DifferencePreference.SMALL._hx_index) {
			case 0:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
				break;
			case 1:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
				break;
			case 2:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var smallest = theta <= Math.PI;
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			case 3:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var largest = theta > Math.PI;
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			}
			var positive = dif >= 0;
			var totalSteps = Math.ceil(Math.abs(dif) / step);
			var step = dif / totalSteps;
			var angle = beta;
			var cx;
			var cy;
			var bx = 0;
			var by = 0;
			var _g = 0;
			var _g1 = totalSteps + 1;
			while(_g < _g1) {
				var i = _g++;
				cx = ax_ + radius * Math.sin(angle);
				cy = ay_ + radius * Math.cos(angle);
				if(i != 0) {
					paintType.triangle(ax_,ay_,0,bx,by,0,cx,cy,0);
					var m = trilateral3_Trilateral.transformMatrix;
					if(m != null) {
						paintType.transform(m);
					}
					paintType.next();
				}
				angle += step;
				bx = cx;
				by = cy;
			}
			var len = totalSteps;
			var fh = _this.pen;
			var this1 = fh.paintType;
			var v = fh.paintType.get_pos() - len;
			this1.set_pos(v);
			var _this1 = _this.pen;
			var color = 0;
			if(color == -1) {
				color = _this1.currentColor;
			}
			_this1.paintType.colorTriangles(color,len);
			break;
		case 2:
			var radius = width_ / 2;
			var beta = -_this.angle1 - Math.PI / 2;
			var gamma = -_this.angle1 - Math.PI / 2 - Math.PI;
			var paintType = _this.pen.paintType;
			var sides = 36;
			if(sides == null) {
				sides = 36;
			}
			var pi = Math.PI;
			var step = pi * 2 / sides;
			var dif;
			switch(fracs_DifferencePreference.SMALL._hx_index) {
			case 0:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
				break;
			case 1:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
				break;
			case 2:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var smallest = theta <= Math.PI;
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			case 3:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var largest = theta > Math.PI;
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			}
			var positive = dif >= 0;
			var totalSteps = Math.ceil(Math.abs(dif) / step);
			var step = dif / totalSteps;
			var angle = beta;
			var cx;
			var cy;
			var bx = 0;
			var by = 0;
			var _g = 0;
			var _g1 = totalSteps + 1;
			while(_g < _g1) {
				var i = _g++;
				cx = x_ + radius * Math.sin(angle);
				cy = y_ + radius * Math.cos(angle);
				if(i != 0) {
					paintType.triangle(x_,y_,0,bx,by,0,cx,cy,0);
					var m = trilateral3_Trilateral.transformMatrix;
					if(m != null) {
						paintType.transform(m);
					}
					paintType.next();
				}
				angle += step;
				bx = cx;
				by = cy;
			}
			var len = totalSteps;
			var fh = _this.pen;
			var this1 = fh.paintType;
			var v = fh.paintType.get_pos() - len;
			this1.set_pos(v);
			var _this1 = _this.pen;
			var color = 0;
			if(color == -1) {
				color = _this1.currentColor;
			}
			_this1.paintType.colorTriangles(color,len);
			break;
		case 3:
			var radius = width_ / 2;
			var beta = -_this.angle1 - Math.PI / 2;
			var gamma = -_this.angle1 - Math.PI / 2 + Math.PI;
			var paintType = _this.pen.paintType;
			var sides = 36;
			if(sides == null) {
				sides = 36;
			}
			var pi = Math.PI;
			var step = pi * 2 / sides;
			var dif;
			switch(fracs_DifferencePreference.SMALL._hx_index) {
			case 0:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
				break;
			case 1:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
				break;
			case 2:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var smallest = theta <= Math.PI;
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			case 3:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var largest = theta > Math.PI;
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			}
			var positive = dif >= 0;
			var totalSteps = Math.ceil(Math.abs(dif) / step);
			var step = dif / totalSteps;
			var angle = beta;
			var cx;
			var cy;
			var bx = 0;
			var by = 0;
			var _g = 0;
			var _g1 = totalSteps + 1;
			while(_g < _g1) {
				var i = _g++;
				cx = ax_ + radius * Math.sin(angle);
				cy = ay_ + radius * Math.cos(angle);
				if(i != 0) {
					paintType.triangle(ax_,ay_,0,bx,by,0,cx,cy,0);
					var m = trilateral3_Trilateral.transformMatrix;
					if(m != null) {
						paintType.transform(m);
					}
					paintType.next();
				}
				angle += step;
				bx = cx;
				by = cy;
			}
			var len = totalSteps;
			var fh = _this.pen;
			var this1 = fh.paintType;
			var v = fh.paintType.get_pos() - len;
			this1.set_pos(v);
			var _this1 = _this.pen;
			var color = 0;
			if(color == -1) {
				color = _this1.currentColor;
			}
			_this1.paintType.colorTriangles(color,len);
			var radius = width_ / 2;
			var beta = -_this.angle1 - Math.PI / 2;
			var gamma = -_this.angle1 - Math.PI / 2 - Math.PI;
			var paintType = _this.pen.paintType;
			var sides = 36;
			if(sides == null) {
				sides = 36;
			}
			var pi = Math.PI;
			var step = pi * 2 / sides;
			var dif;
			switch(fracs_DifferencePreference.SMALL._hx_index) {
			case 0:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
				break;
			case 1:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
				break;
			case 2:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var smallest = theta <= Math.PI;
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			case 3:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var largest = theta > Math.PI;
				var clockwise = fa < fb;
				var dif1 = clockwise ? theta : -theta;
				dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			}
			var positive = dif >= 0;
			var totalSteps = Math.ceil(Math.abs(dif) / step);
			var step = dif / totalSteps;
			var angle = beta;
			var cx;
			var cy;
			var bx = 0;
			var by = 0;
			var _g = 0;
			var _g1 = totalSteps + 1;
			while(_g < _g1) {
				var i = _g++;
				cx = x_ + radius * Math.sin(angle);
				cy = y_ + radius * Math.cos(angle);
				if(i != 0) {
					paintType.triangle(x_,y_,0,bx,by,0,cx,cy,0);
					var m = trilateral3_Trilateral.transformMatrix;
					if(m != null) {
						paintType.transform(m);
					}
					paintType.next();
				}
				angle += step;
				bx = cx;
				by = cy;
			}
			var len = totalSteps;
			var fh = _this.pen;
			var this1 = fh.paintType;
			var v = fh.paintType.get_pos() - len;
			this1.set_pos(v);
			var _this1 = _this.pen;
			var color = 0;
			if(color == -1) {
				color = _this1.currentColor;
			}
			_this1.paintType.colorTriangles(color,len);
			break;
		}
		var _this1 = _this.pen;
		var color = -1;
		if(color == null) {
			color = -1;
		}
		if(color == -1) {
			color = _this1.currentColor;
		}
		var ax = dxPrev_;
		var ay = dyPrev_;
		var bx = _this.dx;
		var by = _this.dy;
		var cx = exPrev_;
		var cy = eyPrev_;
		var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
		if(trilateral3_Trilateral.transformMatrix != null) {
			_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
		}
		if(_this1.useTexture) {
			ax /= 2000;
			ay /= 2000;
			bx /= 2000;
			by /= 2000;
			cx /= 2000;
			cy /= 2000;
			_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
		}
		_this1.paintType.cornerColors(color,color,color);
		_this1.paintType.next();
		var _this1 = _this.pen;
		var color = -1;
		if(color == null) {
			color = -1;
		}
		if(color == -1) {
			color = _this1.currentColor;
		}
		var ax = dxPrev_;
		var ay = dyPrev_;
		var bx = _this.dx;
		var by = _this.dy;
		var cx = _this.ex;
		var cy = _this.ey;
		var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
		if(trilateral3_Trilateral.transformMatrix != null) {
			_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
		}
		if(_this1.useTexture) {
			ax /= 2000;
			ay /= 2000;
			bx /= 2000;
			by /= 2000;
			cx /= 2000;
			cy /= 2000;
			_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
		}
		_this1.paintType.cornerColors(color,color,color);
		_this1.paintType.next();
	}
	,mediumLine: function(x_,y_) {
		var _this = this.contour;
		var ax_ = this.x;
		var ay_ = this.y;
		var width_ = this.width;
		var curveEnds = false;
		if(curveEnds == null) {
			curveEnds = false;
		}
		var oldAngle = _this.dx != null ? _this.angle1 : null;
		_this.halfA = Math.PI / 2;
		_this.ax = x_;
		_this.ay = y_;
		_this.bx = ax_;
		_this.by = ay_;
		_this.beta = Math.PI / 2 - _this.halfA;
		_this.r = width_ / 2 * Math.cos(_this.beta);
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		_this.ax = ax_;
		_this.ay = ay_;
		_this.bx = x_;
		_this.by = y_;
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var x = _this.dxOld - x_;
		var y = _this.dyOld - y_;
		var x1 = _this.exOld - x_;
		var y1 = _this.eyOld - y_;
		var clockWise = x * x + y * y > x1 * x1 + y1 * y1;
		var theta0;
		var theta1;
		if(clockWise) {
			theta0 = -Math.atan2(_this.ay - _this.dyOld,_this.ax - _this.dxOld) - Math.PI / 2;
			theta1 = -Math.atan2(_this.ay - _this.eyPrev,_this.ax - _this.exPrev) - Math.PI / 2;
		} else {
			theta0 = -Math.atan2(_this.ay - _this.eyOld,_this.ax - _this.exOld) - Math.PI / 2;
			theta1 = -Math.atan2(_this.ay - _this.dyPrev,_this.ax - _this.dxPrev) - Math.PI / 2;
		}
		var dif;
		switch(fracs_DifferencePreference.SMALL._hx_index) {
		case 0:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
			break;
		case 1:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
			break;
		case 2:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var smallest = theta <= Math.PI;
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
			break;
		case 3:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var largest = theta > Math.PI;
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
			break;
		}
		if(_this.count != 0) {
			var gamma = Math.abs(dif) / 2;
			var h = width_ / 2 / Math.cos(gamma);
			var f;
			if(theta0 <= Math.PI && theta0 > -Math.PI) {
				f = theta0;
			} else {
				var a = (theta0 + Math.PI) % (2 * Math.PI);
				f = a >= 0 ? a - Math.PI : a + Math.PI;
			}
			var this1 = f;
			var start = this1;
			var start2 = start;
			var delta = start2 + dif / 2 + Math.PI;
			_this.jx = _this.ax + h * Math.sin(delta);
			_this.jy = _this.ay + h * Math.cos(delta);
		}
		if(_this.count == 0 && (_this.endLine == 1 || _this.endLine == 3)) {
			var ax = _this.ax;
			var ay = _this.ay;
			var radius = width_ / 2;
			var beta = -_this.angle1 - Math.PI / 2;
			var gamma = -_this.angle1 - Math.PI / 2 + Math.PI;
			var temp = [];
			var paintType = _this.pen.paintType;
			var sides = 36;
			if(sides == null) {
				sides = 36;
			}
			var pi = Math.PI;
			var step = pi * 2 / sides;
			var dif1;
			switch(fracs_DifferencePreference.SMALL._hx_index) {
			case 0:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = dif2 > 0 ? dif2 : 2 * Math.PI + dif2;
				break;
			case 1:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = dif2 < 0 ? dif2 : -2 * Math.PI + dif2;
				break;
			case 2:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var smallest = theta <= Math.PI;
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = smallest ? dif2 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			case 3:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var largest = theta > Math.PI;
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = largest ? dif2 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			}
			var positive = dif1 >= 0;
			var totalSteps = Math.ceil(Math.abs(dif1) / step);
			var step = dif1 / totalSteps;
			var angle = beta;
			var cx;
			var cy;
			var bx = 0;
			var by = 0;
			var p2 = temp.length;
			var _g = 0;
			var _g1 = totalSteps + 1;
			while(_g < _g1) {
				var i = _g++;
				cx = ax + radius * Math.sin(angle);
				cy = ay + radius * Math.cos(angle);
				temp[p2++] = cx;
				temp[p2++] = cy;
				if(i != 0) {
					paintType.triangle(ax,ay,0,bx,by,0,cx,cy,0);
					var m = trilateral3_Trilateral.transformMatrix;
					if(m != null) {
						paintType.transform(m);
					}
					paintType.next();
				}
				angle += step;
				bx = cx;
				by = cy;
			}
			var len = totalSteps;
			var fh = _this.pen;
			var this1 = fh.paintType;
			var v = fh.paintType.get_pos() - len;
			this1.set_pos(v);
			var _this1 = _this.pen;
			var color = -1;
			if(color == -1) {
				color = _this1.currentColor;
			}
			_this1.paintType.colorTriangles(color,len);
			var pA = _this.pointsAnti.length;
			var len = temp.length / 2 | 0;
			var p4 = temp.length / 4 | 0;
			var _g = 0;
			var _g1 = p4;
			while(_g < _g1) {
				var i = _g++;
				_this.pointsAnti[pA++] = temp[len - 2 * i + 1];
				_this.pointsAnti[pA++] = temp[len - 2 * i];
			}
			var pC = _this.pointsClock.length;
			var _g = 0;
			var _g1 = p4;
			while(_g < _g1) {
				var i = _g++;
				_this.pointsClock[pC++] = temp[i * 2 + len + 1];
				_this.pointsClock[pC++] = temp[i * 2 + len];
			}
		}
		if(_this.count != 0) {
			_this.addQuads(clockWise,width_);
		}
		_this.quadIndex = _this.pen.paintType.get_pos();
		if(_this.count == 0) {
			_this.penultimateAX = _this.dxPrev;
			_this.penultimateAY = _this.dyPrev;
			_this.lastAntiX = _this.ex;
			_this.lastAntiY = _this.ey;
			_this.penultimateCX = _this.dx;
			_this.penultimateCY = _this.dy;
			_this.lastClockX = _this.exPrev;
			_this.lastClockY = _this.eyPrev;
			var _this1 = _this.pen;
			var color = -1;
			if(color == null) {
				color = -1;
			}
			if(color == -1) {
				color = _this1.currentColor;
			}
			var ax = _this.dxPrev;
			var ay = _this.dyPrev;
			var bx = _this.dx;
			var by = _this.dy;
			var cx = _this.ex;
			var cy = _this.ey;
			var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this1.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this1.paintType.cornerColors(color,color,color);
			_this1.paintType.next();
			var _this1 = _this.pen;
			var color = -1;
			if(color == null) {
				color = -1;
			}
			if(color == -1) {
				color = _this1.currentColor;
			}
			var ax = _this.dxPrev;
			var ay = _this.dyPrev;
			var bx = _this.dx;
			var by = _this.dy;
			var cx = _this.exPrev;
			var cy = _this.eyPrev;
			var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this1.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this1.paintType.cornerColors(color,color,color);
			_this1.paintType.next();
		} else {
			if(clockWise && !_this.lastClock) {
				_this.penultimateAX = _this.jx;
				_this.penultimateAY = _this.jy;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				_this.penultimateCX = _this.dx;
				_this.penultimateCY = _this.dy;
				_this.lastClockX = _this.exPrev;
				_this.lastClockY = _this.eyPrev;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.exPrev;
				var cy = _this.eyPrev;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
			if(clockWise && _this.lastClock) {
				_this.penultimateAX = _this.jx;
				_this.penultimateAY = _this.jy;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				_this.penultimateCX = _this.dx;
				_this.penultimateCY = _this.dy;
				_this.lastClockX = _this.exPrev;
				_this.lastClockY = _this.eyPrev;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.exPrev;
				var cy = _this.eyPrev;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
			if(!clockWise && !_this.lastClock) {
				_this.penultimateCX = _this.dx;
				_this.penultimateCY = _this.dy;
				_this.lastClockX = _this.jx;
				_this.lastClockY = _this.jy;
				_this.penultimateAX = _this.dxPrev;
				_this.penultimateAY = _this.dyPrev;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
			if(!clockWise && _this.lastClock) {
				_this.penultimateAX = _this.dxPrev;
				_this.penultimateAY = _this.dyPrev;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				_this.penultimateCX = _this.jx;
				_this.penultimateCY = _this.jy;
				_this.lastClockX = _this.dx;
				_this.lastClockY = _this.dy;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.jx;
				var by = _this.jy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		if(curveEnds) {
			if(clockWise) {
				var _this1 = _this.pen;
				var radius = width_ / 2;
				var edgePoly = _this.pointsClock;
				var pi = Math.PI;
				var step = pi * 2 / 36;
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = theta0;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = edgePoly.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax_ + radius * Math.sin(angle);
					cy = ay_ + radius * Math.cos(angle);
					edgePoly[p2++] = cx;
					edgePoly[p2++] = cy;
					if(i != 0) {
						var color = -1;
						if(color == -1) {
							color = _this1.currentColor;
						}
						var ax = ax_;
						var ay = ay_;
						var bx1 = bx;
						var by1 = by;
						var cx1 = cx;
						var cy1 = cy;
						var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx1,by1,_this1.z2D,cx1,cy1,_this1.z2D);
						if(trilateral3_Trilateral.transformMatrix != null) {
							_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
						}
						if(_this1.useTexture) {
							ax /= 2000;
							ay /= 2000;
							bx1 /= 2000;
							by1 /= 2000;
							cx1 /= 2000;
							cy1 /= 2000;
							_this1.paintType.triangleUV(ax,ay,bx1,by1,cx1,cy1,windAdjust);
						}
						_this1.paintType.cornerColors(color,color,color);
						_this1.paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
			} else {
				var _this1 = _this.pen;
				var radius = width_ / 2;
				var edgePoly = _this.pointsAnti;
				var pi = Math.PI;
				var step = pi * 2 / 36;
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = theta0;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = edgePoly.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax_ + radius * Math.sin(angle);
					cy = ay_ + radius * Math.cos(angle);
					edgePoly[p2++] = cx;
					edgePoly[p2++] = cy;
					if(i != 0) {
						var color = -1;
						if(color == -1) {
							color = _this1.currentColor;
						}
						var ax = ax_;
						var ay = ay_;
						var bx1 = bx;
						var by1 = by;
						var cx1 = cx;
						var cy1 = cy;
						var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx1,by1,_this1.z2D,cx1,cy1,_this1.z2D);
						if(trilateral3_Trilateral.transformMatrix != null) {
							_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
						}
						if(_this1.useTexture) {
							ax /= 2000;
							ay /= 2000;
							bx1 /= 2000;
							by1 /= 2000;
							cx1 /= 2000;
							cy1 /= 2000;
							_this1.paintType.triangleUV(ax,ay,bx1,by1,cx1,cy1,windAdjust);
						}
						_this1.paintType.cornerColors(color,color,color);
						_this1.paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
			}
		} else if(_this.count != 0) {
			if(clockWise) {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxOld;
				var ay = _this.dyOld;
				var bx = _this.exPrev;
				var by = _this.eyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.exOld;
				var ay = _this.eyOld;
				var bx = _this.dxPrev;
				var by = _this.dyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		_this.kax = _this.dxPrev;
		_this.kay = _this.dyPrev;
		_this.kbx = _this.dx;
		_this.kby = _this.dy;
		_this.ncx = _this.exPrev;
		_this.ncy = _this.eyPrev;
		_this.kcx = _this.ex;
		_this.kcy = _this.ey;
		if(curveEnds && _this.count != 0) {
			if(clockWise) {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.dxOld;
				var by = _this.dyOld;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.exPrev;
				var by = _this.eyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.exOld;
				var by = _this.eyOld;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.dxPrev;
				var by = _this.dyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		_this.jxOld = _this.jx;
		_this.jyOld = _this.jy;
		_this.lastClock = clockWise;
		_this.count++;
	}
	,mediumOverlapLine: function(x_,y_) {
		var _this = this.contour;
		var ax_ = this.x;
		var ay_ = this.y;
		var width_ = this.width;
		var curveEnds = false;
		var overlap = true;
		if(overlap == null) {
			overlap = false;
		}
		if(curveEnds == null) {
			curveEnds = false;
		}
		var oldAngle = _this.dx != null ? _this.angle1 : null;
		_this.halfA = Math.PI / 2;
		_this.ax = x_;
		_this.ay = y_;
		_this.bx = ax_;
		_this.by = ay_;
		_this.beta = Math.PI / 2 - _this.halfA;
		_this.r = width_ / 2 * Math.cos(_this.beta);
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		_this.ax = ax_;
		_this.ay = ay_;
		_this.bx = x_;
		_this.by = y_;
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var x = _this.dxOld - x_;
		var y = _this.dyOld - y_;
		var x1 = _this.exOld - x_;
		var y1 = _this.eyOld - y_;
		var clockWise = x * x + y * y > x1 * x1 + y1 * y1;
		var theta0;
		var theta1;
		if(clockWise) {
			theta0 = -Math.atan2(_this.ay - _this.dyOld,_this.ax - _this.dxOld) - Math.PI / 2;
			theta1 = -Math.atan2(_this.ay - _this.eyPrev,_this.ax - _this.exPrev) - Math.PI / 2;
		} else {
			theta0 = -Math.atan2(_this.ay - _this.eyOld,_this.ax - _this.exOld) - Math.PI / 2;
			theta1 = -Math.atan2(_this.ay - _this.dyPrev,_this.ax - _this.dxPrev) - Math.PI / 2;
		}
		var dif;
		switch(fracs_DifferencePreference.SMALL._hx_index) {
		case 0:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
			break;
		case 1:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
			break;
		case 2:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var smallest = theta <= Math.PI;
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
			break;
		case 3:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var largest = theta > Math.PI;
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
			break;
		}
		if(!overlap && _this.count != 0) {
			var gamma = Math.abs(dif) / 2;
			var h = width_ / 2 / Math.cos(gamma);
			var f;
			if(theta0 <= Math.PI && theta0 > -Math.PI) {
				f = theta0;
			} else {
				var a = (theta0 + Math.PI) % (2 * Math.PI);
				f = a >= 0 ? a - Math.PI : a + Math.PI;
			}
			var this1 = f;
			var start = this1;
			var start2 = start;
			var delta = start2 + dif / 2 + Math.PI;
			_this.jx = _this.ax + h * Math.sin(delta);
			_this.jy = _this.ay + h * Math.cos(delta);
		}
		if(_this.count == 0 && (_this.endLine == 1 || _this.endLine == 3)) {
			var ax = _this.ax;
			var ay = _this.ay;
			var radius = width_ / 2;
			var beta = -_this.angle1 - Math.PI / 2;
			var gamma = -_this.angle1 - Math.PI / 2 + Math.PI;
			var temp = [];
			var paintType = _this.pen.paintType;
			var sides = 36;
			if(sides == null) {
				sides = 36;
			}
			var pi = Math.PI;
			var step = pi * 2 / sides;
			var dif1;
			switch(fracs_DifferencePreference.SMALL._hx_index) {
			case 0:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = dif2 > 0 ? dif2 : 2 * Math.PI + dif2;
				break;
			case 1:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = dif2 < 0 ? dif2 : -2 * Math.PI + dif2;
				break;
			case 2:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var smallest = theta <= Math.PI;
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = smallest ? dif2 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			case 3:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var largest = theta > Math.PI;
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = largest ? dif2 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			}
			var positive = dif1 >= 0;
			var totalSteps = Math.ceil(Math.abs(dif1) / step);
			var step = dif1 / totalSteps;
			var angle = beta;
			var cx;
			var cy;
			var bx = 0;
			var by = 0;
			var p2 = temp.length;
			var _g = 0;
			var _g1 = totalSteps + 1;
			while(_g < _g1) {
				var i = _g++;
				cx = ax + radius * Math.sin(angle);
				cy = ay + radius * Math.cos(angle);
				temp[p2++] = cx;
				temp[p2++] = cy;
				if(i != 0) {
					paintType.triangle(ax,ay,0,bx,by,0,cx,cy,0);
					var m = trilateral3_Trilateral.transformMatrix;
					if(m != null) {
						paintType.transform(m);
					}
					paintType.next();
				}
				angle += step;
				bx = cx;
				by = cy;
			}
			var len = totalSteps;
			var fh = _this.pen;
			var this1 = fh.paintType;
			var v = fh.paintType.get_pos() - len;
			this1.set_pos(v);
			var _this1 = _this.pen;
			var color = -1;
			if(color == -1) {
				color = _this1.currentColor;
			}
			_this1.paintType.colorTriangles(color,len);
			var pA = _this.pointsAnti.length;
			var len = temp.length / 2 | 0;
			var p4 = temp.length / 4 | 0;
			var _g = 0;
			var _g1 = p4;
			while(_g < _g1) {
				var i = _g++;
				_this.pointsAnti[pA++] = temp[len - 2 * i + 1];
				_this.pointsAnti[pA++] = temp[len - 2 * i];
			}
			var pC = _this.pointsClock.length;
			var _g = 0;
			var _g1 = p4;
			while(_g < _g1) {
				var i = _g++;
				_this.pointsClock[pC++] = temp[i * 2 + len + 1];
				_this.pointsClock[pC++] = temp[i * 2 + len];
			}
		}
		if(overlap) {
			var _this1 = _this.pen;
			var color = -1;
			if(color == -1) {
				color = _this1.currentColor;
			}
			var ax = _this.dxPrev;
			var ay = _this.dyPrev;
			var bx = _this.dx;
			var by = _this.dy;
			var cx = _this.ex;
			var cy = _this.ey;
			var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this1.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this1.paintType.cornerColors(color,color,color);
			_this1.paintType.next();
			var _this1 = _this.pen;
			var color = -1;
			if(color == -1) {
				color = _this1.currentColor;
			}
			var ax = _this.dxPrev;
			var ay = _this.dyPrev;
			var bx = _this.dx;
			var by = _this.dy;
			var cx = _this.exPrev;
			var cy = _this.eyPrev;
			var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this1.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this1.paintType.cornerColors(color,color,color);
			_this1.paintType.next();
		} else {
			if(_this.count != 0) {
				_this.addQuads(clockWise,width_);
			}
			_this.quadIndex = _this.pen.paintType.get_pos();
			if(_this.count == 0) {
				_this.penultimateAX = _this.dxPrev;
				_this.penultimateAY = _this.dyPrev;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				_this.penultimateCX = _this.dx;
				_this.penultimateCY = _this.dy;
				_this.lastClockX = _this.exPrev;
				_this.lastClockY = _this.eyPrev;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.exPrev;
				var cy = _this.eyPrev;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				if(clockWise && !_this.lastClock) {
					_this.penultimateAX = _this.jx;
					_this.penultimateAY = _this.jy;
					_this.lastAntiX = _this.ex;
					_this.lastAntiY = _this.ey;
					_this.penultimateCX = _this.dx;
					_this.penultimateCY = _this.dy;
					_this.lastClockX = _this.exPrev;
					_this.lastClockY = _this.eyPrev;
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.exPrev;
					var cy = _this.eyPrev;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
				if(clockWise && _this.lastClock) {
					_this.penultimateAX = _this.jx;
					_this.penultimateAY = _this.jy;
					_this.lastAntiX = _this.ex;
					_this.lastAntiY = _this.ey;
					_this.penultimateCX = _this.dx;
					_this.penultimateCY = _this.dy;
					_this.lastClockX = _this.exPrev;
					_this.lastClockY = _this.eyPrev;
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.exPrev;
					var cy = _this.eyPrev;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
				if(!clockWise && !_this.lastClock) {
					_this.penultimateCX = _this.dx;
					_this.penultimateCY = _this.dy;
					_this.lastClockX = _this.jx;
					_this.lastClockY = _this.jy;
					_this.penultimateAX = _this.dxPrev;
					_this.penultimateAY = _this.dyPrev;
					_this.lastAntiX = _this.ex;
					_this.lastAntiY = _this.ey;
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.dxPrev;
					var ay = _this.dyPrev;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.jx;
					var cy = _this.jy;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.dxPrev;
					var ay = _this.dyPrev;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
				if(!clockWise && _this.lastClock) {
					_this.penultimateAX = _this.dxPrev;
					_this.penultimateAY = _this.dyPrev;
					_this.lastAntiX = _this.ex;
					_this.lastAntiY = _this.ey;
					_this.penultimateCX = _this.jx;
					_this.penultimateCY = _this.jy;
					_this.lastClockX = _this.dx;
					_this.lastClockY = _this.dy;
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.dxPrev;
					var ay = _this.dyPrev;
					var bx = _this.jx;
					var by = _this.jy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
			}
		}
		if(curveEnds) {
			if(clockWise) {
				var _this1 = _this.pen;
				var radius = width_ / 2;
				var edgePoly = _this.pointsClock;
				var pi = Math.PI;
				var step = pi * 2 / 36;
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = theta0;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = edgePoly.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax_ + radius * Math.sin(angle);
					cy = ay_ + radius * Math.cos(angle);
					edgePoly[p2++] = cx;
					edgePoly[p2++] = cy;
					if(i != 0) {
						var color = -1;
						if(color == -1) {
							color = _this1.currentColor;
						}
						var ax = ax_;
						var ay = ay_;
						var bx1 = bx;
						var by1 = by;
						var cx1 = cx;
						var cy1 = cy;
						var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx1,by1,_this1.z2D,cx1,cy1,_this1.z2D);
						if(trilateral3_Trilateral.transformMatrix != null) {
							_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
						}
						if(_this1.useTexture) {
							ax /= 2000;
							ay /= 2000;
							bx1 /= 2000;
							by1 /= 2000;
							cx1 /= 2000;
							cy1 /= 2000;
							_this1.paintType.triangleUV(ax,ay,bx1,by1,cx1,cy1,windAdjust);
						}
						_this1.paintType.cornerColors(color,color,color);
						_this1.paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
			} else {
				var _this1 = _this.pen;
				var radius = width_ / 2;
				var edgePoly = _this.pointsAnti;
				var pi = Math.PI;
				var step = pi * 2 / 36;
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = theta0;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = edgePoly.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax_ + radius * Math.sin(angle);
					cy = ay_ + radius * Math.cos(angle);
					edgePoly[p2++] = cx;
					edgePoly[p2++] = cy;
					if(i != 0) {
						var color = -1;
						if(color == -1) {
							color = _this1.currentColor;
						}
						var ax = ax_;
						var ay = ay_;
						var bx1 = bx;
						var by1 = by;
						var cx1 = cx;
						var cy1 = cy;
						var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx1,by1,_this1.z2D,cx1,cy1,_this1.z2D);
						if(trilateral3_Trilateral.transformMatrix != null) {
							_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
						}
						if(_this1.useTexture) {
							ax /= 2000;
							ay /= 2000;
							bx1 /= 2000;
							by1 /= 2000;
							cx1 /= 2000;
							cy1 /= 2000;
							_this1.paintType.triangleUV(ax,ay,bx1,by1,cx1,cy1,windAdjust);
						}
						_this1.paintType.cornerColors(color,color,color);
						_this1.paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
			}
		} else if(_this.count != 0) {
			if(overlap) {
				if(clockWise) {
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.dxOld;
					var ay = _this.dyOld;
					var bx = _this.exPrev;
					var by = _this.eyPrev;
					var cx = _this.ax;
					var cy = _this.ay;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				} else {
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.exOld;
					var ay = _this.eyOld;
					var bx = _this.dxPrev;
					var by = _this.dyPrev;
					var cx = _this.ax;
					var cy = _this.ay;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
			} else if(clockWise) {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxOld;
				var ay = _this.dyOld;
				var bx = _this.exPrev;
				var by = _this.eyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.exOld;
				var ay = _this.eyOld;
				var bx = _this.dxPrev;
				var by = _this.dyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		_this.kax = _this.dxPrev;
		_this.kay = _this.dyPrev;
		_this.kbx = _this.dx;
		_this.kby = _this.dy;
		_this.ncx = _this.exPrev;
		_this.ncy = _this.eyPrev;
		_this.kcx = _this.ex;
		_this.kcy = _this.ey;
		if(curveEnds && !overlap && _this.count != 0) {
			if(clockWise) {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.dxOld;
				var by = _this.dyOld;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.exPrev;
				var by = _this.eyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.exOld;
				var by = _this.eyOld;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.dxPrev;
				var by = _this.dyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		_this.jxOld = _this.jx;
		_this.jyOld = _this.jy;
		_this.lastClock = clockWise;
		_this.count++;
	}
	,fineLine: function(x_,y_) {
		var _this = this.contour;
		var ax_ = this.x;
		var ay_ = this.y;
		var width_ = this.width;
		var curveEnds = true;
		if(curveEnds == null) {
			curveEnds = false;
		}
		var oldAngle = _this.dx != null ? _this.angle1 : null;
		_this.halfA = Math.PI / 2;
		_this.ax = x_;
		_this.ay = y_;
		_this.bx = ax_;
		_this.by = ay_;
		_this.beta = Math.PI / 2 - _this.halfA;
		_this.r = width_ / 2 * Math.cos(_this.beta);
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		_this.ax = ax_;
		_this.ay = ay_;
		_this.bx = x_;
		_this.by = y_;
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var x = _this.dxOld - x_;
		var y = _this.dyOld - y_;
		var x1 = _this.exOld - x_;
		var y1 = _this.eyOld - y_;
		var clockWise = x * x + y * y > x1 * x1 + y1 * y1;
		var theta0;
		var theta1;
		if(clockWise) {
			theta0 = -Math.atan2(_this.ay - _this.dyOld,_this.ax - _this.dxOld) - Math.PI / 2;
			theta1 = -Math.atan2(_this.ay - _this.eyPrev,_this.ax - _this.exPrev) - Math.PI / 2;
		} else {
			theta0 = -Math.atan2(_this.ay - _this.eyOld,_this.ax - _this.exOld) - Math.PI / 2;
			theta1 = -Math.atan2(_this.ay - _this.dyPrev,_this.ax - _this.dxPrev) - Math.PI / 2;
		}
		var dif;
		switch(fracs_DifferencePreference.SMALL._hx_index) {
		case 0:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
			break;
		case 1:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
			break;
		case 2:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var smallest = theta <= Math.PI;
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
			break;
		case 3:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var largest = theta > Math.PI;
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
			break;
		}
		if(_this.count != 0) {
			var gamma = Math.abs(dif) / 2;
			var h = width_ / 2 / Math.cos(gamma);
			var f;
			if(theta0 <= Math.PI && theta0 > -Math.PI) {
				f = theta0;
			} else {
				var a = (theta0 + Math.PI) % (2 * Math.PI);
				f = a >= 0 ? a - Math.PI : a + Math.PI;
			}
			var this1 = f;
			var start = this1;
			var start2 = start;
			var delta = start2 + dif / 2 + Math.PI;
			_this.jx = _this.ax + h * Math.sin(delta);
			_this.jy = _this.ay + h * Math.cos(delta);
		}
		if(_this.count == 0 && (_this.endLine == 1 || _this.endLine == 3)) {
			var ax = _this.ax;
			var ay = _this.ay;
			var radius = width_ / 2;
			var beta = -_this.angle1 - Math.PI / 2;
			var gamma = -_this.angle1 - Math.PI / 2 + Math.PI;
			var temp = [];
			var paintType = _this.pen.paintType;
			var sides = 36;
			if(sides == null) {
				sides = 36;
			}
			var pi = Math.PI;
			var step = pi * 2 / sides;
			var dif1;
			switch(fracs_DifferencePreference.SMALL._hx_index) {
			case 0:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = dif2 > 0 ? dif2 : 2 * Math.PI + dif2;
				break;
			case 1:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = dif2 < 0 ? dif2 : -2 * Math.PI + dif2;
				break;
			case 2:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var smallest = theta <= Math.PI;
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = smallest ? dif2 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			case 3:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var largest = theta > Math.PI;
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = largest ? dif2 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			}
			var positive = dif1 >= 0;
			var totalSteps = Math.ceil(Math.abs(dif1) / step);
			var step = dif1 / totalSteps;
			var angle = beta;
			var cx;
			var cy;
			var bx = 0;
			var by = 0;
			var p2 = temp.length;
			var _g = 0;
			var _g1 = totalSteps + 1;
			while(_g < _g1) {
				var i = _g++;
				cx = ax + radius * Math.sin(angle);
				cy = ay + radius * Math.cos(angle);
				temp[p2++] = cx;
				temp[p2++] = cy;
				if(i != 0) {
					paintType.triangle(ax,ay,0,bx,by,0,cx,cy,0);
					var m = trilateral3_Trilateral.transformMatrix;
					if(m != null) {
						paintType.transform(m);
					}
					paintType.next();
				}
				angle += step;
				bx = cx;
				by = cy;
			}
			var len = totalSteps;
			var fh = _this.pen;
			var this1 = fh.paintType;
			var v = fh.paintType.get_pos() - len;
			this1.set_pos(v);
			var _this1 = _this.pen;
			var color = -1;
			if(color == -1) {
				color = _this1.currentColor;
			}
			_this1.paintType.colorTriangles(color,len);
			var pA = _this.pointsAnti.length;
			var len = temp.length / 2 | 0;
			var p4 = temp.length / 4 | 0;
			var _g = 0;
			var _g1 = p4;
			while(_g < _g1) {
				var i = _g++;
				_this.pointsAnti[pA++] = temp[len - 2 * i + 1];
				_this.pointsAnti[pA++] = temp[len - 2 * i];
			}
			var pC = _this.pointsClock.length;
			var _g = 0;
			var _g1 = p4;
			while(_g < _g1) {
				var i = _g++;
				_this.pointsClock[pC++] = temp[i * 2 + len + 1];
				_this.pointsClock[pC++] = temp[i * 2 + len];
			}
		}
		if(_this.count != 0) {
			_this.addQuads(clockWise,width_);
		}
		_this.quadIndex = _this.pen.paintType.get_pos();
		if(_this.count == 0) {
			_this.penultimateAX = _this.dxPrev;
			_this.penultimateAY = _this.dyPrev;
			_this.lastAntiX = _this.ex;
			_this.lastAntiY = _this.ey;
			_this.penultimateCX = _this.dx;
			_this.penultimateCY = _this.dy;
			_this.lastClockX = _this.exPrev;
			_this.lastClockY = _this.eyPrev;
			var _this1 = _this.pen;
			var color = -1;
			if(color == null) {
				color = -1;
			}
			if(color == -1) {
				color = _this1.currentColor;
			}
			var ax = _this.dxPrev;
			var ay = _this.dyPrev;
			var bx = _this.dx;
			var by = _this.dy;
			var cx = _this.ex;
			var cy = _this.ey;
			var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this1.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this1.paintType.cornerColors(color,color,color);
			_this1.paintType.next();
			var _this1 = _this.pen;
			var color = -1;
			if(color == null) {
				color = -1;
			}
			if(color == -1) {
				color = _this1.currentColor;
			}
			var ax = _this.dxPrev;
			var ay = _this.dyPrev;
			var bx = _this.dx;
			var by = _this.dy;
			var cx = _this.exPrev;
			var cy = _this.eyPrev;
			var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this1.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this1.paintType.cornerColors(color,color,color);
			_this1.paintType.next();
		} else {
			if(clockWise && !_this.lastClock) {
				_this.penultimateAX = _this.jx;
				_this.penultimateAY = _this.jy;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				_this.penultimateCX = _this.dx;
				_this.penultimateCY = _this.dy;
				_this.lastClockX = _this.exPrev;
				_this.lastClockY = _this.eyPrev;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.exPrev;
				var cy = _this.eyPrev;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
			if(clockWise && _this.lastClock) {
				_this.penultimateAX = _this.jx;
				_this.penultimateAY = _this.jy;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				_this.penultimateCX = _this.dx;
				_this.penultimateCY = _this.dy;
				_this.lastClockX = _this.exPrev;
				_this.lastClockY = _this.eyPrev;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.exPrev;
				var cy = _this.eyPrev;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
			if(!clockWise && !_this.lastClock) {
				_this.penultimateCX = _this.dx;
				_this.penultimateCY = _this.dy;
				_this.lastClockX = _this.jx;
				_this.lastClockY = _this.jy;
				_this.penultimateAX = _this.dxPrev;
				_this.penultimateAY = _this.dyPrev;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
			if(!clockWise && _this.lastClock) {
				_this.penultimateAX = _this.dxPrev;
				_this.penultimateAY = _this.dyPrev;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				_this.penultimateCX = _this.jx;
				_this.penultimateCY = _this.jy;
				_this.lastClockX = _this.dx;
				_this.lastClockY = _this.dy;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.jx;
				var ay = _this.jy;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.jx;
				var by = _this.jy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		if(curveEnds) {
			if(clockWise) {
				var _this1 = _this.pen;
				var radius = width_ / 2;
				var edgePoly = _this.pointsClock;
				var pi = Math.PI;
				var step = pi * 2 / 36;
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = theta0;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = edgePoly.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax_ + radius * Math.sin(angle);
					cy = ay_ + radius * Math.cos(angle);
					edgePoly[p2++] = cx;
					edgePoly[p2++] = cy;
					if(i != 0) {
						var color = -1;
						if(color == -1) {
							color = _this1.currentColor;
						}
						var ax = ax_;
						var ay = ay_;
						var bx1 = bx;
						var by1 = by;
						var cx1 = cx;
						var cy1 = cy;
						var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx1,by1,_this1.z2D,cx1,cy1,_this1.z2D);
						if(trilateral3_Trilateral.transformMatrix != null) {
							_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
						}
						if(_this1.useTexture) {
							ax /= 2000;
							ay /= 2000;
							bx1 /= 2000;
							by1 /= 2000;
							cx1 /= 2000;
							cy1 /= 2000;
							_this1.paintType.triangleUV(ax,ay,bx1,by1,cx1,cy1,windAdjust);
						}
						_this1.paintType.cornerColors(color,color,color);
						_this1.paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
			} else {
				var _this1 = _this.pen;
				var radius = width_ / 2;
				var edgePoly = _this.pointsAnti;
				var pi = Math.PI;
				var step = pi * 2 / 36;
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = theta0;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = edgePoly.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax_ + radius * Math.sin(angle);
					cy = ay_ + radius * Math.cos(angle);
					edgePoly[p2++] = cx;
					edgePoly[p2++] = cy;
					if(i != 0) {
						var color = -1;
						if(color == -1) {
							color = _this1.currentColor;
						}
						var ax = ax_;
						var ay = ay_;
						var bx1 = bx;
						var by1 = by;
						var cx1 = cx;
						var cy1 = cy;
						var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx1,by1,_this1.z2D,cx1,cy1,_this1.z2D);
						if(trilateral3_Trilateral.transformMatrix != null) {
							_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
						}
						if(_this1.useTexture) {
							ax /= 2000;
							ay /= 2000;
							bx1 /= 2000;
							by1 /= 2000;
							cx1 /= 2000;
							cy1 /= 2000;
							_this1.paintType.triangleUV(ax,ay,bx1,by1,cx1,cy1,windAdjust);
						}
						_this1.paintType.cornerColors(color,color,color);
						_this1.paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
			}
		} else if(_this.count != 0) {
			if(clockWise) {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxOld;
				var ay = _this.dyOld;
				var bx = _this.exPrev;
				var by = _this.eyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.exOld;
				var ay = _this.eyOld;
				var bx = _this.dxPrev;
				var by = _this.dyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		_this.kax = _this.dxPrev;
		_this.kay = _this.dyPrev;
		_this.kbx = _this.dx;
		_this.kby = _this.dy;
		_this.ncx = _this.exPrev;
		_this.ncy = _this.eyPrev;
		_this.kcx = _this.ex;
		_this.kcy = _this.ey;
		if(curveEnds && _this.count != 0) {
			if(clockWise) {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.dxOld;
				var by = _this.dyOld;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.exPrev;
				var by = _this.eyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.exOld;
				var by = _this.eyOld;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.dxPrev;
				var by = _this.dyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		_this.jxOld = _this.jx;
		_this.jyOld = _this.jy;
		_this.lastClock = clockWise;
		_this.count++;
	}
	,fineOverlapLine: function(x_,y_) {
		var _this = this.contour;
		var ax_ = this.x;
		var ay_ = this.y;
		var width_ = this.width;
		var curveEnds = true;
		var overlap = true;
		if(overlap == null) {
			overlap = false;
		}
		if(curveEnds == null) {
			curveEnds = false;
		}
		var oldAngle = _this.dx != null ? _this.angle1 : null;
		_this.halfA = Math.PI / 2;
		_this.ax = x_;
		_this.ay = y_;
		_this.bx = ax_;
		_this.by = ay_;
		_this.beta = Math.PI / 2 - _this.halfA;
		_this.r = width_ / 2 * Math.cos(_this.beta);
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		_this.ax = ax_;
		_this.ay = ay_;
		_this.bx = x_;
		_this.by = y_;
		_this.theta = Math.atan2(_this.ay - _this.by,_this.ax - _this.bx);
		if(_this.theta > 0) {
			if(_this.halfA < 0) {
				_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
				_this.angle1 = _this.theta - _this.halfA;
			} else {
				_this.angle1 = _this.theta + _this.halfA - Math.PI;
				_this.angle2 = _this.theta + _this.halfA;
			}
		} else if(_this.halfA > 0) {
			_this.angle1 = _this.theta + _this.halfA - Math.PI;
			_this.angle2 = _this.theta + _this.halfA;
		} else {
			_this.angle2 = _this.theta + _this.halfA + Math.PI / 2;
			_this.angle1 = _this.theta - _this.halfA;
		}
		if(_this.dxPrev != null) {
			_this.dxOld = _this.dxPrev;
		}
		if(_this.dyPrev != null) {
			_this.dyOld = _this.dyPrev;
		}
		if(_this.exPrev != null) {
			_this.exOld = _this.exPrev;
		}
		if(_this.eyPrev != null) {
			_this.eyOld = _this.eyPrev;
		}
		if(_this.dx != null) {
			_this.dxPrev = _this.dx;
		}
		if(_this.dy != null) {
			_this.dyPrev = _this.dy;
		}
		if(_this.ex != null) {
			_this.exPrev = _this.ex;
		}
		if(_this.ey != null) {
			_this.eyPrev = _this.ey;
		}
		_this.dx = _this.bx + _this.r * Math.cos(_this.angle1);
		_this.dy = _this.by + _this.r * Math.sin(_this.angle1);
		_this.ex = _this.bx + _this.r * Math.cos(_this.angle2);
		_this.ey = _this.by + _this.r * Math.sin(_this.angle2);
		var x = _this.dxOld - x_;
		var y = _this.dyOld - y_;
		var x1 = _this.exOld - x_;
		var y1 = _this.eyOld - y_;
		var clockWise = x * x + y * y > x1 * x1 + y1 * y1;
		var theta0;
		var theta1;
		if(clockWise) {
			theta0 = -Math.atan2(_this.ay - _this.dyOld,_this.ax - _this.dxOld) - Math.PI / 2;
			theta1 = -Math.atan2(_this.ay - _this.eyPrev,_this.ax - _this.exPrev) - Math.PI / 2;
		} else {
			theta0 = -Math.atan2(_this.ay - _this.eyOld,_this.ax - _this.exOld) - Math.PI / 2;
			theta1 = -Math.atan2(_this.ay - _this.dyPrev,_this.ax - _this.dxPrev) - Math.PI / 2;
		}
		var dif;
		switch(fracs_DifferencePreference.SMALL._hx_index) {
		case 0:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
			break;
		case 1:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
			break;
		case 2:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var smallest = theta <= Math.PI;
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
			break;
		case 3:
			var f;
			if(theta0 >= 0 && theta0 > Math.PI) {
				f = theta0;
			} else {
				var a = theta0 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var za = this1;
			var f;
			if(theta1 >= 0 && theta1 > Math.PI) {
				f = theta1;
			} else {
				var a = theta1 % (2 * Math.PI);
				f = a >= 0 ? a : a + 2 * Math.PI;
			}
			var this1 = f;
			var zb = this1;
			var fa = za;
			var fb = zb;
			var theta = Math.abs(fa - fb);
			var largest = theta > Math.PI;
			var clockwise = fa < fb;
			var dif1 = clockwise ? theta : -theta;
			dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
			break;
		}
		if(!overlap && _this.count != 0) {
			var gamma = Math.abs(dif) / 2;
			var h = width_ / 2 / Math.cos(gamma);
			var f;
			if(theta0 <= Math.PI && theta0 > -Math.PI) {
				f = theta0;
			} else {
				var a = (theta0 + Math.PI) % (2 * Math.PI);
				f = a >= 0 ? a - Math.PI : a + Math.PI;
			}
			var this1 = f;
			var start = this1;
			var start2 = start;
			var delta = start2 + dif / 2 + Math.PI;
			_this.jx = _this.ax + h * Math.sin(delta);
			_this.jy = _this.ay + h * Math.cos(delta);
		}
		if(_this.count == 0 && (_this.endLine == 1 || _this.endLine == 3)) {
			var ax = _this.ax;
			var ay = _this.ay;
			var radius = width_ / 2;
			var beta = -_this.angle1 - Math.PI / 2;
			var gamma = -_this.angle1 - Math.PI / 2 + Math.PI;
			var temp = [];
			var paintType = _this.pen.paintType;
			var sides = 36;
			if(sides == null) {
				sides = 36;
			}
			var pi = Math.PI;
			var step = pi * 2 / sides;
			var dif1;
			switch(fracs_DifferencePreference.SMALL._hx_index) {
			case 0:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = dif2 > 0 ? dif2 : 2 * Math.PI + dif2;
				break;
			case 1:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = dif2 < 0 ? dif2 : -2 * Math.PI + dif2;
				break;
			case 2:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var smallest = theta <= Math.PI;
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = smallest ? dif2 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			case 3:
				var f;
				if(beta >= 0 && beta > Math.PI) {
					f = beta;
				} else {
					var a = beta % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var za = this1;
				var f;
				if(gamma >= 0 && gamma > Math.PI) {
					f = gamma;
				} else {
					var a = gamma % (2 * Math.PI);
					f = a >= 0 ? a : a + 2 * Math.PI;
				}
				var this1 = f;
				var zb = this1;
				var fa = za;
				var fb = zb;
				var theta = Math.abs(fa - fb);
				var largest = theta > Math.PI;
				var clockwise = fa < fb;
				var dif2 = clockwise ? theta : -theta;
				dif1 = largest ? dif2 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
				break;
			}
			var positive = dif1 >= 0;
			var totalSteps = Math.ceil(Math.abs(dif1) / step);
			var step = dif1 / totalSteps;
			var angle = beta;
			var cx;
			var cy;
			var bx = 0;
			var by = 0;
			var p2 = temp.length;
			var _g = 0;
			var _g1 = totalSteps + 1;
			while(_g < _g1) {
				var i = _g++;
				cx = ax + radius * Math.sin(angle);
				cy = ay + radius * Math.cos(angle);
				temp[p2++] = cx;
				temp[p2++] = cy;
				if(i != 0) {
					paintType.triangle(ax,ay,0,bx,by,0,cx,cy,0);
					var m = trilateral3_Trilateral.transformMatrix;
					if(m != null) {
						paintType.transform(m);
					}
					paintType.next();
				}
				angle += step;
				bx = cx;
				by = cy;
			}
			var len = totalSteps;
			var fh = _this.pen;
			var this1 = fh.paintType;
			var v = fh.paintType.get_pos() - len;
			this1.set_pos(v);
			var _this1 = _this.pen;
			var color = -1;
			if(color == -1) {
				color = _this1.currentColor;
			}
			_this1.paintType.colorTriangles(color,len);
			var pA = _this.pointsAnti.length;
			var len = temp.length / 2 | 0;
			var p4 = temp.length / 4 | 0;
			var _g = 0;
			var _g1 = p4;
			while(_g < _g1) {
				var i = _g++;
				_this.pointsAnti[pA++] = temp[len - 2 * i + 1];
				_this.pointsAnti[pA++] = temp[len - 2 * i];
			}
			var pC = _this.pointsClock.length;
			var _g = 0;
			var _g1 = p4;
			while(_g < _g1) {
				var i = _g++;
				_this.pointsClock[pC++] = temp[i * 2 + len + 1];
				_this.pointsClock[pC++] = temp[i * 2 + len];
			}
		}
		if(overlap) {
			var _this1 = _this.pen;
			var color = -1;
			if(color == -1) {
				color = _this1.currentColor;
			}
			var ax = _this.dxPrev;
			var ay = _this.dyPrev;
			var bx = _this.dx;
			var by = _this.dy;
			var cx = _this.ex;
			var cy = _this.ey;
			var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this1.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this1.paintType.cornerColors(color,color,color);
			_this1.paintType.next();
			var _this1 = _this.pen;
			var color = -1;
			if(color == -1) {
				color = _this1.currentColor;
			}
			var ax = _this.dxPrev;
			var ay = _this.dyPrev;
			var bx = _this.dx;
			var by = _this.dy;
			var cx = _this.exPrev;
			var cy = _this.eyPrev;
			var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
			if(trilateral3_Trilateral.transformMatrix != null) {
				_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
			}
			if(_this1.useTexture) {
				ax /= 2000;
				ay /= 2000;
				bx /= 2000;
				by /= 2000;
				cx /= 2000;
				cy /= 2000;
				_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
			}
			_this1.paintType.cornerColors(color,color,color);
			_this1.paintType.next();
		} else {
			if(_this.count != 0) {
				_this.addQuads(clockWise,width_);
			}
			_this.quadIndex = _this.pen.paintType.get_pos();
			if(_this.count == 0) {
				_this.penultimateAX = _this.dxPrev;
				_this.penultimateAY = _this.dyPrev;
				_this.lastAntiX = _this.ex;
				_this.lastAntiY = _this.ey;
				_this.penultimateCX = _this.dx;
				_this.penultimateCY = _this.dy;
				_this.lastClockX = _this.exPrev;
				_this.lastClockY = _this.eyPrev;
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.ex;
				var cy = _this.ey;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxPrev;
				var ay = _this.dyPrev;
				var bx = _this.dx;
				var by = _this.dy;
				var cx = _this.exPrev;
				var cy = _this.eyPrev;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				if(clockWise && !_this.lastClock) {
					_this.penultimateAX = _this.jx;
					_this.penultimateAY = _this.jy;
					_this.lastAntiX = _this.ex;
					_this.lastAntiY = _this.ey;
					_this.penultimateCX = _this.dx;
					_this.penultimateCY = _this.dy;
					_this.lastClockX = _this.exPrev;
					_this.lastClockY = _this.eyPrev;
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.exPrev;
					var cy = _this.eyPrev;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
				if(clockWise && _this.lastClock) {
					_this.penultimateAX = _this.jx;
					_this.penultimateAY = _this.jy;
					_this.lastAntiX = _this.ex;
					_this.lastAntiY = _this.ey;
					_this.penultimateCX = _this.dx;
					_this.penultimateCY = _this.dy;
					_this.lastClockX = _this.exPrev;
					_this.lastClockY = _this.eyPrev;
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.exPrev;
					var cy = _this.eyPrev;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
				if(!clockWise && !_this.lastClock) {
					_this.penultimateCX = _this.dx;
					_this.penultimateCY = _this.dy;
					_this.lastClockX = _this.jx;
					_this.lastClockY = _this.jy;
					_this.penultimateAX = _this.dxPrev;
					_this.penultimateAY = _this.dyPrev;
					_this.lastAntiX = _this.ex;
					_this.lastAntiY = _this.ey;
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.dxPrev;
					var ay = _this.dyPrev;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.jx;
					var cy = _this.jy;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.dxPrev;
					var ay = _this.dyPrev;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
				if(!clockWise && _this.lastClock) {
					_this.penultimateAX = _this.dxPrev;
					_this.penultimateAY = _this.dyPrev;
					_this.lastAntiX = _this.ex;
					_this.lastAntiY = _this.ey;
					_this.penultimateCX = _this.jx;
					_this.penultimateCY = _this.jy;
					_this.lastClockX = _this.dx;
					_this.lastClockY = _this.dy;
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.jx;
					var ay = _this.jy;
					var bx = _this.dx;
					var by = _this.dy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.dxPrev;
					var ay = _this.dyPrev;
					var bx = _this.jx;
					var by = _this.jy;
					var cx = _this.ex;
					var cy = _this.ey;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
			}
		}
		if(curveEnds) {
			if(clockWise) {
				var _this1 = _this.pen;
				var radius = width_ / 2;
				var edgePoly = _this.pointsClock;
				var pi = Math.PI;
				var step = pi * 2 / 36;
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = theta0;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = edgePoly.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax_ + radius * Math.sin(angle);
					cy = ay_ + radius * Math.cos(angle);
					edgePoly[p2++] = cx;
					edgePoly[p2++] = cy;
					if(i != 0) {
						var color = -1;
						if(color == -1) {
							color = _this1.currentColor;
						}
						var ax = ax_;
						var ay = ay_;
						var bx1 = bx;
						var by1 = by;
						var cx1 = cx;
						var cy1 = cy;
						var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx1,by1,_this1.z2D,cx1,cy1,_this1.z2D);
						if(trilateral3_Trilateral.transformMatrix != null) {
							_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
						}
						if(_this1.useTexture) {
							ax /= 2000;
							ay /= 2000;
							bx1 /= 2000;
							by1 /= 2000;
							cx1 /= 2000;
							cy1 /= 2000;
							_this1.paintType.triangleUV(ax,ay,bx1,by1,cx1,cy1,windAdjust);
						}
						_this1.paintType.cornerColors(color,color,color);
						_this1.paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
			} else {
				var _this1 = _this.pen;
				var radius = width_ / 2;
				var edgePoly = _this.pointsAnti;
				var pi = Math.PI;
				var step = pi * 2 / 36;
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = theta0;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = edgePoly.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax_ + radius * Math.sin(angle);
					cy = ay_ + radius * Math.cos(angle);
					edgePoly[p2++] = cx;
					edgePoly[p2++] = cy;
					if(i != 0) {
						var color = -1;
						if(color == -1) {
							color = _this1.currentColor;
						}
						var ax = ax_;
						var ay = ay_;
						var bx1 = bx;
						var by1 = by;
						var cx1 = cx;
						var cy1 = cy;
						var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx1,by1,_this1.z2D,cx1,cy1,_this1.z2D);
						if(trilateral3_Trilateral.transformMatrix != null) {
							_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
						}
						if(_this1.useTexture) {
							ax /= 2000;
							ay /= 2000;
							bx1 /= 2000;
							by1 /= 2000;
							cx1 /= 2000;
							cy1 /= 2000;
							_this1.paintType.triangleUV(ax,ay,bx1,by1,cx1,cy1,windAdjust);
						}
						_this1.paintType.cornerColors(color,color,color);
						_this1.paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
			}
		} else if(_this.count != 0) {
			if(overlap) {
				if(clockWise) {
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.dxOld;
					var ay = _this.dyOld;
					var bx = _this.exPrev;
					var by = _this.eyPrev;
					var cx = _this.ax;
					var cy = _this.ay;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				} else {
					var _this1 = _this.pen;
					var color = -1;
					if(color == null) {
						color = -1;
					}
					if(color == -1) {
						color = _this1.currentColor;
					}
					var ax = _this.exOld;
					var ay = _this.eyOld;
					var bx = _this.dxPrev;
					var by = _this.dyPrev;
					var cx = _this.ax;
					var cy = _this.ay;
					var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
					if(trilateral3_Trilateral.transformMatrix != null) {
						_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
					}
					if(_this1.useTexture) {
						ax /= 2000;
						ay /= 2000;
						bx /= 2000;
						by /= 2000;
						cx /= 2000;
						cy /= 2000;
						_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
					}
					_this1.paintType.cornerColors(color,color,color);
					_this1.paintType.next();
				}
			} else if(clockWise) {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.dxOld;
				var ay = _this.dyOld;
				var bx = _this.exPrev;
				var by = _this.eyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.exOld;
				var ay = _this.eyOld;
				var bx = _this.dxPrev;
				var by = _this.dyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		_this.kax = _this.dxPrev;
		_this.kay = _this.dyPrev;
		_this.kbx = _this.dx;
		_this.kby = _this.dy;
		_this.ncx = _this.exPrev;
		_this.ncy = _this.eyPrev;
		_this.kcx = _this.ex;
		_this.kcy = _this.ey;
		if(curveEnds && !overlap && _this.count != 0) {
			if(clockWise) {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.dxOld;
				var by = _this.dyOld;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.exPrev;
				var by = _this.eyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			} else {
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.exOld;
				var by = _this.eyOld;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
				var _this1 = _this.pen;
				var color = -1;
				if(color == null) {
					color = -1;
				}
				if(color == -1) {
					color = _this1.currentColor;
				}
				var ax = _this.ax;
				var ay = _this.ay;
				var bx = _this.dxPrev;
				var by = _this.dyPrev;
				var cx = _this.jx;
				var cy = _this.jy;
				var windAdjust = _this1.paintType.triangle(ax,ay,_this1.z2D,bx,by,_this1.z2D,cx,cy,_this1.z2D);
				if(trilateral3_Trilateral.transformMatrix != null) {
					_this1.paintType.transform(trilateral3_Trilateral.transformMatrix);
				}
				if(_this1.useTexture) {
					ax /= 2000;
					ay /= 2000;
					bx /= 2000;
					by /= 2000;
					cx /= 2000;
					cy /= 2000;
					_this1.paintType.triangleUV(ax,ay,bx,by,cx,cy,windAdjust);
				}
				_this1.paintType.cornerColors(color,color,color);
				_this1.paintType.next();
			}
		}
		_this.jxOld = _this.jx;
		_this.jyOld = _this.jy;
		_this.lastClock = clockWise;
		_this.count++;
	}
	,moveTo: function(x_,y_) {
		if(this.endLine == 2 || this.endLine == 3) {
			var _this = this.contour;
			var width_ = this.width;
			_this.endEdges();
			if(_this.count != 0) {
				var ax = _this.bx;
				var ay = _this.by;
				var radius = width_ / 2;
				var beta = -_this.angle1 - Math.PI / 2;
				var gamma = -_this.angle1 - Math.PI / 2 - Math.PI;
				var temp = [];
				var paintType = _this.pen.paintType;
				var sides = 36;
				if(sides == null) {
					sides = 36;
				}
				var pi = Math.PI;
				var step = pi * 2 / sides;
				var dif;
				switch(fracs_DifferencePreference.SMALL._hx_index) {
				case 0:
					var f;
					if(beta >= 0 && beta > Math.PI) {
						f = beta;
					} else {
						var a = beta % (2 * Math.PI);
						f = a >= 0 ? a : a + 2 * Math.PI;
					}
					var this1 = f;
					var za = this1;
					var f;
					if(gamma >= 0 && gamma > Math.PI) {
						f = gamma;
					} else {
						var a = gamma % (2 * Math.PI);
						f = a >= 0 ? a : a + 2 * Math.PI;
					}
					var this1 = f;
					var zb = this1;
					var fa = za;
					var fb = zb;
					var theta = Math.abs(fa - fb);
					var clockwise = fa < fb;
					var dif1 = clockwise ? theta : -theta;
					dif = dif1 > 0 ? dif1 : 2 * Math.PI + dif1;
					break;
				case 1:
					var f;
					if(beta >= 0 && beta > Math.PI) {
						f = beta;
					} else {
						var a = beta % (2 * Math.PI);
						f = a >= 0 ? a : a + 2 * Math.PI;
					}
					var this1 = f;
					var za = this1;
					var f;
					if(gamma >= 0 && gamma > Math.PI) {
						f = gamma;
					} else {
						var a = gamma % (2 * Math.PI);
						f = a >= 0 ? a : a + 2 * Math.PI;
					}
					var this1 = f;
					var zb = this1;
					var fa = za;
					var fb = zb;
					var theta = Math.abs(fa - fb);
					var clockwise = fa < fb;
					var dif1 = clockwise ? theta : -theta;
					dif = dif1 < 0 ? dif1 : -2 * Math.PI + dif1;
					break;
				case 2:
					var f;
					if(beta >= 0 && beta > Math.PI) {
						f = beta;
					} else {
						var a = beta % (2 * Math.PI);
						f = a >= 0 ? a : a + 2 * Math.PI;
					}
					var this1 = f;
					var za = this1;
					var f;
					if(gamma >= 0 && gamma > Math.PI) {
						f = gamma;
					} else {
						var a = gamma % (2 * Math.PI);
						f = a >= 0 ? a : a + 2 * Math.PI;
					}
					var this1 = f;
					var zb = this1;
					var fa = za;
					var fb = zb;
					var theta = Math.abs(fa - fb);
					var smallest = theta <= Math.PI;
					var clockwise = fa < fb;
					var dif1 = clockwise ? theta : -theta;
					dif = smallest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
					break;
				case 3:
					var f;
					if(beta >= 0 && beta > Math.PI) {
						f = beta;
					} else {
						var a = beta % (2 * Math.PI);
						f = a >= 0 ? a : a + 2 * Math.PI;
					}
					var this1 = f;
					var za = this1;
					var f;
					if(gamma >= 0 && gamma > Math.PI) {
						f = gamma;
					} else {
						var a = gamma % (2 * Math.PI);
						f = a >= 0 ? a : a + 2 * Math.PI;
					}
					var this1 = f;
					var zb = this1;
					var fa = za;
					var fb = zb;
					var theta = Math.abs(fa - fb);
					var largest = theta > Math.PI;
					var clockwise = fa < fb;
					var dif1 = clockwise ? theta : -theta;
					dif = largest ? dif1 : clockwise ? -(2 * Math.PI - theta) : 2 * Math.PI - theta;
					break;
				}
				var positive = dif >= 0;
				var totalSteps = Math.ceil(Math.abs(dif) / step);
				var step = dif / totalSteps;
				var angle = beta;
				var cx;
				var cy;
				var bx = 0;
				var by = 0;
				var p2 = temp.length;
				var _g = 0;
				var _g1 = totalSteps + 1;
				while(_g < _g1) {
					var i = _g++;
					cx = ax + radius * Math.sin(angle);
					cy = ay + radius * Math.cos(angle);
					temp[p2++] = cx;
					temp[p2++] = cy;
					if(i != 0) {
						paintType.triangle(ax,ay,0,bx,by,0,cx,cy,0);
						var m = trilateral3_Trilateral.transformMatrix;
						if(m != null) {
							paintType.transform(m);
						}
						paintType.next();
					}
					angle += step;
					bx = cx;
					by = cy;
				}
				var len = totalSteps;
				var fh = _this.pen;
				var this1 = fh.paintType;
				var v = fh.paintType.get_pos() - len;
				this1.set_pos(v);
				var _this1 = _this.pen;
				var color = 0;
				if(color == -1) {
					color = _this1.currentColor;
				}
				_this1.paintType.colorTriangles(color,len);
				var pA = _this.pointsAnti.length;
				var len = temp.length / 2 | 0;
				var _g = 0;
				var _g1 = len + 2;
				while(_g < _g1) {
					var i = _g++;
					_this.pointsAnti[pA++] = temp[i];
				}
				var pC = _this.pointsClock.length;
				var _g = 1;
				var _g1 = len / 2 + 1 | 0;
				while(_g < _g1) {
					var i = _g++;
					_this.pointsClock[pC++] = temp[temp.length - 2 * i];
					_this.pointsClock[pC++] = temp[temp.length - 2 * i - 1];
				}
			}
		}
		this.x = x_;
		this.y = y_;
		var l = this.points.length;
		this.points[l] = [];
		this.points[l][0] = x_;
		this.points[l][1] = y_;
		this.pointsClock[this.pointsClock.length] = this.contour.pointsClock.slice();
		this.pointsAnti[this.pointsAnti.length] = this.contour.pointsAnti.slice();
		this.dim[this.dim.length] = { minX : Infinity, maxX : -Infinity, minY : Infinity, maxY : -Infinity};
		var d = this.dim[this.dim.length - 1];
		if(x_ < d.minX) {
			d.minX = x_;
		}
		if(x_ > d.maxX) {
			d.maxX = x_;
		}
		if(y_ < d.minY) {
			d.minY = y_;
		}
		if(y_ > d.maxY) {
			d.maxY = y_;
		}
		this.contour.reset();
	}
};
var trilateral3_geom_FlatColorTriangles = {};
trilateral3_geom_FlatColorTriangles.transform = function(this1,m) {
	var pa = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_ax(this1),dsHelper_flatInterleave_FloatColorTriangles.get_ay(this1),dsHelper_flatInterleave_FloatColorTriangles.get_az(this1),1.);
	var pb = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_bx(this1),dsHelper_flatInterleave_FloatColorTriangles.get_by(this1),dsHelper_flatInterleave_FloatColorTriangles.get_bz(this1),1.);
	var pc = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_cx(this1),dsHelper_flatInterleave_FloatColorTriangles.get_cy(this1),dsHelper_flatInterleave_FloatColorTriangles.get_cz(this1),1.);
	var v2 = new trilateral3_matrix_Vertex(m.a * pa.x + m.b * pa.y + m.c * pa.z + m.d,m.e * pa.x + m.f * pa.y + m.g * pa.z + m.h,m.i * pa.x + m.j * pa.y + m.k * pa.z + m.l,1.);
	pa = v2;
	var v2 = new trilateral3_matrix_Vertex(m.a * pb.x + m.b * pb.y + m.c * pb.z + m.d,m.e * pb.x + m.f * pb.y + m.g * pb.z + m.h,m.i * pb.x + m.j * pb.y + m.k * pb.z + m.l,1.);
	pb = v2;
	var v2 = new trilateral3_matrix_Vertex(m.a * pc.x + m.b * pc.y + m.c * pc.z + m.d,m.e * pc.x + m.f * pc.y + m.g * pc.z + m.h,m.i * pc.x + m.j * pc.y + m.k * pc.z + m.l,1.);
	pc = v2;
	dsHelper_flatInterleave_FloatColorTriangles.set_ax(this1,pa.x);
	dsHelper_flatInterleave_FloatColorTriangles.set_ay(this1,pa.y);
	dsHelper_flatInterleave_FloatColorTriangles.set_az(this1,pa.z);
	dsHelper_flatInterleave_FloatColorTriangles.set_bx(this1,pb.x);
	dsHelper_flatInterleave_FloatColorTriangles.set_by(this1,pb.y);
	dsHelper_flatInterleave_FloatColorTriangles.set_bz(this1,pb.z);
	dsHelper_flatInterleave_FloatColorTriangles.set_cx(this1,pc.x);
	dsHelper_flatInterleave_FloatColorTriangles.set_cy(this1,pc.y);
	dsHelper_flatInterleave_FloatColorTriangles.set_cz(this1,pc.z);
};
trilateral3_geom_FlatColorTriangles.transformRange = function(this1,m,startEnd) {
	var start = startEnd.start;
	var end = startEnd.end;
	this1[0] = start;
	if(this1[0] > this1[1] - 1) {
		this1[1] = this1[0];
	}
	if(end > dsHelper_flat_io_Float32Flat.get_size(this1) - 1) {
		dsHelper_flat_io_Float32Flat.get_size(this1);
	}
	var _g = start;
	var _g1 = end + 1;
	while(_g < _g1) {
		var i = _g++;
		trilateral3_geom_FlatColorTriangles.transform(this1,m);
		var pos_ = this1[0] + 1.;
		this1[0] = pos_;
		if(this1[0] > this1[1] - 1) {
			this1[1] = this1[0];
		}
	}
};
var trilateral3_matrix_MatrixDozen = function(a,b,c,d,e,f,g,h,i,j,k,l) {
	this.l = 0.;
	this.k = 0.;
	this.j = 0.;
	this.i = 0.;
	this.h = 0.;
	this.g = 0.;
	this.f = 0.;
	this.e = 0.;
	this.d = 0.;
	this.c = 0.;
	this.b = 0.;
	this.a = 0.;
	this.a = a;
	this.b = b;
	this.c = c;
	this.d = d;
	this.e = e;
	this.f = f;
	this.g = g;
	this.h = h;
	this.i = i;
	this.j = j;
	this.k = k;
	this.l = l;
};
trilateral3_matrix_MatrixDozen.__name__ = true;
var trilateral3_matrix_Vertex = function(x,y,z,w) {
	if(w == null) {
		w = 1.;
	}
	this.w = 1.;
	this.z = 0.;
	this.y = 0.;
	this.x = 0.;
	this.x = x;
	this.y = y;
	this.z = z;
	this.w = w;
};
trilateral3_matrix_Vertex.__name__ = true;
var trilateral3_nodule_PenNodule = function(useGLScale) {
	if(useGLScale == null) {
		useGLScale = true;
	}
	if(useGLScale) {
		var transform1000 = new trilateral3_matrix_MatrixDozen(0.001,0,0,-1,0,-0.001,0,1,0,0,0.001,0);
		trilateral3_Trilateral.transformMatrix = transform1000;
	}
	this.createPen();
};
trilateral3_nodule_PenNodule.__name__ = true;
var trilateral3_nodule_PenColor = function(useGLScale) {
	if(useGLScale == null) {
		useGLScale = true;
	}
	var this1 = new Float32Array(trilateral3_nodule_PenNodule.largeEnough + 2);
	this1[0] = 0.;
	this1[1] = 0.;
	this.colorTriangles = this1;
	trilateral3_nodule_PenNodule.call(this,useGLScale);
};
trilateral3_nodule_PenColor.__name__ = true;
trilateral3_nodule_PenColor.__super__ = trilateral3_nodule_PenNodule;
trilateral3_nodule_PenColor.prototype = $extend(trilateral3_nodule_PenNodule.prototype,{
	createPen: function() {
		var t = this.colorTriangles;
		var _e = t;
		var _e1 = t;
		var _e2 = t;
		var _e3 = t;
		var _e4 = t;
		var _e5 = t;
		var _e6 = t;
		var _e7 = t;
		var _e8 = t;
		var _e9 = t;
		var _e10 = t;
		var _e11 = t;
		var _e12 = t;
		var _e13 = t;
		var _e14 = t;
		var _e15 = t;
		var _e16 = t;
		var triangleAbstract = { rotate : function(x,y,theta) {
			var cos = Math.cos(theta);
			var sin = Math.sin(theta);
			dsHelper_flatInterleave_FloatColorTriangles.set_ax(_e,dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e) - x);
			dsHelper_flatInterleave_FloatColorTriangles.set_ay(_e,dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e) - y);
			dsHelper_flatInterleave_FloatColorTriangles.set_bx(_e,dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e) - x);
			dsHelper_flatInterleave_FloatColorTriangles.set_by(_e,dsHelper_flatInterleave_FloatColorTriangles.get_by(_e) - y);
			dsHelper_flatInterleave_FloatColorTriangles.set_cx(_e,dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e) - x);
			dsHelper_flatInterleave_FloatColorTriangles.set_cy(_e,dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e) - y);
			var dx = dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e);
			var dy = dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e);
			dsHelper_flatInterleave_FloatColorTriangles.set_ax(_e,dx * cos - dy * sin);
			dsHelper_flatInterleave_FloatColorTriangles.set_ay(_e,dx * sin + dy * cos);
			dx = dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e);
			dy = dsHelper_flatInterleave_FloatColorTriangles.get_by(_e);
			dsHelper_flatInterleave_FloatColorTriangles.set_bx(_e,dx * cos - dy * sin);
			dsHelper_flatInterleave_FloatColorTriangles.set_by(_e,dx * sin + dy * cos);
			dx = dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e);
			dy = dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e);
			dsHelper_flatInterleave_FloatColorTriangles.set_cx(_e,dx * cos - dy * sin);
			dsHelper_flatInterleave_FloatColorTriangles.set_cy(_e,dx * sin + dy * cos);
			dsHelper_flatInterleave_FloatColorTriangles.set_ax(_e,dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e) + x);
			dsHelper_flatInterleave_FloatColorTriangles.set_ay(_e,dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e) + y);
			dsHelper_flatInterleave_FloatColorTriangles.set_bx(_e,dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e) + x);
			dsHelper_flatInterleave_FloatColorTriangles.set_by(_e,dsHelper_flatInterleave_FloatColorTriangles.get_by(_e) + y);
			dsHelper_flatInterleave_FloatColorTriangles.set_cx(_e,dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e) + x);
			dsHelper_flatInterleave_FloatColorTriangles.set_cy(_e,dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e) + y);
		}, moveDelta : function(dx,dy) {
			dsHelper_flatInterleave_FloatColorTriangles.moveDelta(_e1,dx,dy);
		}, rotateTrig : function(x,y,cos,sin) {
			dsHelper_flatInterleave_FloatColorTriangles.set_ax(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e2) - x);
			dsHelper_flatInterleave_FloatColorTriangles.set_ay(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e2) - y);
			dsHelper_flatInterleave_FloatColorTriangles.set_bx(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e2) - x);
			dsHelper_flatInterleave_FloatColorTriangles.set_by(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_by(_e2) - y);
			dsHelper_flatInterleave_FloatColorTriangles.set_cx(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e2) - x);
			dsHelper_flatInterleave_FloatColorTriangles.set_cy(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e2) - y);
			var dx = dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e2);
			var dy = dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e2);
			dsHelper_flatInterleave_FloatColorTriangles.set_ax(_e2,dx * cos - dy * sin);
			dsHelper_flatInterleave_FloatColorTriangles.set_ay(_e2,dx * sin + dy * cos);
			dx = dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e2);
			dy = dsHelper_flatInterleave_FloatColorTriangles.get_by(_e2);
			dsHelper_flatInterleave_FloatColorTriangles.set_bx(_e2,dx * cos - dy * sin);
			dsHelper_flatInterleave_FloatColorTriangles.set_by(_e2,dx * sin + dy * cos);
			dx = dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e2);
			dy = dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e2);
			dsHelper_flatInterleave_FloatColorTriangles.set_cx(_e2,dx * cos - dy * sin);
			dsHelper_flatInterleave_FloatColorTriangles.set_cy(_e2,dx * sin + dy * cos);
			dsHelper_flatInterleave_FloatColorTriangles.set_ax(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e2) + x);
			dsHelper_flatInterleave_FloatColorTriangles.set_ay(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e2) + y);
			dsHelper_flatInterleave_FloatColorTriangles.set_bx(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e2) + x);
			dsHelper_flatInterleave_FloatColorTriangles.set_by(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_by(_e2) + y);
			dsHelper_flatInterleave_FloatColorTriangles.set_cx(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e2) + x);
			dsHelper_flatInterleave_FloatColorTriangles.set_cy(_e2,dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e2) + y);
		}, fullHit : function(px,py) {
			return dsHelper_flatInterleave_FloatColorTriangles.fullHit(_e3,px,py);
		}, liteHit : function(px,py) {
			var planeAB = (dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e4) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_by(_e4) - py) - (dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e4) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e4) - py);
			var planeBC = (dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e4) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e4) - py) - (dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e4) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_by(_e4) - py);
			var planeCA = (dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e4) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e4) - py) - (dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e4) - px) * (dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e4) - py);
			if((Math.abs(planeAB) / planeAB | 0) == (Math.abs(planeBC) / planeBC | 0)) {
				return (Math.abs(planeBC) / planeBC | 0) == (Math.abs(planeCA) / planeCA | 0);
			} else {
				return false;
			}
		}, get_bottom : function() {
			return Math.max(Math.max(dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e5),dsHelper_flatInterleave_FloatColorTriangles.get_by(_e5)),dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e5));
		}, get_back : function() {
			return Math.max(Math.max(dsHelper_flatInterleave_FloatColorTriangles.get_az(_e6),dsHelper_flatInterleave_FloatColorTriangles.get_bz(_e6)),dsHelper_flatInterleave_FloatColorTriangles.get_cz(_e6));
		}, get_right : function() {
			return Math.max(Math.max(dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e7),dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e7)),dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e7));
		}, get_x : function() {
			return Math.min(Math.min(dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e8),dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e8)),dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e8));
		}, set_x : function(x) {
			var dx = x - Math.min(Math.min(dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e9),dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e9)),dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e9));
			dsHelper_flatInterleave_FloatColorTriangles.set_ax(_e9,dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e9) + dx);
			dsHelper_flatInterleave_FloatColorTriangles.set_bx(_e9,dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e9) + dx);
			dsHelper_flatInterleave_FloatColorTriangles.set_cx(_e9,dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e9) + dx);
			return x;
		}, get_y : function() {
			return Math.min(Math.min(dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e10),dsHelper_flatInterleave_FloatColorTriangles.get_by(_e10)),dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e10));
		}, set_y : function(y) {
			var dy = y - Math.min(Math.min(dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e11),dsHelper_flatInterleave_FloatColorTriangles.get_by(_e11)),dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e11));
			dsHelper_flatInterleave_FloatColorTriangles.set_ay(_e11,dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e11) + dy);
			dsHelper_flatInterleave_FloatColorTriangles.set_by(_e11,dsHelper_flatInterleave_FloatColorTriangles.get_by(_e11) + dy);
			dsHelper_flatInterleave_FloatColorTriangles.set_cy(_e11,dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e11) + dy);
			return y;
		}, get_z : function() {
			return Math.min(Math.min(dsHelper_flatInterleave_FloatColorTriangles.get_az(_e12),dsHelper_flatInterleave_FloatColorTriangles.get_bz(_e12)),dsHelper_flatInterleave_FloatColorTriangles.get_cz(_e12));
		}, set_z : function(z) {
			var dz = z - Math.min(Math.min(dsHelper_flatInterleave_FloatColorTriangles.get_az(_e13),dsHelper_flatInterleave_FloatColorTriangles.get_bz(_e13)),dsHelper_flatInterleave_FloatColorTriangles.get_cz(_e13));
			dsHelper_flatInterleave_FloatColorTriangles.set_az(_e13,dsHelper_flatInterleave_FloatColorTriangles.get_az(_e13) + dz);
			dsHelper_flatInterleave_FloatColorTriangles.set_bz(_e13,dsHelper_flatInterleave_FloatColorTriangles.get_bz(_e13) + dz);
			dsHelper_flatInterleave_FloatColorTriangles.set_cz(_e13,dsHelper_flatInterleave_FloatColorTriangles.get_cz(_e13) + dz);
			return z;
		}, triangle : function(ax_,ay_,az_,bx_,by_,bz_,cx_,cy_,cz_) {
			return dsHelper_flatInterleave_FloatColorTriangles.triangle(_e14,ax_,ay_,az_,bx_,by_,bz_,cx_,cy_,cz_);
		}, getTriangle3D : function() {
			var pa = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e15),dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e15),dsHelper_flatInterleave_FloatColorTriangles.get_az(_e15),1.);
			var pb = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e15),dsHelper_flatInterleave_FloatColorTriangles.get_by(_e15),dsHelper_flatInterleave_FloatColorTriangles.get_bz(_e15),1.);
			var pc = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e15),dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e15),dsHelper_flatInterleave_FloatColorTriangles.get_cz(_e15),1.);
			return new trilateral3_structure_Triangle3D(pa,pb,pc);
		}, transform : function(m) {
			trilateral3_geom_FlatColorTriangles.transform(_e16,m);
		}};
		var _e17 = t;
		var _e18 = t;
		var _e19 = t;
		var _e20 = t;
		var _e21 = t;
		var _e22 = t;
		var _e23 = t;
		var color3Abstract = { set_argb : function(col) {
			dsHelper_flatInterleave_FloatColorTriangles.set_redA(_e17,(col >> 16 & 255) / 255);
			var v = (col & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 5 + 2] = v;
			var v = (col >> 8 & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 4 + 2] = v;
			var v = (col >> 24 & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 6 + 2] = v;
			dsHelper_flatInterleave_FloatColorTriangles.set_redB(_e17,(col >> 16 & 255) / 255);
			var v = (col & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 12 + 2] = v;
			var v = (col >> 8 & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 11 + 2] = v;
			var v = (col >> 24 & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 13 + 2] = v;
			dsHelper_flatInterleave_FloatColorTriangles.set_redC(_e17,(col >> 16 & 255) / 255);
			var v = (col & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 19 + 2] = v;
			var v = (col >> 8 & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 18 + 2] = v;
			var v = (col >> 24 & 255) / 255;
			_e17[(_e17[0] | 0) * 21 + 20 + 2] = v;
			return col;
		}, set_argbA : function(col) {
			dsHelper_flatInterleave_FloatColorTriangles.set_redA(_e18,(col >> 16 & 255) / 255);
			var v = (col & 255) / 255;
			_e18[(_e18[0] | 0) * 21 + 5 + 2] = v;
			var v = (col >> 8 & 255) / 255;
			_e18[(_e18[0] | 0) * 21 + 4 + 2] = v;
			var v = (col >> 24 & 255) / 255;
			_e18[(_e18[0] | 0) * 21 + 6 + 2] = v;
			return col;
		}, get_argbA : function() {
			return Math.round(_e19[(_e19[0] | 0) * 21 + 6 + 2] * 255) << 24 | Math.round(dsHelper_flatInterleave_FloatColorTriangles.get_redA(_e19) * 255) << 16 | Math.round(_e19[(_e19[0] | 0) * 21 + 4 + 2] * 255) << 8 | Math.round(_e19[(_e19[0] | 0) * 21 + 5 + 2] * 255);
		}, set_argbB : function(col) {
			dsHelper_flatInterleave_FloatColorTriangles.set_redB(_e20,(col >> 16 & 255) / 255);
			var v = (col & 255) / 255;
			_e20[(_e20[0] | 0) * 21 + 12 + 2] = v;
			var v = (col >> 8 & 255) / 255;
			_e20[(_e20[0] | 0) * 21 + 11 + 2] = v;
			var v = (col >> 24 & 255) / 255;
			_e20[(_e20[0] | 0) * 21 + 13 + 2] = v;
			return col;
		}, get_argbB : function() {
			return Math.round(_e21[(_e21[0] | 0) * 21 + 13 + 2] * 255) << 24 | Math.round(dsHelper_flatInterleave_FloatColorTriangles.get_redB(_e21) * 255) << 16 | Math.round(_e21[(_e21[0] | 0) * 21 + 11 + 2] * 255) << 8 | Math.round(_e21[(_e21[0] | 0) * 21 + 12 + 2] * 255);
		}, set_argbC : function(col) {
			dsHelper_flatInterleave_FloatColorTriangles.set_redC(_e22,(col >> 16 & 255) / 255);
			var v = (col & 255) / 255;
			_e22[(_e22[0] | 0) * 21 + 19 + 2] = v;
			var v = (col >> 8 & 255) / 255;
			_e22[(_e22[0] | 0) * 21 + 18 + 2] = v;
			var v = (col >> 24 & 255) / 255;
			_e22[(_e22[0] | 0) * 21 + 20 + 2] = v;
			return col;
		}, get_argbC : function() {
			return Math.round(_e23[(_e23[0] | 0) * 21 + 20 + 2] * 255) << 24 | Math.round(dsHelper_flatInterleave_FloatColorTriangles.get_redC(_e23) * 255) << 16 | Math.round(_e23[(_e23[0] | 0) * 21 + 18 + 2] * 255) << 8 | Math.round(_e23[(_e23[0] | 0) * 21 + 19 + 2] * 255);
		}};
		var _e24 = t;
		var _e25 = t;
		var _e26 = t;
		var _e27 = t;
		var _e28 = t;
		var _e29 = t;
		var _e30 = t;
		var _e31 = t;
		var _e32 = t;
		var _e33 = t;
		var _e34 = t;
		var _e35 = t;
		var _e36 = t;
		var _e37 = t;
		var _e38 = t;
		var _e39 = t;
		var paintAbstract = { triangle : function(ax_,ay_,az_,bx_,by_,bz_,cx_,cy_,cz_) {
			return dsHelper_flatInterleave_FloatColorTriangles.triangle(_e24,ax_,ay_,az_,bx_,by_,bz_,cx_,cy_,cz_);
		}, cornerColors : function(colorA,colorB,colorC) {
			dsHelper_flatInterleave_FloatColorTriangles.set_redA(_e25,(colorA >> 16 & 255) / 255);
			var v = (colorA & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 5 + 2] = v;
			var v = (colorA >> 8 & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 4 + 2] = v;
			var v = (colorA >> 24 & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 6 + 2] = v;
			dsHelper_flatInterleave_FloatColorTriangles.set_redB(_e25,(colorB >> 16 & 255) / 255);
			var v = (colorB & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 12 + 2] = v;
			var v = (colorB >> 8 & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 11 + 2] = v;
			var v = (colorB >> 24 & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 13 + 2] = v;
			dsHelper_flatInterleave_FloatColorTriangles.set_redC(_e25,(colorC >> 16 & 255) / 255);
			var v = (colorC & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 19 + 2] = v;
			var v = (colorC >> 8 & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 18 + 2] = v;
			var v = (colorC >> 24 & 255) / 255;
			_e25[(_e25[0] | 0) * 21 + 20 + 2] = v;
		}, colorTriangles : function(color,times) {
			var _g = 0;
			var _g1 = times;
			while(_g < _g1) {
				var i = _g++;
				dsHelper_flatInterleave_FloatColorTriangles.set_redA(_e26,(color >> 16 & 255) / 255);
				var v = (color & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 5 + 2] = v;
				var v1 = (color >> 8 & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 4 + 2] = v1;
				var v2 = (color >> 24 & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 6 + 2] = v2;
				dsHelper_flatInterleave_FloatColorTriangles.set_redB(_e26,(color >> 16 & 255) / 255);
				var v3 = (color & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 12 + 2] = v3;
				var v4 = (color >> 8 & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 11 + 2] = v4;
				var v5 = (color >> 24 & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 13 + 2] = v5;
				dsHelper_flatInterleave_FloatColorTriangles.set_redC(_e26,(color >> 16 & 255) / 255);
				var v6 = (color & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 19 + 2] = v6;
				var v7 = (color >> 8 & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 18 + 2] = v7;
				var v8 = (color >> 24 & 255) / 255;
				_e26[(_e26[0] | 0) * 21 + 20 + 2] = v8;
				var pos_ = _e26[0] + 1;
				_e26[0] = pos_;
				if(_e26[0] > _e26[1] - 1) {
					_e26[1] = _e26[0];
				}
			}
		}, getTriInt : function() {
			return new trilateral3_structure_TriInt(Math.round(_e27[(_e27[0] | 0) * 21 + 6 + 2] * 255) << 24 | Math.round(dsHelper_flatInterleave_FloatColorTriangles.get_redA(_e27) * 255) << 16 | Math.round(_e27[(_e27[0] | 0) * 21 + 4 + 2] * 255) << 8 | Math.round(_e27[(_e27[0] | 0) * 21 + 5 + 2] * 255),Math.round(_e27[(_e27[0] | 0) * 21 + 13 + 2] * 255) << 24 | Math.round(dsHelper_flatInterleave_FloatColorTriangles.get_redB(_e27) * 255) << 16 | Math.round(_e27[(_e27[0] | 0) * 21 + 11 + 2] * 255) << 8 | Math.round(_e27[(_e27[0] | 0) * 21 + 12 + 2] * 255),Math.round(_e27[(_e27[0] | 0) * 21 + 20 + 2] * 255) << 24 | Math.round(dsHelper_flatInterleave_FloatColorTriangles.get_redC(_e27) * 255) << 16 | Math.round(_e27[(_e27[0] | 0) * 21 + 18 + 2] * 255) << 8 | Math.round(_e27[(_e27[0] | 0) * 21 + 19 + 2] * 255));
		}, transform : function(m) {
			trilateral3_geom_FlatColorTriangles.transform(_e28,m);
		}, transformRange : function(m,startEnd) {
			trilateral3_geom_FlatColorTriangles.transformRange(_e29,m,startEnd);
		}, getTriangle3D : function() {
			var pa = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_ax(_e30),dsHelper_flatInterleave_FloatColorTriangles.get_ay(_e30),dsHelper_flatInterleave_FloatColorTriangles.get_az(_e30),1.);
			var pb = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_bx(_e30),dsHelper_flatInterleave_FloatColorTriangles.get_by(_e30),dsHelper_flatInterleave_FloatColorTriangles.get_bz(_e30),1.);
			var pc = new trilateral3_matrix_Vertex(dsHelper_flatInterleave_FloatColorTriangles.get_cx(_e30),dsHelper_flatInterleave_FloatColorTriangles.get_cy(_e30),dsHelper_flatInterleave_FloatColorTriangles.get_cz(_e30),1.);
			return new trilateral3_structure_Triangle3D(pa,pb,pc);
		}, next : function() {
			var pos_ = _e31[0] + 1.;
			_e31[0] = pos_;
			if(_e31[0] > _e31[1] - 1) {
				_e31[1] = _e31[0];
			}
			return _e31[0];
		}, hasNext : function() {
			return _e32[0] < dsHelper_flat_io_Float32Flat.get_size(_e32);
		}, get_pos : function() {
			return _e33[0];
		}, set_pos : function(pos_) {
			_e34[0] = pos_;
			if(_e34[0] > _e34[1] - 1) {
				_e34[1] = _e34[0];
			}
			return pos_;
		}, get_size : function() {
			return dsHelper_flat_io_Float32Flat.get_size(_e35);
		}, set_size : function(id) {
			return dsHelper_flat_io_Float32Flat.set_size(_e36,id);
		}, toStart : function(id,len) {
			var starting = id * 21;
			var totalLen = 21 * len | 0;
			if(starting == 0) {
				return false;
			} else {
				var ending = starting + totalLen;
				var temp = [];
				var count = 0;
				var _g = starting;
				var _g1 = ending;
				while(_g < _g1) {
					var i = _g++;
					temp[count] = _e37[i + 2];
					++count;
				}
				count = totalLen;
				var _g = 0;
				var _g1 = starting;
				while(_g < _g1) {
					var i = _g++;
					var v = _e37[starting - 1 - i + 2];
					_e37[ending - 1 - i + 2] = v;
				}
				count = 0;
				var _g = 0;
				var _g1 = totalLen;
				while(_g < _g1) {
					var i = _g++;
					var v = temp[count - 2];
					_e37[i + 2] = v;
					++count;
				}
				temp = null;
				return true;
			}
		}, toEnd : function(id,len) {
			return dsHelper_flat_io_Float32FlatDepth.rangeToEnd(_e38,id * 21,21 * len | 0,21 * dsHelper_flat_io_Float32Flat.get_size(_e38));
		}, swap : function(id0,id1,len) {
			var start0 = id0 * 21;
			var start1 = id1 * 21;
			var totalLen = 21 * len | 0;
			if(start0 + totalLen > dsHelper_flat_io_Float32Flat.get_size(_e39) && start1 + totalLen > dsHelper_flat_io_Float32Flat.get_size(_e39)) {
				var temp0;
				var temp1;
				var _g = 0;
				var _g1 = totalLen;
				while(_g < _g1) {
					var i = _g++;
					temp0 = _e39[start0 + i + 2];
					temp1 = _e39[start1 + i + 2];
					_e39[start0 + i + 2] = temp1;
					_e39[start1 + i + 2] = temp0;
				}
				return true;
			} else {
				return false;
			}
		}, triangleCurrent : triangleAbstract, color3current : color3Abstract};
		this.pen = new trilateral3_drawing_Pen(paintAbstract);
		return this.pen;
	}
	,get_data: function() {
		var this1 = this.colorTriangles;
		return this1.subarray(2,dsHelper_flat_io_Float32Flat.get_size(this1) * 21 + 2);
	}
	,get_size: function() {
		return dsHelper_flat_io_Float32Flat.get_size(this.colorTriangles) * 3 | 0;
	}
});
var trilateral3_structure_StartEnd = function(start,end) {
	this.start = start;
	this.end = end;
};
trilateral3_structure_StartEnd.__name__ = true;
var trilateral3_structure_TriInt = function(a,b,c) {
	this.a = a;
	this.b = b;
	this.c = c;
};
trilateral3_structure_TriInt.__name__ = true;
var trilateral3_structure_Triangle3D = function(a,b,c) {
	this.a = a;
	this.b = b;
	this.c = c;
};
trilateral3_structure_Triangle3D.__name__ = true;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $global.$haxeUID++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$global.$haxeUID |= 0;
String.__name__ = true;
Array.__name__ = true;
hxGeomAlgo_PolyTools.exposeEnum(hxGeomAlgo_WindingRule);
hxGeomAlgo_PolyTools.exposeEnum(hxGeomAlgo_ResultType);
js_Boot.__toStr = ({ }).toString;
var TrilateralLines_shape1 = [46.9,497.5,47.0,496.1,46.9,496.1,44.5,494.4,44.5,494.4,39.1,490.2,39.0,490.4,38.0,489.2,38.0,489.1,37.9,487.9,36.3,487.8,35.3,486.6,35.2,486.6,34.2,486.8,34.0,487.1,33.4,486.9,33.4,486.6,33.1,485.9,33.0,485.9,32.0,485.7,32.0,485.6,30.2,484.4,29.1,484.4,28.8,483.2,28.0,482.8,28.1,482.1,28.2,482.1,28.9,480.4,28.9,480.2,30.4,478.2,28.4,479.3,28.3,479.5,27.6,480.1,26.9,481.7,26.1,481.8,25.9,480.8,25.9,480.7,26.4,479.1,26.5,479.0,26.4,478.1,26.1,478.1,25.4,478.4,24.6,478.4,24.6,478.5,24.4,479.8,24.0,479.8,23.5,478.8,22.8,478.8,22.7,478.8,22.5,479.4,22.4,479.4,21.6,479.3,21.6,479.4,21.6,480.1,20.9,479.9,20.3,478.7,20.3,478.6,20.1,477.1,20.2,476.9,20.4,476.2,20.7,476.4,20.9,476.2,20.4,476.2,18.6,476.2,18.5,476.0,18.9,474.9,18.8,474.9,18.4,473.9,17.6,473.1,17.6,472.8,17.8,471.9,18.4,471.4,18.8,469.1,19.2,468.4,19.6,468.2,19.8,468.0,20.2,467.8,20.8,466.2,20.9,466.2,20.6,465.6,19.6,465.9,19.3,465.8,18.9,466.6,18.4,466.9,18.3,466.9,17.0,467.0,16.4,466.1,16.8,464.9,18.1,464.7,18.6,463.4,19.1,463.5,19.2,463.5,19.6,462.3,19.6,462.1,20.2,462.1,20.2,461.9,20.9,461.2,23.1,461.2,23.1,461.4,24.8,460.9,24.7,460.7,27.1,459.8,27.0,459.5,27.6,458.4,26.8,458.1,26.1,458.7,24.8,458.4,24.7,458.6,23.6,457.9,23.4,457.2,23.4,457.2,24.8,456.4,25.4,456.2,25.3,455.9,23.4,455.8,23.2,456.1,22.1,455.4,21.9,455.1,21.8,454.4,21.4,454.2,21.2,454.1,20.2,452.4,19.9,452.4,19.9,454.1,19.1,454.4,17.9,454.1,17.9,454.1,17.8,452.9,17.9,452.6,19.0,452.1,20.2,450.4,23.2,446.9,23.4,446.9,23.9,447.7,23.9,447.8,26.4,450.1,27.2,451.9,28.1,452.1,29.8,452.1,29.4,453.2,30.4,452.9,31.2,453.1,31.4,454.4,29.9,455.8,28.9,456.6,29.1,457.6,30.2,457.2,30.2,457.1,31.8,457.0,31.9,456.9,32.2,455.8,33.1,454.8,34.0,454.8,34.4,455.2,34.5,456.1,33.5,456.6,33.6,457.8,32.8,458.5,32.5,458.9,32.6,459.0,33.5,459.0,30.8,463.8,31.1,464.0,31.1,463.9,34.1,459.4,35.7,458.8,34.5,461.4,36.5,458.9,37.0,458.9,37.2,459.1,38.1,459.2,37.9,460.3,38.9,459.8,40.4,460.4,40.5,461.6,40.9,461.6,40.9,461.9,41.0,463.7,41.1,463.9,42.0,464.3,42.0,464.4,42.5,464.2,43.7,464.8,43.8,464.9,44.0,466.1,44.1,466.2,43.6,467.5,43.5,470.2,43.7,470.4,42.9,471.6,41.9,471.6,41.7,472.3,43.7,472.7,43.8,472.9,44.0,474.1,43.6,474.9,43.5,476.3,43.6,476.3,44.4,476.1,44.5,476.3,45.0,476.6,45.1,476.7,45.5,477.2,45.6,477.4,46.2,477.4,46.7,476.4,46.8,476.2,47.5,475.8,47.6,475.9,48.8,475.9,48.9,476.1,49.2,476.8,49.2,476.9,50.5,477.5,50.7,478.1,50.8,478.2,51.2,479.8,51.6,480.4,51.6,481.1,50.5,481.0,49.2,480.4,49.0,479.6,47.5,478.7,46.9,478.0,45.7,478.0,45.7,478.1,45.0,478.6,45.1,478.8,44.4,479.1,44.0,478.6,43.8,478.8,44.2,479.2,45.2,479.8,45.4,479.8,45.4,481.2,46.6,481.4,46.8,482.9,47.0,483.0,48.0,483.1,48.1,484.4,48.1,484.5,48.6,484.6,49.5,486.0,49.6,485.9,50.5,486.2,50.6,486.8,49.8,486.9,49.1,487.7,48.9,488.5,49.1,488.6,49.9,490.6,50.5,491.3,50.5,491.8,50.5,491.9,49.6,493.0,49.9,494.1,49.6,494.9,48.7,495.8,48.8,496.5,47.7,497.4,46.9,497.5];
var TrilateralLines_shape2 = [17.5,448.1,15.6,447.6,14.5,445.8,15.1,445.1,14.5,444.8,14.4,444.8,13.6,444.9,13.5,445.0,13.2,444.4,13.3,444.0,13.4,444.0,13.9,443.7,13.7,443.2,11.5,443.2,12.1,445.2,11.6,445.2,10.6,444.1,10.6,443.2,10.1,443.1,9.6,443.4,5.7,443.1,5.5,443.1,5.8,441.7,5.0,440.9,5.0,440.9,4.8,439.6,3.6,439.8,3.5,439.6,4.0,438.9,4.2,438.8,6.3,436.7,6.5,436.6,7.2,436.9,9.7,433.9,9.5,433.8,9.8,432.1,9.8,432.1,9.3,431.3,8.6,431.2,8.3,430.9,8.4,430.9,8.5,429.3,8.7,428.9,9.2,427.9,9.2,427.9,10.2,427.4,10.3,427.3,9.3,426.4,9.2,426.6,8.6,426.2,8.6,425.9,7.8,425.6,8.7,424.1,8.8,420.2,8.1,419.6,7.7,416.9,8.7,409.6,9.2,408.2,9.3,408.2,10.1,407.7,11.6,407.9,11.7,407.9,13.1,407.9,13.3,407.6,14.2,407.3,14.7,407.8,15.5,408.6,14.2,409.8,13.8,409.9,12.9,410.5,13.9,411.1,13.7,413.4,13.9,413.6,12.7,415.2,13.3,415.2,13.3,415.4,13.8,415.6,14.1,416.2,14.2,416.2,14.1,417.7,14.9,418.6,14.9,418.7,15.6,418.6,15.9,420.4,15.2,420.9,15.1,421.7,15.2,421.8,14.6,422.2,14.5,422.3,14.6,422.3,14.7,422.4,15.3,422.9,15.3,423.1,13.8,424.0,13.4,425.1,13.1,425.1,11.9,426.2,11.9,426.4,13.2,426.2,14.1,425.9,14.7,425.5,15.8,425.5,15.8,425.8,16.1,426.6,15.5,427.2,15.7,428.9,14.6,429.1,14.7,429.2,15.3,430.1,15.4,430.4,14.9,430.5,14.8,430.9,14.8,430.9,14.8,431.1,15.9,431.0,15.9,430.9,16.4,431.0,17.8,432.7,17.9,432.7,18.0,436.1,19.1,438.4,19.1,438.6,17.3,438.9,17.3,439.0,17.4,439.8,17.6,439.9,18.1,439.4,19.4,439.6,19.8,440.9,19.8,440.9,21.2,442.9,18.5,443.7,17.2,442.8,17.2,444.2,17.1,444.3,16.4,444.5,16.6,445.7,17.5,446.8,17.6,447.9,17.5,448.1];
var TrilateralLines_shape3 = [56.5,438.1,56.5,437.4,53.0,427.4,53.2,427.1,53.2,423.4,54.0,423.0,54.0,422.0,54.6,421.9,56.5,423.2,56.9,424.4,55.1,428.8,58.2,437.8,58.2,438.1,56.5,438.1];
var TrilateralLines_shape4 = [47.4,403.9,45.6,405.1,43.5,404.9,40.5,402.0,43.2,399.6,43.4,398.5,43.6,398.6,45.8,397.2,47.4,399.1,48.0,401.5,48.1,401.6,47.4,403.9];
var TrilateralLines_shape5 = [53.6,379.0,52.0,380.3,48.5,379.1,48.5,377.2,47.1,377.5,45.5,377.2,45.0,375.5,46.2,375.4,45.7,374.4,44.9,374.3,44.4,372.9,45.1,372.5,45.4,372.2,47.1,371.9,48.2,372.1,48.4,372.1,51.4,370.4,51.5,370.2,50.3,369.9,48.9,370.7,45.6,370.7,45.7,369.6,45.8,369.6,50.4,368.1,51.6,368.8,51.9,369.3,51.9,369.4,52.0,369.4,56.0,370.1,56.3,369.8,54.0,367.7,52.0,367.7,50.9,365.3,51.0,365.2,49.4,364.1,48.8,362.2,49.9,361.6,50.0,361.7,51.5,362.2,51.5,362.4,53.4,362.6,53.5,362.5,55.2,364.1,56.0,363.0,53.3,361.4,50.9,361.0,50.0,360.4,48.5,361.3,47.6,361.3,47.6,359.8,46.8,360.9,45.9,361.4,43.8,361.0,43.7,361.0,43.5,358.6,42.8,358.1,42.8,357.9,44.8,356.7,44.8,356.4,46.5,356.4,46.5,356.4,46.9,356.0,47.9,357.2,47.9,357.4,50.0,357.6,50.0,357.4,51.0,357.3,52.5,358.2,52.6,358.1,53.1,358.3,53.8,358.1,54.5,357.8,54.6,357.9,56.8,359.5,56.8,359.6,58.6,359.7,58.6,359.9,59.5,361.1,59.6,360.9,60.1,361.9,61.0,361.8,60.9,361.1,60.0,359.6,61.5,359.0,63.6,360.1,66.8,362.8,66.3,363.8,67.3,363.9,68.0,364.9,67.3,365.9,68.2,366.4,68.0,367.9,67.0,367.7,66.9,367.8,65.3,369.8,64.5,369.6,63.4,370.9,63.3,371.1,62.2,371.4,62.1,371.2,60.8,372.1,60.5,372.1,58.4,371.9,58.3,371.9,57.1,373.1,57.1,373.2,56.0,375.9,56.0,376.0,54.0,377.7,53.6,379.0];
var TrilateralLines_shape6 = [40.8,380.6,40.9,382.6,39.2,382.1,34.5,377.1,34.3,376.9,32.0,374.9,31.9,374.8,32.5,374.5,33.8,375.5,33.8,375.6,36.3,375.6,39.2,377.9,39.4,377.9,40.8,380.6];
var TrilateralLines_shape7 = [11.7,402.8,11.2,403.4,9.1,401.4,7.8,402.9,8.3,404.2,7.1,405.4,7.2,403.7,6.2,402.5,4.8,402.4,5.0,401.4,5.2,401.2,4.4,399.8,3.5,399.3,3.0,397.3,4.5,394.6,5.0,394.0,5.5,393.9,5.5,394.2,5.5,396.6,5.8,396.6,6.2,397.9,6.0,397.9,6.3,398.2,6.4,398.2,7.0,398.1,7.1,398.2,8.6,399.7,8.9,400.6,11.7,402.8];
var TrilateralLines_shape8 = [1.6,390.5,1.4,391.1,0.4,390.6,0.2,390.6,0.1,388.1,0.0,388.1,0.3,387.8,1.4,387.8,1.4,389.7,1.6,390.5];
var TrilateralLines_shape9 = [7.5,448.1,15.6,447.6,14.5,445.8,15.1,445.1,14.5,444.8,14.4,444.8,13.6,444.9,13.5,445.0,13.2,444.4,13.3,444.0,13.4,444.0,13.9,443.7,13.7,443.2,11.5,443.2,12.1,445.2,11.6,445.2,10.6,444.1,10.6,443.2,10.1,443.1,9.6,443.4,5.7,443.1,5.5,443.1,5.8,441.7,5.0,440.9,5.0,440.9,4.8,439.6,3.6,439.8,3.5,439.6,4.0,438.9,4.2,438.8,6.3,436.7,6.5,436.6,7.2,436.9,9.7,433.9,9.5,433.8,9.8,432.1,9.8,432.1,9.3,431.3,8.6,431.2,8.3,430.9,8.4,430.9,8.5,429.3,8.7,428.9,9.2,427.9,9.2,427.9,10.2,427.4,10.3,427.3,9.3,426.4,9.2,426.6,8.6,426.2,8.6,425.9,7.8,425.6,8.7,424.1,8.8,420.2,8.1,419.6,7.7,416.9,8.7,409.6,9.2,408.2,9.3,408.2,10.1,407.7,11.6,407.9,11.7,407.9,13.1,407.9,13.3,407.6,14.2,407.3,14.7,407.8,15.5,408.6,14.2,409.8,13.8,409.9,12.9,410.5,13.9,411.1,13.7,413.4,13.9,413.6,12.7,415.2,13.3,415.2,13.3,415.4,13.8,415.6,14.1,416.2,14.2,416.2,14.1,417.7,14.9,418.6,14.9,418.7,15.6,418.6,15.9,420.4,15.2,420.9,15.1,421.7,15.2,421.8,14.6,422.2,14.5,422.3,14.6,422.3,14.7,422.4,15.3,422.9,15.3,423.1,13.8,424.0,13.4,425.1,13.1,425.1,11.9,426.2,11.9,426.4,13.2,426.2,14.1,425.9,14.7,425.5,15.8,425.5,15.8,425.8,16.1,426.6,15.5,427.2,15.7,428.9,14.6,429.1,14.7,429.2,15.3,430.1,15.4,430.4,14.9,430.5,14.8,430.9,14.8,430.9,14.8,431.1,15.9,431.0,15.9,430.9,16.4,431.0,17.8,432.7,17.9,432.7,18.0,436.1,19.1,438.4,19.1,438.6,17.3,438.9,17.3,439.0,17.4,439.8,17.6,439.9,18.1,439.4,19.4,439.6,19.8,440.9,19.8,440.9,21.2,442.9,18.5,443.7,17.2,442.8,17.2,444.2,17.1,444.3,16.4,444.5,16.6,445.7,17.5,446.8,17.6,447.9,17.5,448.1];
var TrilateralLines_shape10 = [56.5,438.1,56.5,437.4,53.0,427.4,53.2,427.1,53.2,423.4,54.0,423.0,54.0,422.0,54.6,421.9,56.5,423.2,56.9,424.4,55.1,428.8,58.2,437.8,58.2,438.1,56.5,438.1];
var TrilateralLines_shape11 = [47.4,403.9,45.6,405.1,43.5,404.9,40.5,402.0,43.2,399.6,43.4,398.5,43.6,398.6,45.8,397.2,47.4,399.1,48.0,401.5,48.1,401.6,47.4,403.9];
var TrilateralLines_shape12 = [53.6,379.0,52.0,380.3,48.5,379.1,48.5,377.2,47.1,377.5,45.5,377.2,45.0,375.5,46.2,375.4,45.7,374.4,44.9,374.3,44.4,372.9,45.1,372.5,45.4,372.2,47.1,371.9,48.2,372.1,48.4,372.1,51.4,370.4,51.5,370.2,50.3,369.9,48.9,370.7,45.6,370.7,45.7,369.6,45.8,369.6,50.4,368.1,51.6,368.8,51.9,369.3,51.9,369.4,52.0,369.4,56.0,370.1,56.3,369.8,54.0,367.7,52.0,367.7,50.9,365.3,51.0,365.2,49.4,364.1,48.8,362.2,49.9,361.6,50.0,361.7,51.5,362.2,51.5,362.4,53.4,362.6,53.5,362.5,55.2,364.1,56.0,363.0,53.3,361.4,50.9,361.0,50.0,360.4,48.5,361.3,47.6,361.3,47.6,359.8,46.8,360.9,45.9,361.4,43.8,361.0,43.7,361.0,43.5,358.6,42.8,358.1,42.8,357.9,44.8,356.7,44.8,356.4,46.5,356.4,46.5,356.4,46.9,356.0,47.9,357.2,47.9,357.4,50.0,357.6,50.0,357.4,51.0,357.3,52.5,358.2,52.6,358.1,53.1,358.3,53.8,358.1,54.5,357.8,54.6,357.9,56.8,359.5,56.8,359.6,58.6,359.7,58.6,359.9,59.5,361.1,59.6,360.9,60.1,361.9,61.0,361.8,60.9,361.1,60.0,359.6,61.5,359.0,63.6,360.1,66.8,362.8,66.3,363.8,67.3,363.9,68.0,364.9,67.3,365.9,68.2,366.4,68.0,367.9,67.0,367.7,66.9,367.8,65.3,369.8,64.5,369.6,63.4,370.9,63.3,371.1,62.2,371.4,62.1,371.2,60.8,372.1,60.5,372.1,58.4,371.9,58.3,371.9,57.1,373.1,57.1,373.2,56.0,375.9,56.0,376.0,54.0,377.7,53.6,379.0];
var TrilateralLines_shape13 = [40.8,380.6,40.9,382.6,39.2,382.1,34.5,377.1,34.3,376.9,32.0,374.9,31.9,374.8,32.5,374.5,33.8,375.5,33.8,375.6,36.3,375.6,39.2,377.9,39.4,377.9,40.8,380.6];
var TrilateralLines_shape14 = [11.7,402.8,11.2,403.4,9.1,401.4,7.8,402.9,8.3,404.2,7.1,405.4,7.2,403.7,6.2,402.5,4.8,402.4,5.0,401.4,5.2,401.2,4.4,399.8,3.5,399.3,3.0,397.3,4.5,394.6,5.0,394.0,5.5,393.9,5.5,394.2,5.5,396.6,5.8,396.6,6.2,397.9,6.0,397.9,6.3,398.2,6.4,398.2,7.0,398.1,7.1,398.2,8.6,399.7,8.9,400.6,11.7,402.8];
var TrilateralLines_shape15 = [1.6,390.5,1.4,391.1,0.4,390.6,0.2,390.6,0.1,388.1,0.0,388.1,0.3,387.8,1.4,387.8,1.4,389.7,1.6,390.5];
var TrilateralLines_shape16 = [31.9,372.8,30.6,374.1,29.6,373.1,29.5,373.1,28.6,373.4,28.2,373.3,26.8,372.1,26.2,372.1,26.1,372.4,26.1,372.6,24.2,372.4,24.1,372.6,22.4,371.5,22.6,370.8,23.0,369.9,23.0,367.7,23.8,368.1,25.2,367.1,25.3,367.1,26.0,367.3,26.0,369.0,26.8,369.9,26.8,370.1,28.9,370.1,29.3,371.1,28.8,371.4,29.1,372.0,31.6,372.4,31.9,372.8];
var TrilateralLines_shape17 = [51.5,347.2,51.4,347.2,51.2,348.6,50.0,347.8,49.7,347.2,48.0,346.2,47.3,344.9,47.5,344.7,46.5,342.5,46.6,342.3,47.0,342.2,46.8,341.9,46.8,340.0,48.8,340.9,49.9,343.1,50.0,343.2,50.1,344.9,50.8,345.4,51.5,347.2];
var TrilateralLines_shape18 = [80.5,322.9,78.9,322.7,78.9,322.5,78.7,321.4,78.0,321.5,78.0,321.4,77.0,319.4,76.8,317.0,78.4,313.9,78.5,313.7,77.5,310.8,77.5,310.6,78.7,310.4,78.9,308.1,79.1,308.1,81.6,306.8,83.5,306.4,83.8,306.2,85.0,306.9,85.5,306.8,85.6,307.0,86.7,307.3,87.2,308.2,86.8,310.6,86.7,311.1,86.3,311.0,86.3,311.1,85.4,312.3,85.9,312.5,86.7,312.6,87.3,313.1,86.0,315.0,84.7,314.9,84.5,315.6,85.6,317.0,85.0,318.8,85.0,318.9,84.1,321.6,84.2,321.6,81.7,323.6,80.4,323.5,80.5,322.9];
var TrilateralLines_shape19 = [111.3,245.0,111.2,246.6,108.3,245.7,106.7,244.8,105.0,243.4,104.7,241.5,103.8,240.6,103.8,239.1,103.7,239.1,100.7,235.6,99.7,235.1,99.9,234.2,99.8,234.1,99.4,233.1,98.4,232.5,98.2,231.5,98.8,231.6,98.9,230.3,98.8,229.2,98.0,228.8,97.2,228.0,97.8,227.8,97.8,227.6,96.0,226.2,95.0,225.8,95.2,224.9,96.5,224.4,98.0,225.7,98.1,225.7,98.8,225.9,98.8,226.0,99.2,227.0,99.2,227.1,99.5,226.9,100.5,227.2,100.5,225.7,100.6,225.7,101.1,225.4,101.7,226.7,101.7,226.8,101.8,226.7,101.8,226.7,102.0,224.6,102.4,224.7,102.8,225.2,103.2,227.2,103.5,227.8,104.9,227.8,105.3,228.8,105.4,228.9,105.2,229.0,106.4,230.2,107.0,229.8,107.1,230.0,108.0,230.2,107.5,231.1,108.0,231.9,108.0,231.9,108.2,231.8,109.8,232.3,110.7,233.6,110.2,234.8,113.0,238.9,112.4,240.1,110.8,240.6,110.3,241.5,111.3,245.0];
var TrilateralLines_shape20 = [207.5,40.4,206.8,40.0,206.8,39.8,206.6,39.1,205.6,37.9,205.7,37.9,207.9,38.3,208.0,38.4,209.6,37.2,212.3,35.6,214.2,33.5,215.8,33.6,216.8,33.4,218.7,34.6,218.5,35.9,218.8,35.9,219.6,37.6,219.8,37.6,221.1,37.8,222.6,38.9,222.5,39.2,222.4,39.0,222.2,38.9,222.1,38.9,221.7,38.9,221.4,39.5,221.5,40.6,221.5,40.9,220.0,41.9,217.1,42.1,216.3,43.3,214.4,43.7,211.8,41.2,209.8,41.0,209.8,40.7,207.5,40.4];
var TrilateralLines_shape21 = [40.4,329.0,40.5,328.6,39.5,327.2,40.4,326.9,40.4,326.9,40.4,326.5,40.4,326.5,40.4,326.2,39.0,323.1,39.2,323.0,38.9,322.2,38.6,322.2,38.4,320.8,38.4,320.3,40.0,320.3,40.1,320.6,42.6,323.2,43.8,325.4,43.9,326.1,44.6,327.4,44.9,327.3,47.5,327.4,47.1,326.2,45.0,325.4,45.0,325.1,44.2,323.6,46.0,322.9,46.1,322.2,46.4,322.2,47.2,319.6,47.2,319.6,46.3,319.6,46.2,319.4,44.8,317.8,45.0,317.7,44.7,315.4,47.1,315.0,47.1,315.2,49.0,316.6,49.6,318.1,49.9,317.9,50.6,317.7,52.0,318.3,52.1,318.2,53.2,318.8,54.4,320.4,55.7,321.2,55.0,322.2,55.0,323.8,54.2,324.8,54.9,326.1,53.0,328.1,52.7,330.1,54.6,327.8,54.6,327.8,57.4,328.0,57.6,328.2,58.2,331.9,58.1,331.9,58.3,332.0,58.4,332.6,59.1,332.3,59.6,332.5,61.5,337.6,62.4,338.9,62.5,338.9,66.7,346.8,66.2,348.8,66.0,349.2,65.7,349.2,63.5,347.4,63.4,347.1,60.4,344.8,59.8,344.0,57.5,342.5,57.4,342.5,57.4,341.1,57.2,341.1,56.4,340.6,56.5,340.4,55.7,338.8,55.7,338.6,58.9,337.9,58.9,337.9,55.8,337.5,54.1,335.7,52.6,332.2,51.5,333.6,51.9,333.9,52.1,334.7,52.3,336.6,50.2,336.1,46.1,333.0,44.8,330.9,45.4,334.4,42.4,331.9,42.4,331.8,41.0,331.6,40.9,331.6,40.4,329.0];
var TrilateralLines_shape22 = [191.1,444.1,191.0,444.2,190.6,444.9,187.2,445.6,187.2,445.4,186.4,444.9,186.2,444.8,186.2,444.6,185.2,443.9,182.2,444.4,179.9,443.8,173.1,443.6,173.0,443.6,172.8,444.0,172.4,444.2,169.1,444.6,166.3,444.4,164.3,445.4,163.8,445.4,163.2,445.3,163.1,445.4,160.9,445.4,156.8,443.2,154.4,443.6,154.3,443.5,148.8,445.9,148.8,445.8,148.1,446.9,147.9,447.1,147.2,446.6,146.0,447.1,145.9,447.1,143.1,446.6,142.2,446.0,142.1,445.9,141.8,445.7,141.2,445.6,140.2,445.2,140.7,444.4,139.6,443.4,139.5,443.1,133.8,442.9,133.7,443.1,133.1,442.5,133.7,442.1,132.1,441.6,128.8,438.9,128.8,438.8,127.2,438.4,127.2,438.4,127.0,438.4,126.5,438.1,123.6,439.1,123.5,439.3,122.8,438.8,121.3,438.6,121.0,437.9,121.0,437.6,122.0,437.4,122.1,436.6,122.3,436.4,122.3,436.4,119.6,434.5,119.5,433.9,118.6,433.8,118.4,433.6,118.2,433.1,118.0,432.9,117.3,433.1,116.3,432.9,116.3,433.1,116.1,433.3,118.2,437.1,120.2,437.6,120.0,438.6,119.9,438.6,119.9,438.6,123.9,443.4,123.9,443.8,123.8,443.9,122.5,444.1,120.3,443.1,120.3,443.2,118.3,443.1,118.1,443.9,116.0,444.0,110.0,438.4,109.6,438.7,109.3,438.9,109.5,439.1,112.2,442.1,113.0,442.1,113.7,443.4,113.7,444.4,115.3,444.4,115.7,444.3,115.8,444.4,116.4,444.9,116.5,444.9,118.3,444.6,120.4,446.6,120.2,446.9,120.7,447.1,122.0,447.0,122.3,447.2,122.3,447.3,122.5,447.4,123.2,447.2,122.3,446.4,122.5,444.8,124.5,444.6,124.7,444.7,127.1,449.2,127.0,449.3,128.4,450.6,128.6,451.0,129.1,451.6,129.8,452.8,129.7,452.9,130.6,453.6,131.2,454.9,131.0,455.9,130.1,455.7,128.8,453.4,128.7,453.5,128.6,453.5,127.2,453.4,126.8,454.0,126.8,454.1,126.7,454.4,126.3,454.2,126.0,454.3,125.6,454.9,124.7,454.9,122.4,452.9,122.3,452.9,120.5,453.6,120.3,453.6,118.8,453.8,118.7,453.7,118.6,453.9,118.2,454.4,118.2,454.5,118.0,454.9,117.9,455.1,117.4,455.2,117.5,455.5,118.3,455.4,118.5,455.3,118.5,455.3,119.3,455.1,119.3,455.1,119.5,455.1,119.6,455.3,121.4,455.9,122.7,455.4,122.8,455.4,123.5,455.1,123.8,457.9,123.8,457.9,123.9,458.1,124.0,458.1,124.1,458.1,123.6,459.4,124.3,462.2,124.5,462.5,129.2,465.2,129.2,466.8,131.2,468.8,134.9,470.5,134.8,470.8,135.4,471.4,136.1,472.4,136.9,472.8,141.3,476.8,141.4,477.1,141.8,477.5,142.2,478.4,143.0,479.1,143.6,479.8,143.7,480.8,144.8,481.2,145.1,481.6,147.2,483.0,148.3,483.1,149.4,483.7,150.6,484.8,151.4,486.1,153.1,487.2,153.7,487.9,154.9,492.1,154.9,492.1,155.6,493.6,155.8,494.4,155.5,495.2,153.3,494.9,152.9,495.9,153.0,496.2,152.8,496.9,152.9,498.2,154.0,498.8,154.2,499.1,154.3,499.3,153.4,505.8,148.4,506.8,146.6,505.8,145.6,507.4,144.1,507.6,143.3,506.7,144.2,504.2,142.6,504.3,142.6,504.2,142.6,504.1,140.8,503.7,139.8,502.6,139.4,503.1,139.2,503.1,139.8,504.4,138.8,504.4,136.6,504.1,136.5,504.1,128.1,500.3,123.0,501.9,115.7,498.8,115.7,498.6,113.8,499.1,113.8,499.2,111.5,499.2,111.0,498.6,111.0,497.8,110.0,496.9,110.0,496.6,108.2,494.4,109.2,496.7,109.0,496.9,109.8,497.9,109.3,500.1,108.3,500.4,108.2,500.6,107.0,501.3,106.9,501.4,104.0,501.9,103.8,501.9,103.8,501.9,103.8,501.8,103.0,500.4,103.0,500.2,103.6,498.8,103.2,498.1,102.6,498.1,102.5,498.0,102.0,497.9,101.8,497.9,101.8,497.7,101.8,497.6,101.6,497.4,101.3,496.7,101.2,495.9,101.5,495.4,98.5,493.2,98.4,493.3,99.3,495.9,99.6,495.9,100.5,497.2,100.6,497.4,100.7,497.4,100.8,497.7,100.8,497.7,100.9,497.8,101.0,497.9,101.2,498.2,101.2,498.4,101.2,498.4,101.2,498.4,101.2,498.4,101.5,499.2,101.5,499.2,100.5,500.1,100.3,500.3,99.5,500.9,99.5,501.0,99.0,501.3,98.9,501.2,98.8,501.4,97.8,501.6,97.6,501.6,97.5,501.6,97.2,501.8,97.2,501.8,96.8,501.9,96.5,501.2,96.3,501.1,96.4,500.9,96.4,500.9,96.5,500.8,96.5,500.5,96.2,500.9,96.2,501.4,94.3,503.8,92.0,503.9,91.6,503.6,90.2,504.5,88.0,498.9,87.0,498.9,85.7,497.6,85.5,495.4,87.5,494.2,87.4,494.1,87.3,493.1,86.3,492.3,86.2,492.0,86.1,491.5,87.2,490.9,86.8,490.1,87.5,489.4,85.2,490.3,84.5,489.1,85.2,481.5,77.0,481.2,77.0,480.8,80.2,471.5,80.5,471.1,80.2,468.6,77.8,469.5,76.0,471.1,75.8,471.1,74.8,471.1,74.5,467.8,74.6,467.8,75.8,466.1,81.3,462.2,81.2,462.1,83.8,456.9,76.2,460.0,74.2,456.1,73.2,456.3,70.8,460.0,70.8,460.1,67.8,459.3,68.0,458.9,67.3,456.4,67.6,456.6,67.6,456.5,67.3,456.4,63.6,454.6,62.2,447.8,62.5,447.4,66.2,447.1,66.3,446.8,64.4,445.9,63.0,444.6,62.8,441.6,63.8,441.4,64.2,441.2,63.8,441.3,67.6,436.3,73.3,435.2,67.6,434.9,67.5,434.6,62.1,438.0,60.4,434.4,61.5,429.1,61.5,428.9,62.4,428.9,62.5,428.4,62.0,427.6,62.5,426.6,62.2,426.4,63.9,423.6,67.5,425.6,69.5,423.2,65.8,421.2,65.5,419.2,65.5,419.1,64.8,419.5,64.5,418.8,64.3,418.8,64.3,418.8,63.6,418.4,61.0,416.4,59.9,417.1,63.6,418.4,64.2,419.0,59.6,417.6,59.8,417.1,59.6,417.2,58.9,417.6,58.0,418.5,58.1,418.5,58.9,419.6,57.4,421.6,56.0,421.8,55.1,420.3,53.9,422.0,53.1,422.1,51.4,423.0,50.7,438.6,50.6,438.6,50.3,438.8,45.3,447.1,44.5,447.3,42.4,440.9,42.8,435.0,43.3,433.6,42.8,433.4,39.9,434.5,38.5,434.1,35.1,438.6,33.8,437.7,33.6,436.2,33.6,436.1,33.5,436.0,34.1,435.9,35.2,434.9,34.9,434.5,35.1,429.9,32.1,435.1,30.2,429.4,28.9,428.5,33.0,422.8,37.1,421.9,37.4,426.2,37.8,426.2,40.9,422.4,40.6,422.2,39.3,420.9,44.1,413.6,48.5,408.6,50.0,409.7,51.0,411.6,52.1,408.6,52.3,408.5,54.3,411.5,54.4,411.9,57.8,411.6,54.6,405.4,54.5,405.4,55.0,402.1,55.4,401.8,59.3,405.8,59.7,405.7,62.9,411.9,62.9,412.2,66.7,414.6,68.2,414.8,68.8,414.5,68.8,414.2,68.0,413.6,66.5,412.6,66.2,411.3,68.7,409.6,65.0,408.4,65.0,408.2,63.5,405.1,63.2,404.6,63.3,404.1,63.7,403.9,64.0,403.7,64.8,403.7,65.8,403.9,66.0,403.9,67.3,400.5,63.4,403.4,61.5,401.7,60.5,396.8,58.2,394.6,59.3,393.5,63.1,394.7,61.8,391.7,60.0,390.8,60.0,390.6,59.4,386.6,57.5,388.1,55.3,387.4,49.4,386.7,48.1,385.2,47.7,383.9,48.0,382.8,51.5,381.6,51.4,382.1,53.5,382.1,57.9,381.6,58.2,381.6,60.4,380.9,55.4,379.9,56.8,375.6,57.1,375.2,64.0,371.6,68.7,370.9,72.8,376.4,80.2,383.4,85.2,389.9,85.2,390.1,85.9,390.1,86.4,391.2,86.2,390.1,85.9,390.1,82.0,381.4,73.7,373.4,73.8,373.2,69.4,369.1,70.4,368.6,70.5,368.4,76.4,373.8,73.6,369.6,73.5,369.4,74.3,369.1,74.7,369.6,76.2,370.4,76.5,368.6,76.2,367.9,75.0,368.1,74.8,367.9,74.6,367.6,72.3,365.1,70.7,364.9,69.9,363.9,70.1,363.7,71.0,362.1,68.1,359.2,66.2,352.2,65.0,351.1,66.0,349.2,66.2,349.4,66.7,349.4,67.2,349.7,69.3,353.9,70.9,350.9,69.3,347.6,71.9,345.8,71.9,345.1,67.6,342.9,65.0,334.2,66.2,333.9,66.2,332.1,69.3,337.4,69.8,337.1,66.8,328.1,67.2,327.8,68.8,324.0,65.0,313.1,65.8,307.6,66.2,307.3,62.2,302.3,62.5,297.9,63.2,297.9,68.0,297.6,68.3,297.9,73.1,300.1,71.9,305.9,71.7,305.9,74.5,314.5,74.8,322.4,75.2,322.4,79.5,325.8,75.5,333.2,75.2,333.2,74.8,340.7,75.2,340.7,76.6,341.8,79.6,344.8,77.5,338.4,78.3,337.5,78.2,333.4,83.0,328.5,82.8,333.1,84.8,329.2,85.2,329.2,88.8,322.2,89.2,322.4,90.8,329.1,90.5,329.2,86.6,332.8,86.8,333.4,91.0,331.9,93.6,340.4,95.2,338.0,98.8,340.4,99.5,340.7,101.3,337.1,101.2,336.4,102.0,336.3,99.7,335.6,99.5,336.1,95.6,336.1,93.1,332.1,94.1,326.4,92.8,322.8,96.7,318.3,96.8,318.4,98.8,317.9,98.9,317.4,102.3,312.9,102.0,311.6,102.5,309.6,101.5,306.8,99.5,306.4,96.0,300.9,95.6,295.8,89.2,286.4,87.9,282.7,90.0,276.8,89.5,275.7,89.7,275.4,88.0,275.7,87.8,275.7,87.5,281.4,87.4,281.6,87.2,281.6,86.8,281.5,86.3,281.5,84.8,281.6,83.3,279.0,83.2,276.6,84.5,274.2,84.1,274.0,89.5,266.7,89.5,266.4,91.1,263.8,90.3,262.9,90.9,260.5,92.0,260.0,92.1,259.9,92.2,259.8,94.6,258.2,95.0,262.2,92.0,265.0,91.1,270.1,92.4,271.0,93.3,271.4,94.5,272.0,95.9,272.3,97.5,272.4,103.8,267.0,104.5,265.2,105.9,263.9,107.8,262.9,110.0,261.7,110.3,261.4,110.7,261.7,111.5,261.8,111.4,262.1,111.5,262.6,111.6,262.9,111.7,263.3,111.8,263.9,111.8,266.2,111.8,266.2,111.8,266.3,111.8,266.4,111.7,267.7,111.7,267.8,111.8,267.9,112.5,268.1,112.5,268.9,111.5,269.9,111.2,271.2,111.1,273.9,110.7,274.2,111.1,274.4,111.1,273.9,114.0,271.0,115.9,272.6,116.1,272.4,117.2,268.5,120.2,266.9,121.2,269.6,122.2,266.8,125.9,267.3,129.8,270.3,129.4,273.9,131.6,272.1,132.8,272.2,133.7,273.1,136.2,273.1,136.3,273.4,136.4,273.4,137.4,272.9,138.7,274.9,137.7,276.8,138.7,279.1,141.9,278.1,143.3,280.6,145.1,279.2,152.8,278.9,154.2,279.1,154.0,277.9,155.5,277.6,153.4,276.2,153.2,276.4,151.1,277.6,148.4,277.4,147.2,276.6,147.0,275.1,147.0,274.9,148.9,274.9,147.4,273.8,145.8,275.1,144.2,273.9,142.2,269.6,141.6,264.9,136.5,256.6,136.2,252.7,141.7,244.4,142.2,240.3,145.9,233.7,148.3,233.3,149.8,235.3,149.7,235.7,150.4,235.8,150.3,234.4,149.9,233.4,147.9,230.6,147.7,228.8,148.3,227.5,151.4,224.4,151.7,224.8,150.2,227.9,153.2,227.2,156.1,232.0,157.9,229.9,161.8,234.2,162.8,233.3,164.8,227.6,164.6,227.6,158.8,223.2,160.6,219.8,155.6,216.8,154.8,211.0,155.2,208.8,156.4,207.5,159.7,206.9,154.6,200.7,153.2,193.8,153.4,193.8,155.4,190.8,155.3,190.7,156.9,187.2,157.8,187.7,163.2,185.8,163.1,185.4,159.3,186.2,159.2,185.8,157.8,185.3,157.4,186.1,156.0,187.0,151.7,189.2,150.5,187.6,150.8,187.3,153.8,183.7,153.8,181.7,154.3,179.8,154.8,178.7,154.5,178.3,145.2,185.2,144.8,185.2,141.6,183.9,141.6,183.8,135.4,181.6,135.2,181.2,129.3,185.5,129.3,181.6,129.2,181.2,127.2,181.9,126.8,182.0,122.0,178.8,122.9,182.3,120.4,183.3,117.0,181.3,116.8,184.3,112.8,189.7,105.3,188.8,102.8,183.3,103.2,182.6,101.0,184.4,100.8,184.8,99.2,184.1,99.2,183.3,105.7,177.9,106.0,177.2,112.1,172.2,112.1,171.5,111.5,167.3,107.3,163.7,107.1,163.9,101.7,161.8,102.0,160.3,96.3,154.2,96.4,153.2,99.6,153.5,99.5,153.9,103.8,156.1,104.6,155.7,107.2,153.1,107.8,153.6,106.8,157.5,107.1,157.8,112.1,161.4,117.8,161.4,118.5,158.5,121.8,150.2,119.3,146.6,119.7,146.3,120.9,140.5,122.0,139.6,120.4,136.8,120.0,130.2,119.5,129.1,119.7,128.2,117.8,124.8,112.1,122.7,106.4,118.3,105.0,118.8,102.2,119.2,99.2,116.9,99.0,117.0,97.3,115.1,96.1,113.2,92.3,111.9,92.3,111.5,92.1,111.5,91.7,110.8,89.2,111.9,89.0,112.5,87.2,112.0,85.9,109.3,85.9,108.2,80.2,105.4,80.2,105.3,80.0,104.4,79.6,104.0,79.5,103.2,79.8,102.9,84.5,104.0,85.5,102.7,85.5,98.2,82.2,95.8,82.4,94.5,84.7,93.6,84.8,93.7,84.8,93.6,86.5,93.0,88.8,89.1,92.2,87.5,92.8,88.5,95.1,91.2,95.3,91.0,98.0,90.6,100.0,91.4,100.3,93.9,100.3,94.0,100.3,94.0,100.5,95.4,110.3,94.7,110.6,93.5,113.9,92.1,116.8,93.5,117.2,93.5,119.7,90.3,118.6,89.2,113.6,89.6,113.5,89.2,113.4,86.7,115.2,85.0,118.7,85.2,119.6,86.3,124.3,86.6,124.3,86.7,126.0,89.9,126.3,89.2,126.4,89.2,130.8,88.5,131.2,87.8,133.7,81.4,135.4,81.5,135.4,81.3,138.3,77.0,138.6,76.0,150.4,78.2,152.9,83.2,159.9,85.7,159.9,86.0,163.8,85.7,167.4,88.8,170.8,92.7,171.6,92.2,169.8,88.7,169.9,88.5,168.6,82.5,168.2,82.5,165.3,82.0,165.2,82.5,164.2,82.5,160.9,80.0,159.6,78.1,158.8,77.5,157.4,75.6,157.0,75.7,156.3,68.4,153.4,66.7,153.4,66.5,153.1,66.5,151.3,66.1,151.2,66.2,145.4,65.3,138.2,68.8,137.1,66.8,136.2,67.3,129.7,68.7,124.7,67.7,124.3,67.0,122.4,67.8,120.0,68.0,118.2,67.7,115.5,65.2,114.7,64.1,114.0,63.7,115.8,60.4,113.2,56.5,113.2,56.2,106.0,57.0,104.2,51.2,103.5,50.5,104.6,45.1,100.7,41.5,100.2,41.3,100.2,40.8,98.1,39.4,97.6,39.5,96.3,34.6,92.7,34.0,89.5,31.8,88.4,28.3,88.4,26.8,87.6,25.6,87.5,25.6,84.5,24.3,84.7,24.1,84.1,22.5,84.5,21.5,84.5,21.4,83.0,20.3,81.6,20.4,81.2,18.1,81.4,17.4,79.2,16.2,78.8,15.9,78.8,15.9,78.3,15.6,76.4,15.6,76.4,15.0,75.5,13.4,75.4,13.4,75.3,13.3,75.8,12.6,75.1,12.2,75.0,12.4,75.0,12.4,73.7,14.1,73.7,14.1,71.5,14.7,68.7,11.7,67.5,12.2,66.2,10.2,65.8,9.8,65.9,8.2,65.8,7.8,66.0,7.2,65.5,7.0,65.3,6.8,65.6,6.5,66.6,4.7,66.8,4.8,67.7,4.9,68.8,5.6,71.0,5.5,71.0,5.8,72.0,7.4,71.5,9.3,73.5,9.5,75.2,8.2,75.8,8.0,75.9,8.0,76.0,8.0,76.2,8.1,78.3,7.9,78.5,7.5,79.8,6.0,80.0,6.0,80.2,5.5,81.0,3.9,80.7,3.8,80.5,3.0,80.4,3.0,80.4,2.9,83.0,0.0,83.7,0.8,83.3,1.1,83.8,2.9,85.0,3.2,85.0,3.0,86.0,2.8,86.6,4.1,87.2,4.4,87.5,6.6,87.5,7.2,86.6,8.1,86.8,8.6,87.0,11.1,89.0,10.9,89.3,10.2,91.0,11.4,91.3,11.8,91.5,13.4,91.6,13.5,91.8,13.3,92.3,13.2,92.5,13.1,92.6,13.0,93.8,15.3,95.5,14.8,95.8,14.8,96.2,13.4,96.5,13.4,97.8,18.4,98.1,18.6,98.2,20.1,100.2,21.2,100.1,20.8,100.2,19.4,101.5,20.0,105.9,19.9,108.0,20.8,108.8,21.8,113.3,21.4,113.8,21.4,113.8,21.3,114.1,20.2,115.6,20.1,115.8,18.9,117.3,19.2,117.2,20.9,117.2,21.1,117.8,21.1,118.2,21.2,118.5,21.0,119.2,21.0,120.0,19.1,120.8,19.1,121.9,17.6,124.0,18.8,126.2,18.5,127.0,18.1,127.1,18.0,127.2,17.6,128.5,15.9,128.1,15.6,128.3,15.2,128.0,15.1,130.2,14.3,130.4,14.3,131.4,15.1,132.9,13.1,133.9,14.4,135.4,14.0,135.1,16.6,135.8,18.1,135.5,18.6,137.0,19.8,138.9,19.8,141.1,23.0,141.1,24.2,140.7,24.2,138.6,24.6,138.5,24.6,138.5,26.4,138.9,26.8,139.0,27.2,139.4,27.1,141.1,27.2,139.7,29.1,139.2,28.4,139.4,29.2,139.7,29.1,140.5,31.4,140.3,31.6,143.2,34.8,142.8,36.2,144.4,35.0,144.8,34.9,147.2,36.5,147.4,36.2,147.9,37.0,147.9,37.1,148.6,37.9,148.3,38.2,148.8,38.8,153.2,39.3,153.7,38.9,153.8,39.0,153.8,39.0,155.2,39.7,155.8,39.9,158.4,40.2,160.2,41.5,160.2,41.6,160.6,41.9,161.5,41.5,162.9,41.6,172.3,36.8,174.5,34.2,176.7,35.8,176.8,36.2,185.1,35.8,189.2,34.0,189.2,33.2,190.1,33.4,190.6,34.0,192.4,33.8,193.2,34.8,192.8,35.4,192.7,36.0,193.9,36.6,194.2,37.2,194.1,37.4,193.2,37.0,193.2,37.1,193.4,38.7,193.2,39.0,192.8,39.2,192.2,40.2,191.9,40.2,192.1,40.8,194.4,40.8,195.1,41.1,199.4,40.4,200.7,41.6,200.7,42.0,203.7,41.5,206.1,41.3,208.1,43.1,208.1,42.8,210.9,43.4,213.2,44.9,214.3,45.5,216.6,45.0,216.4,44.7,217.8,44.0,217.8,43.6,220.0,44.2,220.0,44.2,222.4,44.4,228.8,43.8,231.9,41.3,232.1,41.1,234.9,43.8,234.6,44.1,248.1,46.0,250.2,45.9,251.5,46.0,253.0,44.6,254.6,45.5,258.1,45.2,258.7,44.9,259.9,44.5,260.1,44.2,260.9,44.6,262.6,42.9,263.6,43.2,265.7,41.2,267.6,41.9,268.9,43.8,269.1,43.8,271.4,46.1,272.1,46.5,272.2,46.9,273.8,47.8,277.6,48.0,279.9,47.9,279.9,48.1,285.1,52.0,291.9,50.6,292.5,50.9,291.9,53.7,291.6,53.7,291.4,55.2,291.2,56.0,294.9,59.5,297.3,60.0,298.4,61.0,301.9,61.5,301.9,61.6,305.0,63.0,306.8,64.7,306.6,64.8,306.6,68.2,306.4,68.6,305.4,70.0,305.0,70.0,304.9,73.9,306.2,73.7,306.2,73.8,307.5,74.2,307.2,77.4,304.9,77.4,304.4,76.3,301.4,76.3,301.4,76.2,293.9,76.2,292.4,74.7,291.2,75.0,289.9,74.7,289.9,74.5,288.3,75.1,287.6,75.6,290.1,75.5,291.1,76.2,289.8,78.6,286.5,79.2,286.2,79.0,285.1,80.3,284.9,80.5,284.8,80.4,284.7,80.4,283.9,79.9,283.7,79.5,283.4,80.2,283.4,80.2,282.9,81.3,279.9,82.1,279.8,81.8,279.1,82.0,279.1,82.2,278.1,82.5,278.1,82.5,274.6,82.2,274.4,81.9,274.4,81.8,274.4,81.5,274.2,81.5,274.2,80.9,273.3,80.7,273.7,81.6,273.9,83.1,273.9,83.1,273.9,83.2,276.8,83.5,276.9,83.6,279.7,83.6,280.4,85.0,280.6,85.0,281.9,85.2,284.2,84.4,284.9,84.2,285.5,84.3,288.0,86.2,288.3,86.8,288.5,87.1,288.6,87.1,290.4,88.0,291.1,89.0,290.9,89.3,290.9,89.5,290.9,89.5,291.1,89.8,290.8,90.0,290.6,90.0,289.6,89.8,289.9,90.2,290.0,90.5,290.1,90.5,290.2,90.6,290.2,90.7,290.4,90.9,290.5,91.2,290.6,91.3,290.6,91.8,290.8,92.3,290.9,95.6,290.6,96.0,290.6,96.2,290.4,96.5,289.6,96.7,289.4,96.8,289.2,96.8,289.1,96.8,288.9,96.2,287.4,94.9,286.8,94.8,285.7,95.0,285.7,95.0,285.6,95.0,285.4,94.9,285.4,94.4,285.1,94.2,284.9,94.1,284.6,94.3,284.4,94.4,283.2,94.5,283.1,94.8,283.5,95.4,285.1,95.9,286.5,95.8,286.6,95.8,288.4,97.0,287.9,97.3,288.9,97.3,289.0,97.5,289.1,97.7,291.1,97.7,292.9,99.2,293.6,99.0,293.4,98.0,294.0,97.8,296.8,98.0,296.9,98.0,296.9,98.0,298.8,99.0,299.0,99.0,301.1,101.0,302.4,103.4,301.8,104.0,300.6,102.9,299.8,102.8,299.5,103.0,299.6,103.2,299.3,103.7,300.1,104.4,300.2,104.8,301.4,105.2,301.6,105.5,301.6,105.6,301.8,106.3,302.9,107.2,303.1,107.2,304.1,107.5,304.7,108.2,304.9,108.2,305.4,108.3,305.3,108.6,307.3,110.7,307.5,111.2,307.2,111.2,308.1,112.2,308.4,112.8,308.4,112.8,308.4,112.8,309.6,113.4,309.6,113.5,311.9,114.5,311.9,114.7,312.6,115.9,312.8,116.8,312.5,116.8,312.6,117.6,312.9,118.5,312.9,118.8,313.1,119.3,313.6,121.5,313.6,122.2,314.0,125.2,314.3,126.4,314.3,126.5,314.6,127.2,314.8,127.0,315.6,127.7,315.8,128.8,316.2,129.9,316.1,130.0,317.2,132.4,317.2,134.8,317.1,134.8,317.1,134.9,317.8,135.6,318.4,137.7,318.1,137.9,317.6,139.7,317.2,139.7,317.2,141.9,317.4,142.2,317.5,146.1,316.1,150.8,314.1,153.1,307.8,158.7,307.6,158.8,303.9,161.7,297.9,162.7,296.9,162.9,296.9,163.1,294.9,163.9,292.9,164.2,293.2,163.6,290.2,163.8,289.8,163.8,288.4,164.8,288.2,164.6,284.2,164.5,283.9,163.8,283.3,164.4,279.1,164.1,278.9,163.9,278.8,164.1,276.9,164.4,275.8,163.9,275.2,163.1,274.6,161.4,274.5,161.3,274.4,159.9,273.7,158.7,273.7,157.5,272.4,156.4,272.1,156.4,271.2,155.5,271.2,153.9,270.5,155.2,270.3,155.1,270.1,155.2,270.1,155.2,270.1,155.2,269.8,155.4,269.6,155.6,268.5,155.2,268.5,155.1,267.6,155.1,267.4,155.4,266.2,155.6,266.1,155.6,265.9,155.7,264.4,157.6,264.2,157.9,262.8,159.2,262.7,159.3,261.9,159.5,261.6,159.5,261.0,160.0,260.3,160.3,259.9,160.2,259.5,160.0,259.4,160.1,258.7,159.6,258.5,159.9,258.7,160.0,259.4,160.9,259.3,161.3,260.2,161.8,261.2,161.8,261.2,162.8,261.9,163.2,263.4,165.8,265.0,167.4,266.4,168.2,266.2,168.3,269.3,171.1,269.9,171.0,270.2,172.2,270.2,172.3,270.8,172.9,270.3,174.0,270.2,174.0,270.2,175.8,270.4,175.8,270.9,176.1,270.3,178.2,270.3,179.8,267.6,185.3,264.9,190.1,265.0,191.7,264.9,192.2,264.4,192.8,264.2,192.9,263.6,193.7,263.2,193.3,263.2,194.2,262.6,194.6,262.4,194.4,262.3,193.7,262.3,193.4,261.8,193.8,261.4,194.5,261.6,194.7,260.2,195.3,260.3,194.7,257.7,197.6,257.5,197.6,256.2,198.8,256.1,198.7,256.0,198.6,255.8,198.3,255.7,198.2,255.1,199.1,254.2,200.0,253.1,200.8,253.1,200.8,251.1,202.8,251.3,202.9,249.2,206.2,249.2,206.6,251.1,205.9,254.8,201.4,255.1,201.4,256.5,201.2,256.5,201.4,259.6,202.1,259.7,201.8,260.7,202.2,260.8,201.9,262.2,201.1,263.4,200.0,263.9,200.2,263.2,202.4,263.4,202.6,260.4,206.6,260.2,206.7,260.3,206.8,256.6,212.3,256.1,212.5,253.3,217.2,251.5,223.5,251.2,223.6,251.6,226.4,251.6,226.7,251.8,226.7,253.8,228.7,255.8,228.4,256.1,229.1,255.6,230.1,255.2,230.2,253.0,231.4,252.8,231.5,251.3,231.6,249.4,233.2,249.4,233.2,249.5,235.3,246.8,236.6,245.7,238.1,245.7,238.1,245.4,238.5,245.8,239.3,245.8,239.3,244.9,239.3,244.8,239.4,244.8,239.6,244.9,239.7,244.8,240.6,244.6,240.7,244.6,242.1,244.5,242.2,243.7,243.2,243.7,243.2,243.7,243.2,243.2,245.3,242.2,246.1,242.0,246.2,241.2,246.3,240.9,246.7,241.1,248.6,240.8,248.8,240.8,248.8,240.6,249.0,240.0,249.8,239.8,249.9,239.2,250.6,238.8,250.7,238.3,250.8,238.1,250.9,238.1,251.0,236.9,251.0,236.4,251.5,236.1,251.6,235.9,252.8,235.6,252.8,234.8,253.2,234.8,253.0,233.7,253.2,233.3,253.9,232.6,254.9,231.8,254.8,231.8,254.8,231.4,254.8,230.3,255.6,228.3,255.8,228.2,255.8,227.4,256.8,227.2,256.9,226.7,256.6,226.2,256.4,225.0,257.0,224.1,256.8,223.3,258.1,222.4,258.4,221.1,258.8,220.2,259.1,219.7,259.1,218.8,260.8,218.2,262.7,219.1,262.9,216.7,265.0,215.8,266.0,214.3,267.4,214.2,267.4,214.2,267.7,213.9,268.8,214.2,268.9,214.1,270.9,213.9,271.4,212.8,272.0,212.8,272.3,212.9,274.0,212.9,274.3,212.5,275.8,212.6,277.7,212.8,277.7,212.8,279.8,211.5,280.0,210.9,281.2,210.7,281.6,210.6,281.9,209.6,283.9,209.7,284.6,209.8,284.8,209.6,285.0,208.8,285.5,208.8,285.6,208.2,287.1,208.4,288.4,208.3,288.4,208.3,288.5,207.9,288.7,207.6,288.9,207.5,288.9,207.5,289.0,207.4,289.1,207.3,289.3,207.3,289.4,207.1,289.7,207.1,289.9,207.3,290.9,207.6,290.9,208.2,291.8,207.2,292.9,207.1,293.2,207.1,294.8,206.3,295.2,205.7,297.4,206.3,298.6,206.4,298.6,206.4,298.8,206.5,300.1,204.9,301.2,204.9,301.3,204.3,303.3,205.2,304.2,205.5,306.4,204.9,306.7,204.9,308.2,204.6,309.8,204.2,310.3,204.2,311.8,204.2,311.9,203.6,312.3,203.2,312.9,203.9,312.9,204.2,313.5,203.4,314.1,203.4,314.2,203.3,315.3,202.8,315.2,202.2,316.2,200.3,317.7,198.9,316.9,198.7,317.1,199.2,318.4,198.5,319.7,197.5,318.6,196.6,319.4,196.1,320.2,195.6,320.6,195.4,321.6,195.3,321.8,193.9,323.5,193.7,323.6,193.4,323.9,191.6,326.9,191.6,327.1,191.2,327.4,190.6,327.9,190.2,327.9,188.9,330.9,188.7,332.7,187.7,333.0,187.6,333.1,186.8,333.6,186.8,335.5,186.1,335.1,184.4,335.7,184.2,335.7,184.1,336.2,182.9,336.2,182.9,335.7,179.4,336.5,179.1,336.9,177.9,337.6,177.8,338.6,175.7,339.9,175.6,340.2,174.2,340.7,172.2,340.8,169.7,343.9,169.5,343.9,166.5,344.1,164.4,344.6,163.4,344.1,162.8,343.1,161.8,342.9,161.4,341.6,161.7,341.3,161.7,341.2,162.0,341.4,161.1,340.7,160.8,340.3,160.7,339.4,159.8,338.8,159.8,338.9,158.9,339.2,158.4,339.2,157.7,339.1,157.6,338.7,157.6,338.6,157.6,338.5,157.5,338.3,157.2,338.2,153.7,338.1,153.2,338.2,152.1,339.4,151.8,339.8,151.1,339.4,149.4,339.6,149.2,339.9,149.2,339.9,148.6,339.4,148.4,339.4,147.1,339.2,146.4,339.6,145.7,340.2,144.3,340.0,142.3,340.3,140.0,340.1,139.9,340.1,139.4,340.6,137.7,341.5,136.7,341.9,136.1,341.5,134.1,341.2,133.2,343.2,133.1,343.4,132.6,343.6,133.1,343.7,133.1,343.6,135.0,343.5,136.8,343.7,137.2,342.9,138.2,343.4,139.2,342.4,139.2,342.2,140.2,342.8,141.7,342.1,142.3,341.4,143.8,341.2,144.2,341.4,144.8,342.1,145.7,341.8,145.8,341.8,146.2,342.6,146.9,342.4,147.4,343.0,147.4,343.1,147.7,343.6,147.9,343.6,148.7,343.9,151.3,344.2,151.3,344.3,151.4,344.2,151.6,344.2,152.3,345.4,152.4,347.1,152.7,347.4,153.9,348.4,155.0,348.4,155.3,349.4,155.8,349.9,156.2,350.4,156.2,350.4,157.4,351.4,158.3,352.6,158.9,352.6,160.3,352.6,160.3,352.8,161.2,352.8,161.6,352.1,161.6,351.9,161.9,351.6,164.2,351.1,164.8,352.1,165.6,352.4,165.6,352.9,166.3,352.9,167.3,352.8,167.3,352.9,170.2,355.8,170.2,356.0,170.7,356.0,171.1,356.2,171.6,356.9,171.5,357.5,170.6,357.7,170.3,357.9,170.2,357.8,168.6,360.2,165.1,360.6,164.1,361.4,164.2,362.1,164.2,362.6,163.2,363.1,164.0,364.1,163.9,364.4,164.2,366.9,164.2,367.0,164.0,368.7,163.6,369.1,163.6,369.4,163.7,369.4,163.7,369.4,164.3,369.4,165.6,368.6,166.7,368.6,166.8,368.6,167.2,370.3,166.6,370.6,166.6,370.7,166.6,370.7,166.7,370.8,167.8,370.9,168.3,371.4,171.2,373.9,172.8,374.2,172.8,374.4,175.1,378.1,174.0,378.7,174.1,379.4,173.8,380.3,174.6,381.0,174.8,381.5,175.8,381.8,176.5,381.6,176.1,383.9,177.3,386.9,178.4,387.4,179.6,388.6,181.2,389.5,181.7,390.8,181.9,391.8,182.1,391.7,183.3,392.4,184.6,396.0,184.2,399.2,184.4,399.6,184.5,399.6,186.2,403.5,186.9,404.2,188.6,407.1,189.1,408.4,188.6,412.7,189.4,415.8,189.3,415.9,191.4,420.4,194.7,424.6,196.2,425.8,195.9,426.9,196.8,427.1,199.2,430.9,199.1,431.0,198.6,431.5,198.4,431.7,198.5,431.9,198.5,432.0,198.2,433.9,198.0,433.9,198.1,434.1,198.1,436.2,197.3,437.1,197.3,439.9,195.2,441.1,195.0,441.2,193.9,443.9,191.1,444.1];
hxGeomAlgo_HxPoint.EMPTY = hxGeomAlgo_HxPoint._new(NaN,NaN);
hxGeomAlgo_PolyTools.point = hxGeomAlgo_HxPoint._new();
hxGeomAlgo_PolyTools.zero = hxGeomAlgo_HxPoint._new(0,0);
hxGeomAlgo_PolyTools.EPSILON = .00000001;
kitGL_glWeb_AnimateTimer.counter = 0;
trilateral3_nodule_PenNodule.largeEnough = 20000000;
TrilateralLines_main();
})(typeof exports != "undefined" ? exports : typeof window != "undefined" ? window : typeof self != "undefined" ? self : this, typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
